\documentclass[usenames,dvipsnames]{article}

\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{multicol}
\usepackage{amssymb}
\usepackage{mathabx}
\usepackage{accents}
\usepackage[english]{babel}
\usepackage{blindtext}
\usepackage{graphicx}

\usepackage{tikz}
\usepackage{tkz-berge}
\usepackage{tkz-graph}

\usetikzlibrary{patterns,arrows,decorations.pathreplacing}

\usepackage{xcolor}
\definecolor{dblue}{RGB}{20,66,129}
\definecolor{rose}{RGB}{255,101,122}
\definecolor{crimsonred}{RGB}{132,22,23}
\definecolor{darkblue}{RGB}{72,61,139}

\definecolor{deepblue}{RGB}{36,123,160}
\definecolor{deepred}{RGB}{255,22,84}
\definecolor{deeporange}{RGB}{240,111,62}

\definecolor{olive}{rgb}{0.3, 0.4, .1}
\definecolor{fore}{RGB}{249,242,215}
\definecolor{back}{RGB}{51,51,51}
\definecolor{title}{RGB}{255,0,90}
\definecolor{dgreen}{rgb}{0.,0.6,0.}
\definecolor{gold}{rgb}{1.,0.84,0.}
\definecolor{JungleGreen}{cmyk}{0.99,0,0.52,0}
\definecolor{BlueGreen}{cmyk}{0.85,0,0.33,0}
\definecolor{RawSienna}{cmyk}{0,0.72,1,0.45}
\definecolor{Magenta}{cmyk}{0,1,0,0}





\theoremstyle{plain}
\newtheorem{lemma}{Lemma}
\newtheorem{prop}{Proposition}
\newtheorem*{example}{Example}
\newtheorem*{fact}{Fact}
\newtheorem{corollary}{Corollary}

\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{remark}{Remark}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist 

\DeclareMathOperator{\codim}{codim}
\DeclareMathOperator{\lhdim}{\underline{\dim}_{\mathbf{M}}}
\DeclareMathOperator{\lmbdim}{\underline{\dim}_{\mathbf{MB}}}
\DeclareMathOperator{\biggercup}{\mathbin{\bigcup}}%

\title{Fractals Avoiding Fractal Sets}

\author{Jacob Denson\\ \and Malabika Pramanik\\ \and Josh Zahl}

\begin{document}

\maketitle

%\begin{multicols}{2}

\begin{abstract}
	\blindtext[1]
\end{abstract}

% Ergodic Theoretic Connections: Furstenberg Katznelson and Weiss. Ziegler sets of positive density.

Is it true that sets with large fractal dimension unavoidably contain certain patterns? The Lebesgue density theorem implies this is essentially true for sets with positive Lebesgue measure. But the case of fractal dimension is much more interesting. In \cite{KeletiDimOneSet}, a subset of the line with full Hausdorff dimension is obtained avoiding translates. In \cite{Mathe}, a subset of $\mathbf{R}^n$ with dimension $n/2$ such that the set of distances between pairs of points has measure zero, as well as a subset of dimension $n/4$ such that no triple of points generate the angle $\pi/3$. In this paper, we focus on finding general methods for finding high dimensional sets avoiding arbitrary configurations. More precisely, we construct high dimensional sets avoiding `low dimensional' patterns. The sets we construct have large Hausdorff dimension, and the patterns have low modified box counting dimension.

%n $n$ point configuration can be identified with a subset $Z$ of $(\mathbf{R}^d)^n$ such that $(x_1, \dots, x_n) \in Z$ if and only if $x_1, \dots, x_n$ are arranged in the configuration. For instance, we identify the 3 point configuration determining the vertices of an isoceles triangle with $\{ (x_1,x_2,x_3) \in (\mathbf{R}^d)^3 : d(x_1,x_3) = d(x_2,x_3) \}$. Thus the fractal dimension of the configuration can be definied as the dimension of the set $Z$.

%
%Ramsey theory says large structures contain arbitrary patterns. It is interesting to apply the principle in the continuum setting, to compare and contrast the phenomena that occurs when we switch to more analytical problems. For instance, the principle suggests large subsets of the plane contain vertices of an isosceles triangle. And Lebesgue's density theorem shows this for any set of positive measure. Hausdorff dimension provides a finer tuned notion of size then measure. So we can increase the difficulty of the problem by asking what dimension a set must be to guarantee isosceles triangles. More generally, we consider the smallest dimension required to guarantee other point configurations.
%


%we provide methods to construct high dimensional sets avoiding configurations, thus providing lower bounds on the problem. One difficulty to avoiding isosceles triangles is that they occur in arbitrarily small sets of space. This paper quantifies this phenomenon in terms of the relative `sparsity', or `dimension' of a configuration. Stated precisely, we construct high dimensional sets avoiding sparse configurations.

\begin{theorem}
	Suppose $\underline{\dim_{\mathbf{MB}}}(Z) < \alpha$. Then there exists a set $X \subset [0,1]^d$ with
	%
	\[ \dim_{\mathbf{H}}(X) = \min \left( \frac{nd - \alpha}{n-1}, d \right), \]
	%
	such that if $x_1, \dots, x_n$ are distinct points in $X$, $(x_1, \dots, x_n) \not \in Z$.
\end{theorem}

\begin{remark}
	We can allow $\underline{\dim_{\mathbf{MB}}}(Z) = \alpha$, provided that the infinum in the definition of the box counting dimension is actually attained by some cover of $Z$, i.e. $Z$ is covered by countably many sets with lower Minkowski dimension no greater than $\alpha$.
\end{remark}

There are already generic pattern avoidance methods in the literature. But they rely on the assumption that $Z$ is a smooth manifold, or an algebraic hypersurface. The novel feature of our method is that we focus on how the fractal dimension of the configuration is exploitable. We are therefore able to find sets avoiding configurations specified by arbitrarily irregular $Z$. Meanwhile, the Hausdorff dimension of $X$ is competitive in relation to results obtained by more restricted techniques, and even recovers a selection of the avoidance results as special cases. We compare our method to other generic pattern avoidance methods in Section 6.

The key idea to avoiding sparse configurations is a random mass equidistribution strategy. This occurs primarily in Section 2, when we solve a discrete variant of the problem by finding a set minimizing the number of intersections with a discrete variant of $Z$. Finding an absolute minimizer to this problem is tricky, but a random set has a small number of intersections, which suffices for our purposes. By overlaying the solution to the discretized problems at a sequence of scales, we obtain $X$ as a Cantor-type set, at the end of Section 3. Exploiting the equidistribution of mass at discrete scales, in Section 4, we are able to show the set $X$ has the required Hausdorff dimension regardless of how fast our sequence of scales decay. This technique occurs implicitly in at least one other Hausdorff dimension calculation in the literature, e.g. \cite{MalabikaRob}. But we do not believe equidistribution has been explicitly identified as a method to balance offsets from a rapid decay of scales in a Cantor set construction.

%\section{A Fractal Avoidance Framework}

%One way to think about generic pattern avoidance methods is to specify the pattern as the zero set of a function. For example,
%
%\begin{itemize}
%	\item A set $X \subset \mathbf{R}$ contains no three term arithmetic progressions if and only if for any distinct $x,y,z \in X$,
	%
%	\[ f(x,y,z) = x + z - 2y \neq 0  \]
	%
%	This function vanishes if and only if there exists $b$ and $t$ such that $x = b$, $y = b+t$, and $z = b+2t$.

%	\item A set $X \subset \mathbf{R}^d$ contains the vertices of no isosceles triangles if and only if for any three distinct $x,y,z \in X$,
	%
%	\[ f(x,y,z) = d(x,y) - d(y,z) \neq 0 \]
	%
%	If $f(x,y,z) = 0$, then the line segments $xy$ and $zy$ form the legs of the isoceles triangle.
	%The problem of avoiding this function is similar to the last example, since isosceles triangles are planar variants of three term arithmetic progressions.

%	\item A set $X \subset \mathbf{R}^d$ does not contain a family of angles $\{ \alpha \}$ if and only if for any distinct $x,y,z \in X$, and $\alpha$,
	%
%	\[ f(x,y,z) = \frac{(x - z) \cdot (y - z)}{|x - z||y - z|} \neq \cos(\alpha) \]
	%
%	where the cosine formula for the dot product is used.

%	\item A set $X \subset \mathbf{R}^d$ does not contain $d+1$ points in a lower dimensional hyperplane if and only if for any distinct $x_0, \dots, x_d \in X$,
	%
%	\[ f(x_0, \dots, x_d) = \det(x_1 - x_0, \dots, x_d - x_0) \neq 0 \]
	%
%	If $\det(x_1 - x_0, \dots, x_d - x_0) = 0$, the vectors $x_1 - x_0, \dots, x_d - x_0$ are not linearly independent, and thus span a plane of dimension smaller than $d$.
%\end{itemize}
%
%This method of description is summarized by a general framework.

%\begin{changemargin}{0.5em}{0em}
%{\bf The Configuration Avoidance Problem:} Given a function $f: (\mathbf{R}^d)^n \to \mathbf{R}$, find $X \subset \mathbf{R}^d$ such that for any {\it distinct} $x_1, \dots, x_n \in X$, $f(x_1, \dots, x_n) \neq 0$, with as high a Hausdorff dimension as possible.
%\end{changemargin}

%The functional framework is common in the literature. For instance, it is the viewpoint behind the methods of \cite{MalabikaRob} and \cite{Mathe}, who give results assuming various regularity conditions on the function $f$. Here, we take the perspective that $f$ gives extraneous information irrelevant to the problem at hand. It's real importance is suggesting geometric properties of the zero set $Z$. Once $Z$ is taken as the primary object to study, the configuration avoidance problem becomes equivalent to another framework. It is the viewpoint of this paper that this framework is more flexible to work with, and thinking in terms of this framework leads to new general avoidance methods.

%\begin{changemargin}{0.5em}{0em}
%	{\bf The Fractal Avoidance Problem:} Given $Z \subset (\mathbf{R}^d)^n$, find $X \subset \mathbf{R}^d$ such that if $x_1, \dots, x_n \in X$ are {\it distinct}, $(x_1, \dots, x_n) \not \in Z$, with as high a Hausdorff dimension as possible.
%\end{changemargin}

%As is suggested by the fact that only the Cartesian product of distinct values of $x_1, \dots, x_n \in X$ are required to avoid $Z$, the diagonal set $\Delta$ of points $(x_1, \dots, x_n) \in (\mathbf{R}^d)^n$ such that $x_i = x_j$ for some $i \neq j$ plays a crucial role in the problem. If a point in $\Delta$ has a neighbourhood not intersecting $Z$, then by placing $X^n$ in this neighbourhood we find a full dimensional solution to the fractal avoidance problem. So in order for the problem to be nontrivial, $Z$ must be dense in a neighbourhood of $\Delta$. The structure of $Z$ around $\Delta$ therefore plays a major part in finding solutions to the fractal avoidance problem.

%We are free to pick any subset of $X$ we want. Because Hausdorff dimension is a local property of the set, we can always assume $X$ lies in a bounded region of space. Once this region is fixed, only a bounded portion of $Z$ could ever intersect $X^n$, allowing us to use compactness arguments. This is necessary to our method, and because of this, we work with a local version of the fractal avoidance framework, to which the general fractal avoidance problem can always be reduced by fixing a region, and changing coordinates.

%\begin{changemargin}{0.5em}{0em}
%	{\bf The Local Fractal Avoidance Problem:} Given $Z \subset ([0,1]^d)^n$, find $X \subset [0,1]^d$ such that if $x_1, \dots, x_n \in X$ are {\it distinct}, $(x_1, \dots, x_n) \not \in Z$.
%\end{changemargin}

%Since we are the first to introduce the fractal avoidance problem, a natural goal is to solve the general problem with minimal assumptions on $Z$. Here the only restriction we place on $Z$ is it's fractal dimension. Here we use the {\it lower Minkowski dimension} of a compact set $E$, defined as
%
%\[ \lhdim(E) = \liminf_{L \to 0} \frac{\log |\mathcal{B}(E,L)|}{\log(1/L)} \]
%
%Thus there is $L_k \to 0$ with $|\mathcal{B}(E,L_k)| = (1/L_k)^{\lhdim(E) + o(1)}$

%\begin{theorem}
%	If $Z$ is the countable union of sets with lower Minkowski dimension upper bounded by $\alpha$, with $\alpha \geq d$, then there is $X$ solving the local fractal avoidance problem for $Z$ with
	%
%	\[ \dim_{\mathbf{H}}(X) = \frac{dn - \alpha}{n - 1} = \frac{\codim_{\mathbf{H}}(Z)}{n - 1} \]
	%
	%See section 2 for a precise definition of lower Minkowski dimension we use.
%	One can view $dn - \alpha$ as the fractal codimension of $Z$ in $(\mathbf{R}^d)^n$.
%\end{theorem}

%\begin{remark}
%	If $Z$ is the union of sets with dimension $\alpha < d$, the set obtained from $[0,1]^d$ by removing the projections of $Z$ onto each coordinate has full Hausdorff dimension and trivially solves the local fractal avoidance problem. Thus we need not consider these parameters in our theorem.
%\end{remark}

%The aim of the theorem is to explore a general method for solving configuration avoidance problems. For particular configurations, it is highly likely that additional geometric features can be exploited to obtain avoiding sets with a much larger Hausdorff dimension. But our goal is not to find tight results for particular configurations. Instead, we want to show how much a single geometric feature of the configuration, in this case a bound on the dimension of the set $Z$, can be exploited. Other general results focus on other geometric features of the problem. For instance, the method of \cite{Mathe} explores what happens when $Z$ is a low dimensional algebraic variety. As more and more methods are revealed which exploit various features of the problem, we will be able to obtain tight results for particular configurations with ease, by synthesizing various approaches which exploit the most important geometric features of the configuration.

\section{Notation and Terminology}

\begin{itemize}
	\item For a length $L$, $\mathcal{B}^d(L)$ denotes the family of all half open cubes in $\mathbf{R}^d$ with sidelength $L$ and corners on the lattice $(L \cdot \mathbf{Z})^d$. That is,
	%
	\[ \mathcal{B}^d(L) = \{ [a_1,a_1 + L) \times \dots \times [a_d, a_d + L) : a_i \in L \cdot \mathbf{Z} \}. \]
	%
	If $E \subset \mathbf{R}^d$, $\mathcal{B}^d(L,E)$ is the family of cubes in $\mathcal{B}^d(L)$ intersecting $E$, i.e.
	%
	\[\mathcal{B}^d(L,E) = \{ I \in \mathcal{B}^d(L): I \cap E \neq \emptyset \}. \]

	\item The {\it lower Minkowski dimension} of a compact set $E \subset \mathbf{R}^d$ is
	%
	\[ \lhdim(E) = \liminf_{L \to 0} \frac{\log( \#( \mathcal{B}^d(E,L) ) )}{\log(1/L)}. \]
	%
	Thus there is $L_k \to 0$ with $\# ( \mathcal{B}^d(L_k,E) ) = (1/L_k)^{\lhdim(E) + o(1)}$.

%	\item The {\it lower modified box counting dimension} of a set $E$ is
	%
%	\[ \lmbdim(E) = \inf \left\{ \sup \left( \lhdim(E_i) \right): E = \bigcup E_i \right\} \]
	%
%	Thus $E$ is covered by countably many sets $U_k$ with with lower Minkowski dimension upper bounded by $\lmbdim(E)$.

	\item Adopting the terminology of \cite{KatzTao}, we say a collection of sets $U_1, U_2, \dots$ is a {\it strong cover} of some set $E$ if $E \subset \limsup U_k$, which means every element of $E$ is contained in infinitely many of the sets $U_k$.

	\item Given a cube $I \in \mathcal{B}^{dn}(L)$, there are unique cubes $I_1, \dots, I_n \in \mathcal{B}^d(L)$ such that $I = I_1 \times \dots \times I_n$. We say $I$ is {\it non diagonal} if $I_1, \dots, I_n$ are distinct.
\end{itemize}

\section{Avoidance at Discrete Scales}

We avoid $Z$ by considering an infinite sequence of scales. At each scale, we solve a discretized version of the problem, and combining these solutions gives a solution to the original problem. This section describes the discretized avoidance technique. The technique is the {\it core} part of our construction, and the Hausdorff dimension we achieve is a direct result of our success in the discrete setting.

Fix two dyadic sidelengths $L > S$. In the discrete setting, $Z$ is replaced by a union of sidelength $S$ cubes, denoted $K$. Our goal is to take a set $E$, which is a union of sidelength $L$ cubes, and carve out a union of sidelength $S$ cubes $F$ such that $F^n$ is disjoint from the non-diagonal cubes of $K$.

In order to ensure the Hausdorff dimension calculations of $X$ go smoothly, it is crucial in the discrete setting that the mass of $F$ is spread uniformly over $E$. We can achieve this by trying to include a equal portion of mass in each sidelength $R$ subcube of $E$, for some intermediary scale $L > R > S$. The next lemma shows that we can select a equal portion of mass from {\it almost} all of the sidelength $R$ cubes.

\begin{figure}[t]
	\centering
    \begin{tikzpicture}[scale=4] %% Change scaling as needed
        \draw [|-]  (0,0) -- (1/4,0);
		\draw (0,0) -- (1,0);
        \draw [-|] (3/4,0) -- (1,0);% node [anchor = south west] {$E$};

        \foreach \x in {1,2,3}
        	\draw (\x/4,-0.5pt) -- (\x/4,0.5pt);

        \foreach \x in {0,1,3}
    		\draw[darkblue, very thick] (\x/4+0.001,0) -- (\x/4 + 1/4-0.001,0);




        \draw [|-]  (0,-0.2) -- (1/4,-0.2);
        \draw (0,-0.2) -- (1,-0.2);
        \draw [-|] (6/7,-0.2) -- (1,-0.2);% node [anchor = north west] {$F$};

        \foreach \x in {1,...,15}
            \draw (\x/16,-0.2-0.005) -- (\x/16,-0.2+0.005);

        \foreach \x in {1,...,7}
            \draw (\x/8,-0.2-0.02) -- (\x/8,-0.2+0.02);

        \foreach \x in {1,2,6,12,15}
            \draw[SkyBlue, very thick] (\x/16+0.001,-0.2) -- (\x/16 + 1/16 - 0.001,-0.2);








        \draw [|-]  (-0.2,-0.4) -- ++(0,-0.01);
        \draw (-0.2,-0.4) -- (-0.2,-1.4);
        \draw [-|] (-0.2,-1.38) -- (-0.2,-1.4);% node [anchor = north east] {$F$};

        \foreach \x in {1,...,15}
            \draw (-0.2-0.005,-0.4-\x/16) -- (-0.2+0.005,-0.4 -\x/16);

        \foreach \x in {1,...,7}
            \draw (-0.2-0.02,-0.4-\x/8) -- (-0.2+0.02,-0.4-\x/8);

        \foreach \x in {1,2,6,12,15}
        	\draw[SkyBlue, very thick] (-0.2,-0.4-\x/16-0.001) -- (-0.2,-0.4-\x/16-1/16+0.001);





        \draw[dashed] (0,-0.4) -- (1,-0.4) -- (1,-1.4) -- (0,-1.4) -- (0,-0.4);

        \foreach \x in {1,2,6,12,15}
        	\foreach \y in {1,2,6,12,15}
        		\draw[fill=SkyBlue] (\x/16,-0.4 - \y/16) -- ++(0,-1/16) -- ++ (1/16,0) -- ++(0,1/16) -- ++(-1/16,0);

        \foreach \x in {1,2,6,12,15}
        	\draw[fill=white] (\x/16,-0.4 - \x/16) -- ++(0,-1/16) -- ++ (1/16,0) -- ++(0,1/16) -- ++(-1/16,0);

        \foreach \x/\y in {4/4, 5/4, 6/4, 7/5, 8/5, 9/5, 10/5, 5/6, 6/6,7/6,8/6,9/6, 6/7, 7/7, 8/7, 10/7, 3/8, 4/8, 5/8, 6/8, 8/8, 9/8, 11/8, 4/9, 5/9, 6/9, 9/9, 11/9, 12/9, 4/11, 8/11, 9/11, 10/11, 9/12}
        	\draw[fill=crimsonred] (\x/16,-0.4 - \y/16) -- ++(0,-1/16) -- ++ (1/16,0) -- ++(0,1/16) -- ++(-1/16,0);







            \draw [darkblue, very thick] (1.1,-0.6) -- (1.3,-0.6);
%            \foreach \x in {1.1, 1.3}
%                \draw (\x,-0.6 - 0.01) -- (\x,-0.6 + 0.01);
            \draw (1.35,-0.6) node [anchor = west] {$E$};

            \draw [SkyBlue, very thick] (1.1,-0.7) -- (1.3,-0.7);
%            \foreach \x in {1.1,1.3}
%                \draw (\x,-0.7 - 0.01) -- (\x, -0.7 + 0.01);
            \draw (1.35,-0.7) node [anchor = west] {$F$};

            \draw [crimsonred, very thick] (1.1,-0.8) -- (1.3,-0.8);
%            \foreach \x in {1.1,1.3}
%                \draw (\x,-0.8 - 0.01) -- (\x, -0.8 + 0.01);
            \draw (1.35,-0.8) node [anchor = west] {$K$};

            \draw (1.1,-1.1) -- (1.3,-1.1);
            \foreach \x in {1.1, 1.3}
                \draw (\x,-1.1 - 0.01) -- (\x,-1.1 + 0.01);
            \draw (1.35,-1.1) node [anchor = west] {$L$};

            \draw (1.1,-1.2) -- (1.2,-1.2);
            \foreach \x in {1.1, 1.2}
                \draw (\x,-1.2 - 0.01) -- (\x,-1.2 + 0.01);
            \draw (1.35,-1.2) node [anchor = west] {$R$};

            \draw (1.1,-1.3) -- (1.15,-1.3);
            \foreach \x in {1.1, 1.15}
                \draw (\x,-1.3 - 0.01) -- (\x,-1.3 + 0.01);
            \draw (1.35,-1.3) node [anchor = west] {$S$};
	\end{tikzpicture}
	\caption{An example choice of $F$ satisfying the Lemma below, where $d = 1$ and $n = 2$. $F$ satisfies the non-concentration and avoidance property, as well as containing an interval from all but 3 of the intervals in $\mathcal{B}(E,R)$. The white boxes indicate diagonal boxes in $F^2$, which are irrelevant to the avoidance property.}
\end{figure}

\begin{lemma}
	Fix three dyadic lengths $L > R > S$. Let $E$ be a union of cubes in $\mathcal{B}^d(L)$, and $K$ a union of cubes in $\mathcal{B}^{dn}(S)$. Then there exists $F \subset E$, which is a union of cubes in $\mathcal{B}^d(S)$, such that
	%
	\begin{enumerate}
		\item[(a)] \emph{Avoidance:}  For any distinct $I_1, \dots, I_n \in \mathcal{B}^d(S,F)$, $I_1 \times \dots \times I_n \not \in \mathcal{B}^{dn}(S,K)$.
		\item[(b)] \emph{Non Concentration:} $\mathcal{B}^d(S,F)$ contains at most one subcube of each cube in $\mathcal{B}^d(S,E)$.
		\item[(c)] \emph{Equidistribution:} $\mathcal{B}^d(R,E)$ contains a subcube from all but at most $|K| R^{-dn}$ of the cubes in $\mathcal{B}^d(R,E)$.
	\end{enumerate}

	% THEN WE CAN DISCUSS THESE e.g. "F INHERITS NONCONCENTRATION FROM E".
\end{lemma}
\begin{proof}
	Form a random set $U$ by selecting a sidelength $S$ cube from each sidelength $R$ cube uniformly at random. More precisely, set
	%
	\[ U = \bigcup\; \{ J_I: I \in \mathcal{B}^d(R,E) \}, \]
	%
	where $J_I$ is an element selected uniformly randomly from $\mathcal{B}^d(S,I)$. $U$ certainly satisfies the equidistribution and non-concentration properties, but not the avoidance property. We will show that with non-zero probability, we can obtain the avoidance property by removing at most $|K|R^{-dn}$ cubes from $U$.

	For any $J \in \mathcal{B}^d(S,E)$, there is a unique $I \in \mathcal{B}^d(L,E)$ such that $J \subset I$. Then
	%
	\[ \mathbf{P}(J \subset U) = \mathbf{P}(J_I = J) = (S/R)^d. \]
	%
	Since any two elements of $\mathcal{B}^d(S,U)$ lie in distinct cubes of $\mathcal{B}^d(R)$, the only chance that a {\it non-diagonal} cube $J$ in $\mathcal{B}^{dn}(S,K)$ is a subset of $U^n$ is if $J_1, \dots J_n$ all lie in separate cubes of $\mathcal{B}^d(R)$. They each have an independent chance of being added to $U$, and so
	%
	\begin{align*}
		\mathbf{P}(J \subset U^n) &= \mathbf{P}(J_1 \subset U) \cdots \mathbf{P}(J_n \subset U) = (S/R)^{dn}.
	\end{align*}
	%
	If $\mathcal{J}$ denotes the family of all non-diagonal cubes of $\mathcal{B}^{dn}(S,K)$ contained in $U^n$, then, letting $J$ range over the non-diagonal cubes of $\mathcal{B}^{dn}(S,K)$, we find
	%
	\begin{align*}
		\mathbf{E}(\# (\mathcal{J})) &= {\sum}_J\; \mathbf{P}(J \subset U^n) \leq |\mathcal{B}^{dn}(S,K)| (S/R)^{dn} = |K| R^{-dn}.
	\end{align*}
	%
	In particular, this means that out of all possible outcomes for the set $U$, there is at least one {\it particular} $U_0$ we can choose for which the corresponding set of cubes $\mathcal{I}_0$ satisfies $\#(\mathcal{I}_0) \leq \mathbf{E}(\mathcal{I}) = |\mathcal{B}^{dn}(S,K)| (S/R)^{dn} = |K| R^{-dn}$.

	%TODO: ADD A LITTLE BIT MORE EXPOSITION ABOUT THE PROJECTION.
	We now define $F = U_0 - \{ I_1 : I \in \mathcal{I}_0 \}$. As a subset of $U_0$, $F$ inherits the non-concentration property. We have removed at most $|K| R^{-dn}$ cubes from $U_0$, and since $U_0$ contains an cube from {\it every} cube in $\mathcal{B}^d(R,E)$, $F$ satisfies the equidistribution property. Finally, since we have removed a single side from every non-diagonal cube in $U_0^n$ intersecting $K$, $F$ satisfies the avoidance property. So our construction is complete.
\end{proof}

\begin{remark}
	Our construction here uses randomness to count the average number of intersections with $K$. Nonetheless, the set $F$ we find is explicitly non-random; it is a set whose existence can be obtained by purely constructive means, and a constructive solution can be found by iterating through the finitely many possible choices of $F$ satisfying the avoidance and non-concentration properties. This means the set $X$ we obtain is explicit. It is not a random object.
\end{remark}

If $Z$ has dimension $\alpha$, we will find $|K| \leq 2^{dn} S^{dn-\gamma}$ for values $\gamma$ convering to $\alpha$ as $S \to 0$. We also set $R$ to be the closest dyadic number to $S^\lambda$ for some $\lambda \in (0,1)$. The size of $\lambda$ is directly related to the Hausdorff dimension of our theorem (the larger the better!). The next corollary calculates how large $\lambda$ can be if $F$ must be equidistributed over a constant fraction of cubes in $\mathcal{B}^d(R,E)$. The error term $5A \log_S |E|$ will be made insignificant by the rapid decay of $S$ in our construction.

\begin{corollary}
	Consider the last lemma's setup, in addition to three additional parameters $\lambda \in (0,1]$, $\gamma \in [d,dn)$, and $A$ is a positive integer. Suppose $R = 2^{- \lfloor \lambda \log_2(1/S) \rfloor}$, $|E| \leq 1/2$, and $|K| \leq 2^{dn} S^{dn-\gamma}$. If
	%
	% TODO: EXPLICITLY SAY R IS 1/2^n for smallest n less than S^\lambda
	\[ 0 < \lambda \leq \frac{dn - \gamma}{d(n-1)} - 5 A \log_S |E|\; , \]
	%
	% TODO: STATE THAT WHAT WAS THE BIG O() TERM IS AN ERROR.
	then $F$ is equidistributed over all but a fraction $1/2^A$ of the cubes in $\mathcal{B}^d(R,E)$.
\end{corollary}
\begin{proof}
	The inequality for $\lambda$ implies
	%
	\begin{align*}
		dn - \gamma - \lambda d(n-1) &\geq 5d(n-1) A \log_S |E|.
	\end{align*}
	%
	Since $R$ is within a factor of two from $S^\lambda$, we compute
	%
	\begin{align*}
		&\frac{|\{ I \in \mathcal{B}^d(R,E): \mathcal{B}^d(S,I) \cap \mathcal{B}^d(S,F) = \emptyset \}|}{|\mathcal{B}^d(R,E)|} \leq \frac{|K| R^{-dn}}{|E|R^{-d}}\\
		&\ \ \ \ \ \leq (2^{dn} S^{dn - \gamma}) |E|^{-1} R^{-d(n-1)}\\
		&\ \ \ \ \ \leq 2^{dn} |E|^{-1} S^{dn - \gamma} (S/2)^{- \lambda d(n-1)}\\
		&\ \ \ \ \ \leq 2^{dn + \lambda d(n-1)} |E|^{5d(n-1)A - 1}\\
		&\ \ \ \ \ \leq 2^{dn + d(n-1) - (5d(n-1)A - 1)} \leq 1/2^A.
	\end{align*}
	%
	The last inequality was obtained because $n \geq 2$, $d \geq 1$, and $A \geq 1$, so
	%
	\begin{align*}
		[dn + &d(n-1) - (5d(n-1)A - 1)] + A\\
		&\ \ \ \ \ \leq 2dn + 1 - d + (1 - 5d(n-1)) A\\
		&\ \ \ \ \ \leq 2dn + (1 - 5d(n-1))\\
		&\ \ \ \ \ \leq 5d-3dn + 1 \leq 0.
	\end{align*}
	%
	Thus $dn + d(n-1) - (5d(n-1)A - 1) \leq -A$.
%	The last inequality was obtained by picking the $O(A) \geq 2d A$, which is equivalent to making the $O(A \log_S |E|)$ term in the statement of the corollary on the order of $2d A \log_S |E|$.
\end{proof}

\begin{remark}
	As mentioned, this discrete lemma is the core of our avoidance technique. The remaining argument is fairly modular, and can be applied with any other discrete avoidance technique to yield a solution to the fractal avoidance problem. Indeed, the remainder of our paper was inspired by the construction method of \cite{MalabikaRob}. If for a special case of $Z$, one can improve the lemma so fewer cubes are discarded, then one can apply the remaining parts of our paper near verbatim to yield a set $X$ with a larger Hausdorff dimension. For instance, a variation on the argument in \cite{Mathe} shows that if $Z$ is a degree $m$ algebraic hypersurface, and $K = \mathcal{B}^{dn}(L,Z)$, then a different strategy at the discrete scale allows us to set $\lambda \approx 1/m$. Following through the remainder of the proof replicates Mathe's result.
\end{remark}

\section{Fractal Discretization}

Now we apply the discrete technique we just described to obtain an actual fractal avoidance set. The fact that $Z$ is the countable union of compact sets with Minkowski dimension $\alpha$ implies that we can find an efficient {\it strong cover} of $Z$ by cubes restricted to lie at a sequence of dyadic scales $L_k$ converging to zero arbitrarily fast.

\begin{lemma}
	Let $Z \subset \mathbf{R}^{dn}$ be a countable union of compact sets, each with lower Minkowski dimension at most $\alpha$, and consider any positive sequence $\varepsilon_k$ converging to zero. Then there is a decreasing sequence of lengths $L_1, L_2, \dots$, and $\mathcal{B}^{dn}(L_k)$ sets $Z_k$ such that $Z$ is strongly covered by the sets $Z_k$ and $|\mathcal{B}(Z_k, L_k)| \leq 2^{dn}/L_k^{\alpha + \varepsilon_k}$.
\end{lemma}
\begin{proof}
	Let $Z$ be the union of sets $Y_i$ with $\lhdim(Y_i) \leq \alpha$ for each $i$. Consider any sequence of integers $m_1, m_2, \dots$which repeats each integer infinitely often. Given $k$, there are infinitely many lengths $L$ with $\#(\mathcal{B}^{dn}(L,Y_{m_k})) \leq 1/L^{\alpha + \varepsilon_k}$. Replacing $L$ with a dyadic number at most twice the size of $L$, there are infinitely many {\it dyadic} lengths $L$ with $\# (\mathcal{B}^{dn}(L,Y_{m_k})) \leq 1/(L/2)^{\alpha + \varepsilon_k} \leq 2^{dn}/L^{\alpha + \varepsilon_k}$. In particular, we may fix a length $L_k$ smaller than $L_1, \dots, L_{k-1}$. Then the union of the cubes in $\mathcal{B}^{dn}(L_k,Y_{m_k})$ forms the set $Z_k$.
\end{proof}

\begin{remark}
	In the proof, we are free to make $L_k$ arbitrarily small in relation to the previous parameters $L_1, \dots, L_{k-1}$ we have chosen. For instance, later on when calculating the Hausdorff dimension, we will assume that $L_{k+1} \leq L_k^{k^2}$, and the argument above can be easily modified to incorporate this inequality.
\end{remark}

We can now construct $X$ by avoiding the various discretizations of $Z$ at each scale. The aim is to find a nested decreasing family of discretized sets $X_k$ with $X = \lim X_k$. One condition guaranteeing that $X$ solves the fractal avoidance problem is that $X_k^n$ is disjoint from {\it non diagonal} cubes in $Z_k$.

\begin{lemma}
	If for each $k$, $X_k^n$ avoids non-diagonal cubes in $Z_k$, then $X$ solves the fractal avoidance problem for $Z$.
\end{lemma}
\begin{proof}
	Let $z \in Z$ be given with $z_1, \dots, z_n$ are distinct. Set
	%
	\[ \Delta = \{ w \in (\mathbf{R}^d)^n : \text{there exists}\ i,j\ \text{such that}\ w_i = w_j \}. \]
	%
	Then $d(\Delta,z) > 0$. The point $z$ is covered by cubes in infinitely many of collections $Z_{k_m}$. For suitably large $N$, the cube $I$ in $\mathcal{B}^{dn}(L_{k_N})$ containing $z$ is disjoint from $\Delta$. But this means that $I$ is non diagonal, and so $z \not \in X_N^d$. In particular, $z$ is not an element of $X^n$.
\end{proof}

It is now simple to see how we must work at the discrete scales. First, we see $X_0 = [0,1/2]^d$, so that $|X_0| \leq 1/2$. To obtain $X_{k+1}$ from $X_k$, we apply the discrete argument. We set $E = X_k$ and $W = Z_{k+1}$, with scales $L = L_k$ and $S = L_{k+1}$. We know that we can choose $\gamma = \alpha + \varepsilon_k$, and also pick $R = R_{k+1}$ the closest dyadic number to $L_{k+1}^\lambda$, where
%
\[ \lambda = \beta_{k+1} = \frac{dn - \alpha}{d(n-1)} - \frac{\varepsilon_{k+1}}{d(n-1)} - 10(k+1) \log_{L_{k+1}} |X_k|. \]
%
The discrete lemma then constructs a set $F$ with $F^n$ avoiding non diagonal cubes in $Z_{k+1}$, and containing a $\mathcal{B}^d(L_{k+1})$ subcube from all but a fraction $1/2^{2k +2}$ of the $\mathcal{B}^d(R_{k+1})$ cubes in $I$. We set $X_{k+1} = F$. Repeatedly doing this builds an infinite sequence of the $X_k$. Since $X_k^n$ avoids $Z_k$, $X$ is a solution to the fractal avoidance problem.

%\section{Construction of Avoiding Set}

%To construct a set $X$ solving the fractal avoidance problem, we fix a decreasing series of dyadic scales $L_1, L_2, \dots$, which enable us to discretize the problem. We will specify the exact values of these scales later. The fact that $Z$ has Minkowski dimension $\alpha$ implies that we can find a strong cover of $Z$ by sets of the appropriate size.

%Given this setup, we construct a decreasing nested family of discretized sets $X_N$, with $X = \lim X_N$. One condition that guarantees that $X$ solves the fractal avoidance problem is that $X_N^n$ is disjoint from {\it non diagonal} cubes in $Z_N$. By a non-diagonal cube, we mean a cube $I \subset \mathcal{B}(L_N,dn)$ such that the projections $I_i \in \mathcal{B}(L_N,d)$ onto the $d$ dimensional coordinate axis of $(\mathbf{R}^d)^n$ are distinct.

%As an initial set, for lack of an interesting choice, we let $X_0 = [0,1]^d$. Given $X_{N-1}$, we define $X_N$ recursively. To do this, we apply the discrete corollary of the last section. The parameters we use are $I = X_{N-1}$, $K = Z_N$, $L = L_{N-1}$, $S = L_N$, and $R$ the closest dyadic number to $L_N^{\beta_N}$, which from now on we denote by $R_N$. The exponent $\beta_N$ is defined as
%
%\[ \frac{dn - \alpha - \varepsilon_N - \log_{L_N} |X_{N-1}| - \log_{L_N}(O(1/2^{2N+2}))}{(n-1)d} \]
%
%For suitably small choices of $L_N$ relative to $|X_{N-1}|$, $0 < \beta_N < 1$. Furthermore, Thus the discrete corollary we described in the last section constructs a set $J$ avoiding nondiagonal cubes in $\mathcal{Z}_N$, and containing a sidelength $L_N$ portion from all but a fraction $1/2^{2N+2}$ of the $\mathcal{B}(R_N)$ cubes in $X_N$. Naturally, we set $X_N = J$. The resulting $X = \lim X_N$ is therefore a solution to the fractal avoidance problem.

\section{Dimension Bounds}

We now show that the set $X$ has the expected Hausdorff dimension we need. At the discrete scale $L_k$, $X$ looks like a $d \beta_k$ dimensional set. If the lengths $L_k$ rapidly converge to zero, then we can ensure $\beta_k \to \beta$, where
%
\[ \beta = \frac{dn - \alpha}{d(n - 1)}. \]
%
Then, in the limit $X$ looks $d \beta$ dimensional on the discrete scales, which is the Hausdorff dimension we want. It then suffices to interpolate this result to get a $d\beta$ dimensional behaviour at all intermediary scales. We won't be penalized here by making the gaps between discrete scales too large, because the uniform way that we have selected cubes in consecutive scales implies that between the scales $L_k$ and $L_{k+1}^\beta$, $X$ behaves like a full dimensional set. The remainder of this section fills in the details to this argument.

\begin{lemma}
	$\beta_k \to \beta$.
\end{lemma}
\begin{proof}
	It suffices to show that the error terms in $\beta_k$ become neglible over time. Namely, we must show
	%
	\[ \frac{\varepsilon_{k+1}}{d(n-1)} + 10(k+1) \log_{L_{k+1}} |X_k| = o(1). \]
	%
	Since $\varepsilon_{k+1} \to 0$, the term corresponding to it converges to zero for free. On the other hand, we need the lengths to tend to zero rapidly to make the other error term decay to zero. Since $L_{k+1} \leq L_k^{k^2}$, we find
	%
	\[ (k+1) \log_{L_{k+1}} |X_k| \leq \frac{(k+1) \log L_k}{\log L_{k+1}} \leq \frac{(k+1) \log L_k}{k^2 \log L_k} = \frac{k+1}{k^2} = O(1/k). \]
	%
	Thus both components of the error term converge to zero as $k \to \infty$.
\end{proof}

The most convenient way to look at the dimension of $X$ at various scales is to use Frostman's lemma. To understand the behaviour of $X$, we construct a non-zero measure $\mu$ supported on $X$ such that for all $\varepsilon > 0$, for all lengths $L$, and for all $I \in \mathcal{B}^d(L)$, $\mu(I) \lesssim_\varepsilon L^{d\beta - \varepsilon}$. We can then understand the behaviour of $X$ at the scale $L$ by looking at $\mu$'s behaviour when restricted to cubes at the particular scale $L$.

To construct a measure $\mu$ naturally reflecting the dimension of $X$, we rely on a variant of the mass distribution principle. This means we take a sequence of measures $\mu_k$, supported on $X_k$, and then take a weak limit to form a measure $\mu$. We initialize this construction by setting $\mu_0$ to be the uniform measure on $X_0 = [0,1/2]^d$. We then define $\mu_{k+1}$, supported on $X_{k+1}$, by modifying the distribution of $\mu_k$. First, we throw away the mass of the $\mathcal{B}^d(L_k)$ cubes $I$ for which half of the elements of $\mathcal{B}^d(I,R_{k+1})$ fail to contain a part of $X_{k+1}$. We note that this happens for so few cubes that little mass is lost even over compounded values of $k$. For the cubes $I$ with more than half of the cubes $\mathcal{B}^d(I,R_{k+1})$ containing a part of $X_{k+1}$, we distribute the mass of $\mu_k(I)$ uniformly over the subcubes of $I$ in $X_{k+1}$. This gives a mass function $\mu_{k+1}$. It is easy to see from the cumulative distribution functions of the $\mu_k$ that these measures converge to a function $\mu$ such that for any $I \in \mathcal{B}^d(L_k)$, $\mu(I) \leq \mu_k(I)$, which is useful for passing from bounds on the discrete measures to bounds on the final measure.

\begin{lemma}
	If $I \in \mathcal{B}^d(L_k)$, then
	%
	\[ \mu(I) \leq \mu_k(I) \leq 2^k \left[ \frac{R_k R_{k-1} \dots R_1}{L_{k-1} \dots L_1} \right]^d. \]
\end{lemma}
\begin{proof}
	Consider $I \in \mathcal{B}^d(L_{k+1})$, $J \in \mathcal{B}^d(L_k)$. If $\mu_k(I) > 0$, this means that $J$ contains an element of $\mathcal{B}^d(L_k)$ in at least half of the cubes in $\mathcal{B}^d(R_k,J)$. Thus the mass of $J$ distributes itself evenly over at least $2^{-1} (L_{k-1}/R_k)^d$ cubes, which gives that $\mu_k(I) \leq 2(R_k/L_{k-1})^d \mu_{k-1}(J)$. But then expanding this recursive inequality, using the fact that $\mu_0$ has total mass one as a base case, we obtain exactly the result we need.
\end{proof}

\begin{corollary}
	The measure $\mu$ is positive.
\end{corollary}
\begin{proof}
	To prove this result, it suffices to show that the total mass of $\mu_k$ is bounded below, independently of $k$. At each stage $k$,
	%
	\[ \# (\mathcal{B}^d(X_k,L_k)) \leq \left[ \frac{L_{k-1} \dots L_1}{R_k \dots R_1} \right]^d. \]
	%
	Since only a fraction $1/2^{2k+2}$ of the cubes in $\mathcal{B}^d(X_k,R_k)$ do not contain an cube in $X_{k+1}$, it is only for at most a fraction $1/2^{2k+1}$ of the cubes in $\mathcal{B}^d(X_k,R_k)$ cubes that $X_{k+1}$ fails to equidistribute over more than half of the cubes. But this means that we discard a total mass of at most
	%
	\[ \left( \frac{1}{2^{2k + 1}} \left[ \frac{L_{k-1} \dots L_1}{R_k \dots R_1} \right]^d \right) \left( 2^{k} \left[ \frac{R_k \dots R_1}{L_{k-1} \dots L_1} \right]^d \right) \leq 1/2^{k+1}. \]
	%
	Thus
	%
	\[ \mu_k(\mathbf{R}^d) \geq 1 - \sum_{i = 0}^k \frac{1}{2^{i+1}} \geq 1/2. \]
	%
	This implies $\mu(\mathbf{R}^d) \geq 1/2$, and in particular, $\mu \neq 0$.
\end{proof}

Ignoring all parameters in the inequality for $I$ which depend on indices $< k$, we `conclude' that $\mu_k(I) \lesssim R_k^d \lesssim L_k^{\beta_k d}$. The fact that $L_{k+1} \leq L_k^{k^2}$ has such a rapid decay essentially enables us to ignore quantities depending on previous indices, and obtain a true inequality.

\begin{corollary}
	For all $I \in \mathcal{B}^d(L_k)$, $\mu(I) \leq \mu_k(I) \lesssim L_k^{d \beta_k - k^{-1/2}}$.
\end{corollary}
\begin{proof}
	Given $\varepsilon$, we find
	%
	\begin{align*}
		\mu_k(I) &\leq 2^k \left[ \frac{R_k \dots R_1}{L_{k-1} \dots L_1} \right]^d \leq \left( \frac{2^{d + k}}{L_{k-1}^{d(1 - \beta_{k-1})} \dots L_1^{d(1 - \beta_1)}} \right) L_k^{d \beta_k}\\
		&\leq \left( 2^{d + k} L_k^\varepsilon / L_{k-1}^{d(k-1)} \right) L_k^{d \beta_k - \varepsilon} \leq \left( 2^{d + k} L_{k-1}^{\varepsilon k^2 - d(k - 1)} \right) L_k^{d \beta_k - \varepsilon}.
	\end{align*}
	%
	The open bracket term decays as $k \to \infty$ so fast that it still tends to zero if $\varepsilon$ is not fixed, but is instead equal to $k^{-1/2}$, giving the required inequality.
\end{proof}

%It is intuitive that the mass on $\mu$ will distribute more thinly at each stage the fatter the cubes we keep on each iteration of the discrete scale argument. Quantifying this leads directly to our result. We will prove that for each length $L$ interval $I$, $\mu(I) \lesssim_N L^{\beta_N}$. Thus Frostman's lemma guarantees that $\dim_{\mathbf{H}}(X) \geq \beta_N$, and taking $\beta_N \to \beta$ will complete the proof.

%We now rely on a covering argument to show $X$ looks $d \beta$ dimensional at all the intermediary scales. Here we won't be penalized by the fact that the $L_k$ rapidly tend to zero, because the uniformity property implies $X$ looks {\it full} dimensional between the scales $L_k$ and $R_{k+1}$. We fix an increasing sequence $\beta_k'$ with $\beta_k' < \beta_k$, and $\beta_k' \to \beta$ as $k \to \infty$. This gives us slightly more room to bound mass when obtaining the Frostman's lemma result. We set $\beta_k' - \beta_k = 1/k$ to obtain the choice of $L_N$ given as an example.

%\begin{corollary}
%	If $L_k \ll 1$, $\mu(I) \leq L_k^{d \beta_k'}$ for $I \in \mathcal{B}(L_k)$.
%\end{corollary}
%\begin{proof}
%	We can rewrite the inequality in the last problem as
	%
%	\[ \mu(I) \leq \left[ 2^k \left( \frac{R_{k-1} \dots R_1}{L_{k-1} \dots L_1} \right)^d R_k^d L_k^{- d \beta_k'} \right] L_k^{d\beta_k'} \]
	%
%	Now $R_k^d L_k^{-d\beta_k'} \leq (2L_k^{\beta_k})^d L_k^{-d\beta_k'} \leq 2^d L_k^{d(\beta_k - \beta_k')}$, which tends to zero as $L_k \to \infty$, while the remaining parameters are fixed. Thus if $L_k$ is sufficiently small, we can bound the constant in the square brackets by $1$, which is sufficient to obtain the inequality.
%\end{proof}

This is close to the cleanest expression of the $d \beta$ dimensional behaviour at discrete scales. To get a general inequality of this form, we use the fact that our construction distributes uniformly across all cubes.

\begin{theorem}
	If $L \leq L_k$ is dyadic and $I \in \mathcal{B}^d(L)$, then $\mu(I) \lesssim L^{d\beta_k - k^{-1/2}}$.
\end{theorem}
\begin{proof}
	We break our analysis into three cases, depending on the size of $L$ in proportion to $L_k$ and $R_k$:
	%
	\begin{itemize}
		\item If $R_{k+1} \leq L \leq L_k$, we can cover $I$ by $(L/R_{k+1})^d$ cubes in $\mathcal{B}^d(R_{k+1})$. For each of these cubes, because the mass is uniformly distributed over $R_{k+1}$ cubes, we know the mass is bounded by at most $2(R_{k+1}/L_{k+1})^d$ times the mass of a $\mathcal{B}^d(L_k)$ cube. Thus
		%
		\begin{align*}
			\mu(I) &\lesssim [(L/R_{k+1})^d] [2(R_{k+1}/L_k)^d] [L_k^{d \beta_k - k^{-1/2}}]\\
			&\leq 2 L^d / L_k^{d + k^{-1/2} - d \beta_k} \leq 2 L^{d \beta_k - k^{-1/2}}.
		\end{align*}

		\item If $L_{k+1} \leq L \leq R_{k+1}$, we can cover $I$ by a single cube in $\mathcal{B}^d(R_{k+1})$. Each cube in $\mathcal{B}^d(R_{k+1},d)$ contains at most one cube in $\mathcal{B}^d(L_{k+1},d)$ which is also contained in $X_{k+1}$, so
		%
		\[ \mu(I) \lesssim L_{k+1}^{d\beta_{k+1} - (k+1)^{-1/2}} \leq L^{d \beta_k - k^{-1/2}}. \]

		\item If $L \leq L_{k+1}$, there certainly exists $M$ such that $L_{M+1} \leq L \leq L_M$, and one of the previous cases yields that
		%
		\[ \mu(I) \lesssim 2 L^{d \beta_M - M^{-1/2}} \leq 2 L^{d \beta_k - k^{-1/2}}. \]
	\end{itemize}
	%
	The three bulletpoints address all cases considered in the theorem.
\end{proof}

To use Frostman's lemma, we need the result $\mu(I) \lesssim L^{d \beta_k - k^{-1/2}}$ for an {\it arbitrary} cube, not just one with $L \leq L_k$. But this is no trouble; it is only the behavior of the measure on arbitrarily small scales that matters. This is because if $L \geq L_k$, then $\mu(I)/L^{d \beta_k - k^{-1/2}} \leq 1/L_k^{d \beta_k - k^{-1/2}} \lesssim_k 1$, so $\mu(I) \lesssim_k L^{d \beta_k - k^{-1/2}}$ holds automatically for all sufficiently large cubes. Thus we have shown that $\dim_{\mathbf{H}}(X) \geq d \beta_k - k^{-1/2}$, and letting $k \to \infty$ gives $\dim_{\mathbf{H}}(X) \geq d \beta$. It is also easy to see $X$ has {\it precisely} this dimension.

\begin{theorem}
	$\dim_{\mathbf{H}}(X) = (dn - \alpha)/(n-1)$.
\end{theorem}
\begin{proof}
	$X_k$ is covered by at most
	%
	\[ \left[ \frac{L_{k-1} \dots L_1}{R_k \dots R_1} \right]^d \]
	%
	sidelength $L_k$ cubes. It follows that if $\gamma > \beta_k$, then
	%
	\[ H^{d\gamma}_{L_k}(X) \leq \left[ \frac{L_{k-1} \dots L_1}{R_k \dots R_1} L_k^\gamma \right]^d \lesssim \left[ \frac{L_{k-1} \dots L_1}{R_{k-1} \dots R_1} L_k^{\gamma - \beta_k} \right]^d \leq L_k^{d(\gamma - \beta_k)}. \]
	%
	Since $L_k \to 0$ as $k \to \infty$, $H^\gamma(X) = 0$. Since $\gamma$ was arbitrary, taking it to $\beta$ allows us to conclude that $\dim_{\mathbf{H}}(X) \leq d \beta$. We have already justified that $\dim_{\mathbf{H}}(X) \geq d\beta$, and so $\dim_{\mathbf{H}}(X) = d \beta$.
\end{proof}

%\section{Low Rank Projection Method}

%We now introduce a method which enables us to find a higher dimensional subset $X$, under some `low rank' assumptions about the set $Z$. The theorem below should be compared to Theorem 3. We will substitute the theorem below in the construction of our solutions to the fractal avoidance problem to improve the Hausdorff dimension.

%\begin{theorem}
%	Let $\mathcal{I}_1, \dots, \mathcal{I}_n$ be disjoint collections of cubes in $\mathcal{B}(1/N,d)$, with $|\mathcal{I}_i| \gtrsim N^d$. If there is a linear transformation $T: \mathbf{R}^{nd} \to \mathbf{R}^{nk}$ with rational coefficients such that the Minkowski dimension of $T(Z)$ is bounded above by $\alpha$, and $\beta$ is a rational parameter such that $\beta > d(k-1)/(dk - \alpha - k)$, then for arbitrarily large $N$ such that $N^\beta$ is an integer, there exists collections of cubes $\mathcal{J}_1, \dots, \mathcal{J}_n \in \mathcal{B}(1/N^\beta,d)$ with each cube in $\mathcal{J}_1 \times \dots \times \mathcal{J}_n \subset \mathcal{B}(1/N^\beta,nd)$ disjoint from $Y$, and as $N \to \infty$, each $\mathcal{J}_i$ contains cubes in all but a fraction $o(1)$ of cubes in $\mathcal{I}_i$.
%\end{theorem}
%\begin{proof}
%	Since for any integer $M$, $M \cdot T(Z)$ has the same Minkowski dimension as $T(Z)$, we may without loss of generality assume by multiplying by a large enough $M$ that $T$ has integer coefficients. Write $T(x) = S(x_1) + U(x_2)$, where $x_1$ is a subset of $kd$ coordinates of $x$, $x_2$ are the remaining $(n-k)d$ coordinates, and $S$ is invertible. Let $\mathcal{J}_{k+1}, \dots, \mathcal{J}_n \subset \mathcal{B}(1/N^\beta,d)$ be the set of cubes contained in a cube in $\mathcal{I}_{k+1}, \dots, \mathcal{I}_n$ and also containing a point in the lattice $(\mathbf{Z}/N)^{d(n-k)}$. We then consider the set $\mathcal{K}$ of cubes in $\mathcal{B}(1/N^\beta,kd)$ intersecting the image of some cube in $U(\mathcal{J}_{k+1}, \dots, \mathcal{J}_n)$. Because $U$ is integral, if $x \in (\mathbf{Z}/N)^{d(n-k)}$, then $U(x) \in (\mathbf{Z}/N)^{dk}$. Since all points in cubes in $\mathcal{J}_{k+1}, \dots, \mathcal{J}_n$ are contained in a $1/N^\beta$ thickening of the lattice $(\mathbf{Z}/N)^{d(n-k)}$, their image under $U$ is contained in a $\lesssim 1/N^\beta$ thickening of the lattice $(\mathbf{Z}/N)^{dk}$. Since the image of the cubes $U(\mathcal{J}_{k+1}, \dots, \mathcal{J}_n)$ is a bounded set, this implies $|\mathcal{K}| \lesssim N^{dk}$. If we let
	%
%	\begin{align*}
%		\mathcal{Z} = &\{ I \in \mathcal{B}(1/N^\beta,dk):\\
%		&\ \ \ \text{there is}\ J \in \mathcal{K}\ \text{s.t.}\ (S(I) + J) \cap T(Z) \neq \emptyset \}
%	\end{align*}
	%
%	and we form a graph $G$ on the side length $1/N^\beta$ cubes in $\mathcal{J}_1, \dots, \mathcal{J}_k$ where there is an edge between $I_1, \dots, I_k$ if their Cartesian product lies in $\mathcal{Z}$, then an independent set $\mathcal{J}_1, \dots, \mathcal{J}_k$ gives a candidate solution $\mathcal{J}_1, \dots, \mathcal{J}_n$ for the entire theorem. Since $T(Z)$ intersects $O(N^{\alpha \beta})$ cubes in $\mathcal{B}(1/N^\beta,dk)$, $|\mathcal{K}| \lesssim N^{dk}$, and $S$ is invertible, $\mathcal{Z}$ contains $O(N^{dk + \alpha \beta})$ cubes. Then $G$ has $\Omega(N^{d \beta})$ vertices, $O(N^{dk + \alpha \beta})$ edges, and if we consider the coloring as in the previous problem, an $\Omega(N^{d(\beta - 1)})$ uniform coloring. Thus when applying the discrete corollary, we have $a = d \beta$, $b = dk + \alpha \beta$, and $c = d(\beta - 1)$. The inequality
	%
%	\[ \beta > d \cdot \frac{2k - 1}{dk - \alpha} \]
	%
%	is equivalent to the equality $b < a + c(k-1)$, which allows us to use the corollary to obtain the required result.
%\end{proof}

%Following our proof constructing $X$, as well as proving it's Hausdorff dimension, but using the lemma above instead of the standard lemma, and replacing the $\beta$ in this proof with the $\beta$ in the lemma above, we obtain $X$ solving the fractal avoidance problem for $Z$ with
%
%\[ \dim_{\mathbf{H}}(X) = \frac{dk - \alpha}{2k - 1} \]
%
%The fact that the dimension is independent of $n$ has some interesting consequences. In particular, it can be used to solve problems involving infinitely many variables.

%\begin{theorem}
%	Let $Z$ be a zero set, and let $f: \mathbf{R}^{nd} \to \mathbf{R}^{kd}$ be a polynomial map with degree at most $m$ such that $f(Z)$ is $\alpha$ dimensional. Then can we improve our result?
%\end{theorem}

\section{Applications}

%\begin{example}
%	Consider $Z = \{ (x,y): \mathbf{R}^{m+1}: y = f(Sx) \}$, where $S: \mathbf{R}^m \to \mathbf{R}^l$. If we consider the map $T(x,y) = (Sx,y)$, then $T(Z) = \{ (a,b) \in \mathbf{R}^{l+1}: b = f(a) \}$. This is a hypersurface of dimension $l$. Applying the result above with $k = l+1$, $d = 1$, and $\alpha = l$, we find a set $X$ with Hausdorff dimension $1/(2l + 1)$. This isn't exactly what we want, so maybe the proof can be fine tuned.
%\end{example}

Of course, our result already generalizes methods with interesting applications. But the most novel applications of our method occur when the configurations truly are a fractal set.

\begin{example}
	Let $Y \subset \mathbf{R}^d$ be the countable union of sets with lower Minkowski dimension upper bounded by $\alpha$. Then the set $Y_0 = \{ (x,y): x + y \in Y \}$ is a countable union of sets with lower Minkowski dimension upper bounded by $d + \alpha$. Applying our lemma then gives a set $X$ with Hausdorff dimension $d - \alpha$ such that for any distinct $x_1, x_2 \in X$, $x_1 + x_2 \not \in Y$. Modifying our construction slightly makes it possible to construct $X$ with $X + X$ avoiding $Y$ completely. Less elegantly, we can also consider
	%
	\[ Y_1 = \{ (x,y) : x + y \in Y \} \cup \{ (x,y): x \in Y/2 \} \]
	%
	Then $Y_1$ is also the countable union of sets with lower Minkowski dimension bounded by $1 + \alpha$, and $X$ avoiding $Y_1$ has $X + X$ disjoint from $Y$.
\end{example}

We have ideas on fusing our result with inspiration from the result of \cite{Mathe} to obtain the more impressive result which will show, given a set $Y$ with fractal dimension $\alpha$, how to construct a set $X$, which is a $\mathbf{Q}$ vector space, disjoint from $Y$, with Hausdorff dimension $d - \alpha$. Thus given a $\mathbf{Q}$ subspace $V$ of $\mathbf{R}^d$, we can always find a complementary $\mathbf{Q}$ vector space $W$ with a complementary fractal dimension.

\begin{example}
	In \cite{MalabikaRob}, one shows that we can find a dimension $1/2$ subset of any smooth curve avoiding isoceles triangles. Applying much the same techniques as in \cite{MalabikaRob}, but applying our result (though we do not need to be as careful, since we do not care about smoothness), we can extend this result to find a dimension $1/2$ subset of any {\it bi-Lipschitz} curve avoiding isoceles triangles.
\end{example}

\begin{example}
	However, our method is able to do something much more interesting. Suppose we have a set $Y \subset \mathbf{R}^{d + k}$, together with an orthogonal projection $\pi$ such that $\pi(Y) = \mathbf{R}^d$. Form the set
	%
	\[ Z = \left\{ (x_1,x_2,x_3) \in (\mathbf{R}^d)^3 : \begin{array}{l} \text{there is}\ y_1,y_2,y_3 \in Y\ \text{such that} \\
	\pi(y_i) = x_i, d(y_1,y_2) = d(y_1,y_3) \end{array} \right\} \]
	%
	Bounding the fractal dimension of $Z$ by $\alpha$ allows us to find $X$ with $X^3$ disjoint from $Z$, with appropriate Hausdorff dimension $\beta = (3d - \alpha)/2$. Then $\pi^{-1}(X) \cap Y$ is a set with Hausdorff dimension at least $\beta$, not containing any isoceles triangles.

	Given $y_2$ and $y_3$, the points $y_1$ giving an isoceles triangles are precisely those points lying on the line $L_{y_2 y_3}$ perpendicular to the line between $y_2$ and $y_3$, passing through the point halfway between $y_2$ and $y_3$. The dimension of $Z$ can be bounded by proving that for any $y_2, y_3 \in Y$, $Y \cap L_{y_2 y_3}$ is a small set. 
\end{example}

\section{Relation to Literature, and Future Work}

TODO: MOVE THIS
This result is part of a growing body of work finding general methods to avoid patterns with particular geometric features. In \cite{MalabikaRob} and \cite{Mathe}, sets with large Hausdorff dimension are constructed avoiding patterns specified by smooth low-variable functions, and low degree polynomials.

The technical skeleton of our construction are heavily modelled after $\cite{MalabikaRob}$. Reading this paper in tandem with ours provides an interesting contrast between the techniques of the function oriented configuration avoidance result, and the fractal avoidance result we use. Because of its heavy influence on our result, we begin our discussion of the literature with an in depth comparison of our method to theirs.

Our result is a direct generalization of the main result of \cite{MalabikaRob}, which says that if $Z \subset (\mathbf{R}^d)^n$ is a smooth surface of dimension $nd - d$, then we can find $X$ with dimension $(n-1)^{-1}$ solving the fractal avoidance problem. Of course, such a $Z$ has Minkowski dimension $nd - d$, and our result achieves the same dimension for $X$. In response to $\cite{MalabikaRob}$, our result says that the only really necessary feature of a smooth hypersurface to the avoidance problem, aside from other geometric features, is its dimension. Not only is our result more flexible, enabling the surface $Z$ to have non smooth points, but we can also take advantage of the fact that the surface might have dimension different from $nd - d$. Better yet, we can `thicken' or `thin' $Z$ by slightly increasing or decrease the Minkowski dimension, while stably affecting the Hausdorff dimension of the solution $X$ we construct.

The technique leading to this generalization can be compared to a phenomenon that has recently been noticed in the discrete setting, i.e. \cite{BaloghMorrisSamotij}. There, certain combinatorial problems can be rephrased as abstract problems on hypergraphs, and by doing this one can often generalize the solutions of these problems into analogues on `sparse versions' of these hypergraphs. One can see our result as a continuous analogue to this phenomenon, where sparsity is represented by the dimension of the set $Z$ we are trying to avoid. One can even view Lemma 1 as a solution to a problem about independent sets in hypergraphs. In particular, we can form a hypergraph by taking the cubes $\mathcal{B}^d(F,S)$ as vertices, and adding an edge $(I_1, \dots, I_n)$ between $n$ distinct cubes if $I_1 \times \dots \times I_n$ intersects $W$. Then the union of an independent set of cubes in this graph is precisely a set $F$ with $F^n$ disjoint except on the discretization of the diagonal. And so the goal of Lemma 1 is essentially to find a `uniformly chosen' independent set in this graph. Thus we even applied the discrete phenomenon at many scales to obtain the continuous version of the phenomenon.

A useful technique used in \cite{MalabikaRob}, and its predecessor \cite{KeletiDimOneSet}, is a Cantor set construction `with memory'; a queue in their construction algorithm allows storage of particular configurations, to be retrieved and avoided at a much, much later step of the building process. The fact that our result is more general, yet we can discard the queueing method from our proof, is an interesting anomoly. Adding memory to the queueing set is certainly an important trick to remember when thinking of new constructions for fractal avoiding sets. It enables one to restrict the requirements of an analogy to Lemma 1 from carving out an avoiding set $F$ from a single set $E$, to carving $F_1, \dots, F_n$ out of disjoint sets $E_1, \dots, E_n$, such that $F_1 \times \dots \times F_n$ avoids $W$. Nonetheless, it makes the construction much more complicated to describe, which makes understanding dimension bounds slightly more complicated, because its hard to `grasp' precisely what configuration we are avoiding at each step of the construction. The fact that our algorithm is more general than \cite{MalabikaRob}, yet we can discard the queueing method, is an interesting anomoly. We have ideas on how to exploit the fact that we do not use queueing to generalize our theorem to much more wide family of `dimension $\alpha$' sets $Z$, which we plan to publish in a later result.

Aside from \cite{MalabikaRob}, another paper that takes the perspective of solving a generic fractal avoidance problem is \cite{Mathe}, who finds a solution $X$ to an avoidance problem with $Z$ a degree $k$ hypersurface with Hausdorff dimension $d/k$. If $k \geq n-1$, then our result does better than Mathe's result, so where Mathe's result excels is when $Z$ is a low dimensional hypersurface. Just like how the result of this paper is a sparse analogue of \cite{MalabikaRob}, we would like to publish a follow up result giving a sparse analogue to \cite{Mathe}. Just as our result is obtained by assuming $Z$ is covered by a sparse family of cubes, a sprase analogue of \cite{Mathe} would give a result if $Z$ is covered by a sparse family of thickened varieties from a pencil of low degree surfaces. We already have ideas we are refining on how to achieve this.

\begin{thebibliography}{9}

%TODO: MAKE INTO MATHSCINET. AND REMOVE EXTRANEOUS REFERENCES.
%TODO: LOOK UP STANDARDIZED MATH JOURNAL ABBREVIATION.

\bibitem{KeletiDimOneSet}
Tam\'{a}s Keleti
\textit{A 1-Dimensional Subset of the Reals that Intersects Each of its Translates in at Most a Single Point}

\bibitem{MalabikaRob}
Robert Fraser, Malabika Pramanik
\textit{Large Sets Avoiding Patterns}

\bibitem{Mathe}
A. Math\'{e}
\textit{Sets of Large Dimension Not Containing Polynomial Configurations}

\bibitem{BaloghMorrisSamotij}
J\'{o}zsef Balogh, Robert Morris, Wojceich Samotij
\textit{Independent Sets in Hypergraphs}

%\bibitem{David}
%Guy David
%\textit{Bounded singular integrals on a Cantor set}

%\bibitem{Vasilis}
%Vasilis Chousionis
%\textit{Singular Integrals On Sierpinski Gaskets}

%\bibitem{Bennett}
%Michael Bennett, Alex Iosevich, Krystal Taylor
%\textit{Finite Chains Inside Thin Subsets of $\mathbf{R}^d$}

\bibitem{KatzTao}
Nets Hawk Katz, Terence Tao
\textit{Some connections between Falconer's distance set conjecture, and sets of Furstenburg type}

\end{thebibliography}

%\end{multicols}

\end{document}

Once we have discretized the problem, the Euclidean structure of the setting becomes irrelevant. As such, we rephrase our single scale avoidance method as a combinatorial problem on graphs. Here we prove a form of Tur\'{a}n's theorem, which quantifies the idea that graphs with few edges contain large independent sets. In the next section, we apply this theorem to find large discretized sets avoiding a discretization of the fractal we are required to avoid. Exploiting this repeatedly at an infinite series of discretizations then gives a set completely avoiding the required fractal.

Recalling notation, we consider a fixed set of $V$ elements, whose points we call {\it vertices}. A set of $n$ {\it distinct} vertices will be called an {\it $n$ vertex hyperedge}. The structure consisting of a set of vertices, and a family of $n$ vertex hyperedges on those vertices, will be called an {\it $n$ uniform hypergraph}. We let $E$ denote the number of edges in such a graph. A subset of vertices which does not contain any hyperedge as a subset is known as an {\it independent set}. We will consider partitions of the vertex set, and we say a partition is {\it $K$ spread} if there are at least $K$ vertices in each equivalence class.

\begin{lemma}
	Every $n$ uniform hypergraph with a $K$ spread partition contains an independent set with elements selected from all but at most $E/K^n$ equivalence classes.
\end{lemma}
\begin{proof}
	Let $X$ be a random vertex set chosen by selecting a representative vertex from every equivalence class uniformly at random. Then every vertex occurs in $X$ with probability at most $1/K$. If an edge $e = \{ v_1, \dots, v_n \}$ satisfies $\mathbf{P}(v_1, \dots, v_n \in X) > 0$, then the $v_1, \dots, v_n$ are distinct, and lie in separate equivalence classes of the partition. This implies that $v_1, \dots, v_n$ each occur in $X$ with independent likelihood, so a bound on the probability that all vertices in $e$ lie in $X$ is
	%
	\begin{align*}
		\mathbf{P}(v_1, \dots, v_n \in X) = \mathbf{P}(v_1 \in V) \dots \mathbf{P}(v_n \in X) \leq 1/K^n
	\end{align*}
	%
	If $E_0$ denotes the number of edges $e = \{ v_1, \dots, v_n \}$ with $v_1, \dots, v_n \in X$, then
	%
	\begin{align*}
		\mathbf{E}(E_0) = \sum_{e \in E} \mathbf{P}(e \in E_0) \leq \sum_{e \in E} 1/K^n = E/K^n
	\end{align*}
	%
	This means we may choose a particular, {\it nonrandom} $X$ for which $E_0 \leq E/K^n$. If we form a vertex set $W \subset V$ by removing, for each $e \in E_0$, a vertex in $X$ adjacent to $e$, then $W$ is an independent set containing representatives from all but $E_0 \leq E/K^n$ equivalence classes of the partition.
\end{proof}

%\begin{corollary}
%	If $|V| \gtrsim N^a$, $|E| \lesssim N^b$, and $K \gtrsim N^c$, where $b < a + c(n-1)$, then as $N \to \infty$ we can find an independent set containing all but a fraction $o(1)$ of the colors.
%\end{corollary}
%\begin{proof}
%	A simple calculation on the quantities of the previous lemma yields
	%
%	\begin{align*}
%		\frac{\# ( \text{colors removed} )}{\# ( \text{all colors} )} = \frac{|E|/K^n}{|V|/K} = \frac{|E|}{|V|K^{n-1}} \lesssim \frac{N^b}{N^{a + c(n-1)}}
%	\end{align*}
	%
%	This is $o(1)$ if $b < a + c(n-1)$.
%\end{proof}

%To apply the theorem to fractals, we will take cubes in the Euclidean plane as our vertices, and connect an edge between cubes if their cartesian product intersects a portion of $Y$. For technical reasons, we require that the cubes are essentially uniformly chosen across the candidate set of choices, and this is the reason for the introduction of partitions of vertices in the graph theory result above.

An important feature of our bound on the independent set selected is the ratio between the number of equivalence classes we choose versus the total number of equivalence classes. Since each class contains $K$ elements, there are $V/K$ equivalence classes. We calculate
%
\[ \frac{\# (\text{classes not chosen})}{\# (\text{total classes})} \leq \frac{E/K^n}{V/K} \leq \frac{E/V}{K^{n-1}} \]
%
To make this ratio small, we upper bound $E$, and lower bound $V$ and $K$.

%In our case, $E$ will be dependant on the Hausdorff dimension of $Y$, $V$ will depend on the sidelength

%In our case, we get few edges if our set $Y$ has low Hausdorff dimension, and we have lots of vertices if we choose a proportionally small sidelengths for our cubes.

%We now apply these constructions to a problem clearly related to the fractal avoidance problem. It will form our key method to construct fractal avoidance solutions. Given a real number $L$, we subdivide $\mathbf{R}^d$ into a lattice of side length $L$ cubes with corners on $L \cdot \mathbf{Z}^d$, the collection of such cubes we will denote by $\mathcal{B}(L,d)$. This grid is used to granularize configuration avoidance.

%\begin{theorem}
%	Suppose $\mathcal{I}_1, \dots, \mathcal{I}_n$ are disjoint collections of cubes in $\mathcal{B}(L,d)$, with $|\mathcal{I}_i| \gtrsim (1/L)^d$. If $\alpha$ strictly bounds the lower Minkowski dimension of $Z$ from above, and a rational parameter
	%
%	\[ \beta > \max \left(1, d \cdot \frac{n-1}{nd-\alpha} \right) \]
	%
%	is fixed, then there exists collections of cubes $\mathcal{J}_1, \dots, \mathcal{J}_n \in \mathcal{B}(L^\beta,d)$ with each cube in $\mathcal{J}_1 \times \dots \times \mathcal{J}_n$ disjoint from $Z$, and each $\mathcal{J}_i$ containing cubes in all but a fraction $o(1)$ of cubes in $\mathcal{I}_i$ as $L \to 0$.
%\end{theorem}
%\begin{proof}
%	We reduce this problem to the independent set problem we just proved a result about. We define the discretization of $Z$ to be
	%
%	\[ \mathcal{Z} = \{ I \in \mathcal{B}(L^\beta,nd) : I \cap Z \neq \emptyset \} \]
	%
%	For each $i$, we set
	%
%	\[ \mathcal{I}_i' = \{ I \in \mathcal{B}(L^\beta,d) : \text{there is}\ J \in \mathcal{I}_i\ \text{s.t.}\ I \subset J \} \]
	%
%	We obtain an $n$ uniform hypergraph $G$ by taking the cubes in $\mathcal{I}_1', \dots, \mathcal{I}_n'$ as vertices, with a hyperedge between $I_1 \in \mathcal{I}'_1, \dots, I_n \in \mathcal{I}'_n$ if $I_1 \times \dots \times I_n \in \mathcal{Z}$. We then take a coloring on $G$ by declaring two cubes in $\mathcal{I}_i'$ to be the same color if they are contained in a common cube in $\mathcal{I}_i$. In particular, this gives us a true coloring because every color occurs solely in $\mathcal{I}_i$ for some index $i$, and every edge in the hypergraph contains exactly one vertex from each index. An independent set in this graph can be written as $\mathcal{J}_1, \dots, \mathcal{J}_n$, where the $\mathcal{J}_i$ are collections of cubes which are sub-cubes of cubes in $\mathcal{I}_i$ and no cube in $\mathcal{J}_1 \times \dots \times \mathcal{J}_n \subset \mathcal{B}(1/N^\beta,nd)$ intersects $Z$. Thus to prove the theorem it suffices to find a large independent set in this graph.

%	We employ the corollary we just proved to do this, by bounding the number of vertices and edges in $G$. Since a cube in $\mathcal{B}(L,d)$ contains $\Omega(1/L^{d(\beta-1)})$ cubes in $\mathcal{B}(L^\beta,d)$, we conclude that $|\mathcal{I}'_i| \gtrsim (1/L)^{d(\beta - 1)} |\mathcal{I}_i| \gtrsim (1/L)^{d \beta}$. But then the number of vertices of $G$ is $\sum |\mathcal{I}'_i| \gtrsim (1/L)^{d \beta}$. The Minkowski dimension bound on $Z$ implies that the number of edges in $G$ is bounded above by $|\mathcal{Z}| \lesssim (1/L)^{\alpha \beta}$,Finally, the coloring is $N^{d(\beta - 1)}$ uniform. Thus in the terminology of the previous corollary, $a = d \beta$, $b = \alpha \beta$, and $c = d(\beta - 1)$. The inequality $\beta > d(n-1)/(nd - \alpha)$, is equivalent to the inequality $b < a + c(n-1)$, and so the corollary applies to give the required result.
%\end{proof}

%The value $d \cdot (n-1)/(n-\alpha)$ in the theorem is directly related to the dimension $(n-\alpha)/(n-1)$ we get in our main result. If, for a specific $Z$, we can prove a variant of this lemma with $d \cdot (n-1)/(n-\alpha)$ replaced with $d/\lambda$, then going through the rest of our proof will immediately yield $X$ with Hausdorff dimension $\lambda$. In particular, to prove our second result it will suffice to prove the theorem above given that $Z$ has a low rank assumption and $d \cdot (n-1)/(n-\alpha)$ is replaced with $d \cdot(2k-1)/(dk - k - \alpha)$.

% TODO: Include Tightness Calculation?