\input{../style.tex}

\DeclareMathOperator{\Dom}{Dom}

\title{Algebraic Topology}
\author{Jacob Denson}

\begin{document}

\pagenumbering{gobble}

\maketitle

\tableofcontents

\pagenumbering{arabic}

\chapter{Homotopy}

Verifying two topological spaces are homeomorphic is often a fairly easy ordeal. One needs only find a single homeomorphism between them. The converse, verifying two topological spaces are not homeomorphic, is much more tricky; we need to show that {\it every} function from one space to the other is not a homeomorphism. One trick is to find fundamental topological properties which distinguish two topological spaces. Connectedness, Compactness, and Hausdorffiness are all preserved under homeomorphisms, so two spaces in which these properties differ cannot be homeomorphic. However, many interesting topological spaces are connected, compact, and Hausdorff, while not being homeomorphic, so we require deeper invariants. Algebraic topology consists of techniques of distinguishing topological spaces by associating them with some algebraic structure invariant under homeomorphisms.

It shall turn out that most interesting spatial invariants are also invariant under a more general topological equivalence. Consider two functions $f$ and $g$ between topological spaces $X$ and $Y$. Though $f$ might not be equal to $g$, they may be in some sense topologically equal. That is, we can continuously deform one of the functions into the other. Two continuous functions $f: X \to Y$ and $g:X \to Y$ are {\bf homotopic}, written $f \simeq g$, if there exists a continuous map $H: [0,1] \times X \to Y$, such that if we denote the value of the function at $(t,x)$ as $H_t(x)$, then for all $x \in X$, $H_0(x) = f(x)$ and $H_1(x) = g(x)$. We will often write the image of $(t,x)$ under $H$ as $H_t(x)$, and we may then see a homotopy as a family of maps $H_t: X \to Y$ which vary continuously with respect to $t$ from $H_0 = f$ and $H_1 = g$. $H$ is a homotopy {\bf relative to $A$} if $H_t(a)$ is invariant of $t$ for all $a \in A$. If $f$ is homotopic to $g$ relative to $A$, we write $f \simeq_A g$ for such an equivalence.

\section{Category Theory and Topology}

Category theory provides a unifying tool in algebraic topology. We aim to associate `invariant algebraic objects' to each element of a topological space, and this is most naturally expositor as a functor from the category of topological spaces to other categories of algebraic objects. In fact, category theory was invented by Samuel Eilenberg and Saunders Maclane to form the formal unifying foundations of certain sections of algebraic topology. Let us consider a simple example.

\begin{example}
    Every space $X$ has associated with it a unique decomposition into path connected components $\pi_0(X) \in \textbf{Set}$. If $f:X \to Y$ is a continuous map, then we obtain a set theoretic map $f_*: \pi_0(X) \to \pi_0(Y)$ by mapping a connected component $U \subset X$ to the connected component in $Y$ containing $f(U)$. Such a functor already gives us some topological descriptive power. For instance, if $f$ is a homeomorphism, then we find $f_*$ is a bijection, so that homeomorphic spaces have the same number of connected components. This is a trivial invariant, but the idea can be extended to a multitude of different algebraic invariants, the simplest of which is known as the fundamental group of a topological space.
\end{example}

The first category we will consider is formed from the category $\textbf{Top}$ of topological spaces together with continuous maps as morphisms. If we identify homotopic continuous maps, we obtain the homotopy quotient category $\textbf{Toph}$. The category of pairs of topological spaces $(X,A)$, with $A \subset X$, and whose morphisms from $(X,A)$ to $(Y,B)$ are equivalence classes of maps from $X$ to $Y$ which map $A$ into $B$ which are identified by homotopies relative to $A$ is known as $\textbf{RelToph}$.

\begin{example}
    Any two $\mathbf{R}^n$-valued functions $f$ and $g$ defined on the same domain are homotopic. The map
    %
    \[ H_t(x) = t f(x) + (1 - t) g(x) \]
    %
    is a homotopy between $f$ and $g$. Thus the spaces $\mathbf{R}^n$ are the terminal objects in the homotopy category, since there is a unique homotopy class of functions from any topological space to $\mathbf{R}^n$. This method extends essentially to show every topological vector space over the real numbers is contractible.
\end{example}

Two spaces are {\bf homotopy equivalent} if they are isomorphic in $\textbf{Toph}$; that is, $X$ is homotopic to $Y$, written $X \simeq Y$, if there is a map $f:X \to Y$ and $g: Y \to X$ such that $g \circ f$ and $f \circ g$ are homotopic to the identities on $X$ and $Y$. $g$ is known as the {\bf homotopy inverse} of $f$. Since each $\mathbf{R}^n$ is a terminal object, each is homotopy equivalent to the other, by abstract nonsense. A map $f: (X,A) \to (Y,B)$ is a homotopy equivalence if it is an isomorphism in $\textbf{RelToph}$. If $A = B$, we say this is a homotopy equivalence relative to $A$.

\begin{example}
    The $n$-sphere $S^n$ is homotopy equivalent to $\mathbf{R}^{n+1} - \{ 0 \}$. The embedding $i: S^n \to \mathbf{R}^{n+1} - \{ 0 \}$ has a homotopy inverse $j: \mathbf{R}^{n+1} - \{ 0 \} \to S^n$, defined by $j(v) = v/\|v\|$. One deforms the norm to show that $i \circ j$ is homotopic to $\text{id}_{\mathbf{R}}$. We take
    %
    \[ H_t(x) = \left( \frac{t}{\| x \|} + (1 - t) \right) x \]
    %
    as the required homotopy. The other end is trivial, since $j \circ i = \text{id}_{S^n}$.
\end{example}

\section{Deformations}

A {\bf retraction} is a continuous map $r:X \to X$ for which $r^2 = r$. If $Y = \text{im}(r)$, and $r$ is a homotopy equivalence, then we say $X$ {\bf deformation retracts} to $Y$. The deformation retraction is {\bf strong} if $i \circ r$ is homotopic to the identity relative to $Y$. We showed that $\mathbf{R}^{n+1} - \{ 0 \}$ has a strong deformation retract onto $S^n$. A space is {\bf contractible} or {\bf null-homotopic} if it is deformation retracts to a point.

\begin{example}
    A subset $X$ of a vector space is {\bf star-shaped} if there is $x \in X$ such that if $y \in X$, the line segment between $x$ and $y$ is contained in $X$. Then $X$ is strongly contractible to $\{ x \}$, by the map
    %
    \[ H_t(y) = ty + (1 - t)x \]
    %
    which shows every star shaped space is final.
\end{example}

\begin{example}
    Given a function $f:X \to Y$, define the {\bf mapping cylinder} $M_f$ to be the quotient space of $X \times [0,1] \cup Y$ which identifies $(x,1)$ with $f(x)$. Then $M_f$ has a strong deformation retraction onto $Y$, given by the map fixing $Y$, whereas sliding $X$ down to $Y$. The map is given by $H_t[x,1-u] = [x,1-tu]$, with $H_t[y] = [y]$.
\end{example}

\begin{example}
    A {\bf cycle} in a graph $\Gamma$ is a sequence of distinct vertices $v_1, \dots, v_n$, together with distinct edges $e_1, e_2, \dots, e_n$ such that $e_i$ connects $v_i$ and $v_{i+1}$, and $e_n$ connects $v_n$ and $v_1$. A {\bf tree} is a connected graph with no cycles. Consider any particular tree $\Gamma$, and in that tree fix a vertex $v$. For any vertex $w$, there is a unique path $(w, k_1, \dots, k_n, v)$ to $v$ with edges $e_0, e_1, \dots, e_n$. Identify the edge $e_i$ with its parameterization by the interval $[0,1]$, in the direction which leads to $v$. Take $m = \text{max}_w(n_w)$ to be the longest path length. We identity a topological path from $w$ to $v$ by a map which travels at a unit velocity along each of the unique paths. This can be described cryptically by
    %
    \[ c_w:[0,\infty) \to \Gamma\ \ \ \ \ c_w(t) = \begin{cases} e_{\lfloor t \rfloor}(t - \lfloor t \rfloor) & t < n_w + 1 \\ v & t \geq n_w + 1 \end{cases} \]
    %
    So that $c_w$ moves from $w$ to $v$ at a unit velocity. Define
    %
    \[ H^w: [0,m] \times (w, k_1, \dots, k_n, v) \to \Gamma\ \ \ \ \ H^w_t(c_w(u)) = c_w(t + u) \]
    %
    If $w$ and $u$ are vertices, then $H^w$ agrees with $H^u$ on the intersection of their domain, so we may put all the maps together to obtain a strong deformation retraction from $\Gamma$ onto $\{ v \}$, hence $\Gamma$ is contractible. An alternate method to showing contractibility is by induction, removing edges of the graph one by one from the leaves of the tree inwards.
\end{example}


\section{Homotopy Extensions}

We would like to make it easy to verify homotopy equivalence. Most theorems of this variety rely on a useful property. A tuple $(X,A)$, with $A$ a subspace of $X$, satisfies the {\bf homotopy extension property} if, given any homotopy $H: [0,1] \times A \to Y$ between $f$ and $g$, and given an extension $\tilde{f}$ of $f$ to $X$, there is an extended homotopy $\widetilde{H}: [0,1] \times X \to Y$ between $\tilde{f}$ and some extension of $g$. More succinctly, $(X,A)$ has the homotopy extension property if every map defined on $X \times \{ 0 \} \cup A \times [0,1]$ extends to a map defined on $X \times [0,1]$.

\begin{lemma}
    $(X,A)$ has the homotopy extension property if and only if there is a retraction from $X \times [0,1]$ onto $X \times \{ 0 \} \cup A \times [0,1]$.
\end{lemma}
\begin{proof}
    If $(X,A)$ has the homotopy extension property, one obtains a retract of $X \times [0,1]$ onto $X \times \{ 0 \} \cup A \times [0,1]$ by extending the identity map on $X \times \{ 0 \} \cup A \times [0,1]$. Conversely, if we have such a retract $r$, then every map $f: X \times \{ 0 \} \cup A \times [0,1] \to Y$ extends to a map $f \circ r: X \times [0,1] \to Y$.
\end{proof}

\begin{corollary}
    If $(X,A)$ has the extension property, then $(X \times Z, A \times Z)$ has the homotopy extension property.
\end{corollary}
\begin{proof}
    If $r: X \times [0,1] \to X \times \{ 0 \} \cup A \times [0,1]$ is a retract, then we obtain a retract by the composition
    %
    \begin{align*}
        (X \times Z) \times [0,1] &\cong (X \times [0,1]) \times Z\\
        &\xrightarrow{r \times \text{id}_Z} (X \times \{ 0 \} \cup A \times [0,1]) \times Z\\
        &\cong X \times Z \times \{ 0 \} \cup A \times Z \times [0,1]
    \end{align*}
    %
    Thus $(X \times Z, A \times Z)$ has the extension property.
\end{proof}

\begin{corollary}
    If $(X,A)$ has the extension property, then $(X \coprod B, A \coprod B)$ has the homotopy extension property.
\end{corollary}
\begin{proof}
    A homotopy between two functions from $A \coprod B$ to $Y$ can be seen as two separate homotopies, one between functions from $A$ to $Y$, and one from functions from $B$ to $Y$. The first homotopy extends to a homotopy from $X$ to $Y$, which may be combined with the second function to form a homotopy between functions from $X \coprod B$ to $Y$. Thus $(X \coprod B, A \coprod B)$ has the extension property.
\end{proof}

\begin{theorem}
    If $(X,A)$ has the homotopy extension property, and $X$ is hausdorff, then $A$ is closed in $X$.
\end{theorem}
\begin{proof}
    Given a map $f: A \to A$ between topological spaces, the set of $x$ such that $f(x) = x$ is closed, for it is the inverse image of
    %
    \[ \Delta = \{ (x,x) : x \in A \} \]
    %
    under the map $f \times \text{id}_A: A \to A \times A$, and $\Delta$ is closed in $A \times A$ if $A$ is Hausdorff. A retraction $r$ from $X \times [0,1]$ to $X \times \{ 0 \} \cup A \times [0,1]$, then $X \times \{ 0 \} \cup A \times [0,1]$ is closed in $X \times [0,1]$. But $A \times \{ 1 \}$ is closed in $X \times \{ 0 \} \cup A \times [0,1]$, so it is closed in $X \times [0,1]$, and this implies it is closed in $X \times \{ 1 \}$, so $A$ is closed in $X$.
\end{proof}

\begin{example}
    Let $X = [0,1]$, and $A = \{ 1, 1/2, 1/3, \dots, 0 \}$. Suppose we had a retract
    %
    \[ r: X \times [0,1] \to X \times \{ 0 \} \cup A \times [0,1] \]
    %
    Then
    %
    \[ r(0,t) = \lim_{x \to \infty} r(1/x, t) = \lim_{x \to \infty} (1/x,t) = (0,t) \]
    %
    for all $t \in [0,1]$. This is clearly impossible, since $r$ must map all elements of $X \times [0,1]$ onto $X \times \{ 0 \}$ or $A \times [0,1]$. Thus $(X,A)$ does not have the homotopy extension property.
\end{example}

The next lemma sounds complicated. It is best to draw a picture, for then it becomes obvious. The lemma says that subspaces with `mapping cylinder neighbourhoods' satisfy homotopy extension.

\begin{lemma}
    If $f:Z \to Y$, then $(M_f, Z \times \{ 0 \} \cup Y)$ has the homotopy extension property.
\end{lemma}
\begin{proof}
        First note $([0,1], \{ 0, 1 \})$ has the homotopy extension property, since we have a retraction from $[0,1]^2$ to $[0,1] \times \{ 0 \} \cup \{ 0,1 \} \times [0,1]$, obtained by `scooping out the insides of the unit square' (rigorously, we can perform a projection continuosly from a point outside the square). Thus $(Z \times [0,1] \coprod A, Z \times \{ 0, 1 \} \coprod A)$ has the homotopy extension property, and we can- consider the necessary retraction
    %
    \begin{align*}
        (Z \times [0,1] \coprod A) \times [0,1] \xrightarrow{r} (Z \times [0,1] \coprod A) \times \{ 0 \} \cup (Z \times \{ 0, 1 \} \coprod A) \times [0,1]
    \end{align*}
    %
    Let $\pi: (Z \times [0,1] \coprod A) \times [0,1] \to M_f \times [0,1]$ be the projection map onto the quotient. Then
    %
    \[ (\pi \circ r)(z,1,t) = [z,1,t] = [f(z),t] = (\pi \circ r)(f(z),t) \]
    %
    inducing a map
    %
    \[ u: M_f \times [0,1] \to M_f \times [0,1] \]
    %
    which is a retraction, since $u$ is the unique map making the diagram below commute
    %
    \begin{center}
    \begin{tikzcd}
        (Z \times [0,1] \coprod A) \times [0,1] \arrow{r}{r} \arrow{d}{\pi} & (Z \times [0,1] \coprod A) \times \{ 0 \} \cup (Z \times \{ 0, 1 \} \coprod A) \times [0,1] \arrow{d}{\pi} \\
        M_f \times [0,1] \arrow{r}{u} & M_f \times [0,1]
    \end{tikzcd}
    \end{center}
    %
    and since $r^2 = r$, $u^2$ also makes the diagram commute. We retract onto
    %
    \begin{align*}
        &\pi((Z \times [0,1] \coprod A) \times \{ 0 \} \cup (Z \times \{ 0, 1 \} \coprod A) \times [0,1])\\
        &\ \ \ \ \ = M_f \times \{ 0 \} \cup \pi(Z \times \{ 0 \} \coprod A) \times [0,1]
    \end{align*}
    %
    this implies $(M_f, \pi(Z \times \{ 0 \} \cup A))$ has the homotopy extension property.
\end{proof}

\begin{lemma}
    If $A \subset X$ is contained in a closed set $N$ such that $(N,A)$ has the homotopy extension property, with $\partial N \subset A$, and such that $A - \partial N$ is closed in $A$, then $(X,A - \partial N)$ has the homotopy extension property.
\end{lemma}
\begin{proof}
    Let $f: X \to Y$ be a function, and $H: A - \partial N \times [0,1] \to Y$ a homotopy such that $f|_A = H_0$. Consider a homotopy $K: X - N^\circ \times [0,1] \to Y$, which is the constant homotopy equal to $f$ across the entire time interval. Now $K|_{\partial N}$ and $H$ combine to give a homotopy $G: A \times [0,1] \to Y$, which extends to a homotopy $\tilde{G}: N \times [0,1] \to Y$. Now $\tilde{G}$ and $K$ agree on $\partial N$, so they can be combined to form a homotopy on all of $X$.
\end{proof}

\begin{theorem}
    Let $A \subset X$, and suppose there is a map $f:Z \to A$, and a homeomorphism $h$ from $M_f$ onto a closed neighbourhood $N$ of $A$ in $X$ with $h([a]) = a$ for all $a \in A$, and $h(M_f - [Z \times \{ 0 \}])$ an open neighbourhood of $A$. Then $(X,A)$ has the homotopy extension property.
\end{theorem}
\begin{proof}
    Applying the homeomorphism $h$, we find that since $(M_f, Z \times \{ 0 \} \cup A)$ has the homotopy extension property, so too does
    %
    \[ (N, (h \circ \pi)(Z \times \{ 0 \} \cup A)) = (N, \tilde{Z} \cup A) \]
    %
    where $\tilde{Z} = (h \circ \pi)(Z \times \{ 0 \})$. Since $N$ is a closed neighbourhood of $X$, and $A$ is closed in $N$, then we find $(X,A)$ has the homotopy extension property as well.
\end{proof}

\begin{theorem}
    If $(X,A)$ is a CW pair, then $(X,A)$ has the homotopy extension property.
\end{theorem}
\begin{proof}
    We prove that $X \times \{ 0 \} \cup A \times [0,1]$ is actually a deformation retraction of $X \times [0,1]$. There is an easy deformation retraction
    %
    \[ r: \mathbf{D}^n \times [0,1] \to \mathbf{D}^n \times \{ 0 \} \cup \partial \mathbf{D}^n \times [0,1] \]
    %
    obtained by sliding down the stereographic projection over a time interval. Thus $(\mathbf{D}^n, \partial \mathbf{D}^n)$ has the homotopy extension property. We may combine these deformations to obtain a map from $X_n \times [0,1]$ to $X_n \times \{ 0 \} \cup (X_{n-1} \cup A_n) \times [0,1]$. Let $H_n$ be the deformation retraction on a shortened interval $[1/2^{n+1}, 1/2^n]$. We may put all the $H_n$'s together to form a retraction
    %
    \[ H: X \times [0,1] \to X \times \{ 0 \} \cup A \times [0,1] \]
    %
    by inductively contracting each $H_n$, and then leaving higher dimensions alone. $H$ is continuous on each skeleton $X_n \times [0,1]$, so it is continuous on the whole skeleton by the weak topology on $X$. Thus $(X, A)$ has the homotopy extension property.
\end{proof}

\begin{theorem}
    If $(X,A)$ has the homotopy extension property and $A$ is contractible, then the quotient map $\pi:X \to X/A$ is a homotopy equivalence.
\end{theorem}
\begin{proof}
    Let $H: [0,1] \times X \to X$ be an extension of the homotopy between the contraction of $\text{id}_A$ to a point, with $H_0 = \text{id}_X$. Then, since $H_t(A) \subset A$ for all $t$,
    %
    \[ (\pi \circ H)(a,t) = (\pi \circ H)(a',t) \]
    %
    for all $a,a' \in A$, $t \in [0,1]$. Thus $H$ is perturbed to a homotopy on the quotient
    %
    \[ G: [0,1] \times X/A \to X/A \]
    %
    where $G_t$ satisfies the diagram.
    %
    \begin{center}
    \begin{tikzcd}
        X \arrow{d}{\pi} \arrow{r}{H_t} & X \arrow{d}{\pi} \\ X/A \arrow{r}{G_t} & X/A
    \end{tikzcd}
    \end{center}
    %
    Since $H_1: X \to X$ maps $A$ to a point, we obtain a function $g: X/A \to X$ satisfying the commutative diagram
    %
    \begin{center}
    \begin{tikzcd}
        X \arrow{r}{H_1} \arrow{d}{\pi} & X \arrow{d}{\pi} \\ X/A \arrow{ru}{g} \arrow{r}{G_1} & X/A
    \end{tikzcd}
    \end{center}
    %
    Thus $H$ gives us a homotopy between $g \circ \pi$ and the identity. On the other end, $\pi \circ g$ is homotopic to the identity by the map $G$.
\end{proof}

\begin{theorem}
    If $(X_1,A)$ is a CW pair, and $f,g : A \to X_0$ are homotopic attaching maps, then
    %
    \[ X_0 \coprod_f X_1 \simeq_{X_0} X_0 \coprod_g X_1 \]
    %
    where notation is liberally applied.
\end{theorem}
\begin{proof}
    Let $H: A \times [0,1] \to X_0$ be the homotopy between $f$ and $g$, and consider the space
    %
    \[ X_0 \coprod_H X_1 \times [0,1] \]
    %
    We may consider both
    %
    \[ X_0 \coprod_f X_1 = \{ [x,0] : x \in X_1 \} \cup \{ [x] : x \in X_0 \} \]
    \[ X_0 \coprod_g X_1 = \{ [x,1] : x \in X_1 \} \cup \{ [x]: x \in X_0 \} \]
    %
    as subspaces of this attaching space. We have a strong deformation retraction of $X_1 \times [0,1]$ onto $X_1 \times \{ 0 \} \cup A \times [0,1]$, which induces a strong retraction of $X_0 \coprod_H X_1 \times [0,1]$ onto $X_0 \coprod_f X_1$. Similarily, a strong retraction of onto $X_1 \times \{ 1 \} \cup A \times [0,1]$ induces a strong retraction onto $X_0 \coprod_g X_1$, and composing the retraction gives us a homotopy equivalence which fixes $X_0$.
\end{proof}

\begin{theorem}
    If $(X,A)$ and $(Y,A)$ satisfy the homotopy extension property, and $f:X \to Y$ is a homotopy equivalence with $f|_A = \text{id}_A$, then $f$ is a homotopy equivalence relative to $A$.
\end{theorem}
\begin{proof}
    Let $g$ be a homotopy inverse for $f$, and let $H: X \times [0,1] \to X$ be the homotopy between $g \circ f$ and $\text{id}_X$. First, we show that it is fine to asume $g|_A = \text{id}_A$. Since $f|_A = \text{id}_A$, $H|_A$ is a homotopy between $g|_A$ and $\text{id}_A$. But then $H|_A$ extends to a homotopy $\tilde{H}$ between $g$ and a map $h$ with $h|_A = \text{id}_A$.

    Now we must construct a homotopy from $g \circ f$ to $\text{id}_X$ relative to $A$ (which is possible since $g$ is the identity on $A$). Note that $H|_A$ starts and ends at the identity. Thus, we define a `homotopy' of homotopies
    %
    \[ K: A \times [0,1] \times [0,1] \to X \]
    %
    where
    %
    \[ K_{t,u} = \begin{cases} H_t|_A & t \leq 1/2\ \text{and}\ u \leq 1 - 2t,\ \text{or}\ t \geq 1/2\ \text{and}\ u \leq 2t - 1 \\ H_u|_A & t \leq 1/2\ \text{and}\ u \geq 1 - 2t,\ \text{or}\ t \geq 1/2\ \text{and}\ u \geq 2t - 1 \end{cases} \]
    %
    Then $K_{t,0} = H_t|_A$ can be extended to the homotopy $H_t$, so $K$ extends to a homotopy
    %
    \[ \tilde{K}: X \times [0,1] \times [0,1] \to X \]
    %
    with $\tilde{K}_{t,0} = H_t$. The homotopy which starts at the lower left corner of the square, then the upper left, to the upper right, and then to the bottom right is a homotopy from $\tilde{K}_{0,0} = H_0 = g \circ f$ to $\tilde{K}_{1,0} = H_1 = \text{id}_X$. And this is a homotopy relative to $A$, since
    %
    \[ K_{0,u} = K_{1,u} = H_0|_A = \text{id}_A\ \ \ \ K_{t,1} = H_1|A = \text{id}_A \]
    %
    Thus we have constructed a homotopy which fixes $A$.
\end{proof}

\begin{corollary}
    If $(X,A)$ satisfies the homotopy extension property, and the embedding of $A$ in $X$ is a homotopy equivalence, then $A$ is a strong deformation retract of $X$.
\end{corollary}
\begin{proof}
    The last theorem tells us the embedding $i: A \to X$ is a homotopy equivalence relative to $A$. Thus there is a map $r: X \to A$ such that $r \circ i$ is homotopic to $\text{id}_A$ relative to $A$, hence $r \circ i = \text{id}_A$, and $r$ is a retract of $X$ to $A$. The map $i \circ r$ is homotopic to $\text{id}_X$ relative to $A$, which means exactly that $r$ is a strong deformation retract.
\end{proof}

\begin{corollary}
    A map $f:X \to Y$ is a homotopy equivalence if and only if $X$ is a deformation retract of $M_f$.
\end{corollary}
\begin{proof}
    The inclusion $i: X \to M_f$ is homotopic to $j \circ f$, where $j: Y \to M_f$ is the inclusion. The homotopy is obtained by sliding down the mapping cylinder. Now $j$ is a homotopy equivalence, because $M_f$ deformation retracts strongly onto $Y$. Thus $i$ is invertible in $\textbf{Toph}$ if and only if $f$ is invertible in $\textbf{Toph}$, which implies that if $X$ is a deformation retract of $M_f$, $f$ is a homotopy equivalence. Conversely, $(M_f, X)$ has the homotopy extension property, so the last lemma implies that if $f$ is a homotopy equivalence, then $i$ is a homotopy equivalence, and so $X$ is a strong deformation retract of $M_f$.
\end{proof}

Thus two spaces are homotopic if and only if they are both deformation retracts of a bigger space.





\chapter{Fundamental Groups}

\section{The Fundamental Groupoid}

In this chapter, we use homotopy to find a useful algebraic structure describing spaces. Two paths $\lambda:[0,1] \to X$ and $\gamma:[0,1] \to X$ are {\bf path homotopic} if $\lambda(0) = \gamma(0)$, $\lambda(1) = \gamma(1)$, if there is a homotopy $\{ \mu_t: [0,1] \to X \}$ between $\lambda$ and $\gamma$ such that $\mu_t(0) = \lambda(0)$, $\mu_t(1) = \lambda(1)$ for all $t \in [0,1]$. Thus a homotopy is a continuous deformation of the paths which fixes endpoints. $\{ \mu_t \}$ is known as a {\bf path homotopy}, and we write $\lambda \simeq_p \gamma$. It is simple to verify that $\simeq_p$ is an equivalence relation.

\begin{example}
    Any two paths $\lambda$ and $\gamma$ in $\mathbf{R}^n$ with the same start and endpoint are path homotopic, by the path homotopy
    %
    \[ \mu_t(u) = t \lambda(u) + (1 - t) \gamma(u) \]
    %
    which is continuous, since multiplication and addition are continuous in $\mathbf{R}^n$.
\end{example}

Given a space $X$, we shall define a category $\Pi(X)$, whose objects consists of points in $X$, and whose morphisms consist of homotopy classes of paths beginning at one point and ending at another. Let $\lambda$ be a path beginning at $x$ and ending at $y$, and a path $\gamma$ beginning at $y$ and ending at $z$. We define the composed path
%
\[ (\gamma * \lambda)(t) = \begin{cases} \lambda(2t) & t \leq 1/2 \\ \gamma(2t - 1) & t \geq 1/2 \end{cases} \]
%
If $\lambda \simeq_p \gamma$, and $\alpha \simeq_p \beta$, then $\lambda * \alpha \simeq_p \gamma * \beta$, so $*$ really acts on the morphisms in $\Pi(X)$, which are equivalence classes of paths. Composition of paths is not an associative operation, but when we project down to the quotient structure, we do have associativity
%
\[ [\lambda] * ([\gamma] * [\mu]) = [\lambda * (\gamma * \mu)] = [(\lambda * \gamma) * \mu] = ([\lambda] * [\gamma]) * [\mu] \]
%
it is easily verified that, while $\lambda * (\gamma * \mu) \neq (\lambda * \gamma) * \mu$, the two paths are path homotopic. Finally, we need to identify the `identity paths' in $\Pi(X)$. Given an point $x \in X$, consider the constant path $e_x$, which remains at $x$ at all time points. Then the path $e_x * c$ begins at one point, moves along $c$ at twice the rate than normal, and settles down at the end, waiting for half the time. We shall vary this speed continuously to construct a path homotopy between $c$ and $e_x * c$. Consider the path homotopy
%
\[ \mu_t(u) = \begin{cases} c(\frac{2t}{1+u}) & t \leq \frac{1 + u}{2} \\ c(1) & t \geq \frac{u}{2} \end{cases} \]
%
Similarily, $c * e_x \simeq_p c$, by the homotopy
%
\[ \mu_t(u) = \begin{cases} c(0) & t \leq \frac{1 - u}{2} \\ c(\frac{2t + u - 1}{1+u}) & t \geq \frac{1 - u}{2} \end{cases} \]
%
so that $e_x$ is the identity morphism in $\Pi(X)$, and $\Pi(X)$ is a category.

We call a category where every morphism is invertible a {\bf groupoid}. Given a path $\gamma: [0,1] \to X$, consider the map $\overline{\gamma}: [0,1] \to X$, defined by $\overline{\gamma}(t) = \gamma(1 - t)$. We claim that $[\overline{\gamma}] = [\gamma]^{-1}$. This is because once $\gamma$ is composed with $\overline{\gamma}$, only the beginning point is fixed, so we can `pull' the path down to a point, by the homotopy
%
\[ \mu_t(u) = \begin{cases} c(2ut) & t \leq 1/2 \\ c(2u(1-t)) & t \geq 1/2 \end{cases} \]
%
This verifies that $[\overline{\gamma} \circ \gamma] = [e_x]$. That $[\gamma \circ \overline{\gamma}] = [e_x]$ follows because $\overline{\overline{\gamma}} = \gamma$. For this reason, $\Pi(X)$ is known as the {\bf fundamental groupoid} of $X$.

The set of loops at a point (automorphisms in the category at a fixed object) form a group. For $x \in X$, the automorphism group at $x \in \Pi(X)$ will be denoted $\pi_1(X,x)$. If $X$ is path connected, then all objects in $\Pi(X)$ are isomorphic, and thus the group of loops at a point is invariant of which point we choose. We call this group\footnote{I suppose a pedantist would argue this is really a class of isomorphic groups, but \dots meh} the {\bf fundamental group} of $X$, denoted $\pi_1(X)$.

\begin{example}
    For a convex set $X$ in $\mathbf{R}^n$, any loop $\lambda$ can be contracted to a constant map, so $\pi_1(X)$ is the trivial group.
\end{example}

A space is {\bf simply connected} if it is path-connected and has trivial fundamental group. Every convex subset of $\mathbf{R}^n$ (and in general, any topological vector space) is simply connected. In terms of the fundamental groupoid, a space is simply connected if every object in the fundamental groupoid is initial.

\begin{example}
    If $n \geq 2$, then $S^n$ is simply connected. Consider any particular curve $\gamma$, with start-point $x$ and end-point $y$. Fix $z \neq x,y$, and pick a convex chart $(u,U)$ around $z$ not containing $x$ nor $y$. Then $\gamma^{-1}(U)$ is an open subset of $[0,1]$, and thus a union of certain intervals $(a_i,b_i)$, which we may have countably many of. Nonetheless, $\gamma^{-1}(z)$ is a compact subset, so is contained in only finitely many $(a_{i_1}, b_{i_1}), \dots, (a_{i_n}, b_{i_m})$. Suppose $m = 1$. Construct a continuous path from $\gamma(a_{i_1})$ to $\gamma(b_{i_m})$ which remains in $U$, and does not touch $z$. This is possible because it is possible in any connected, open subset of $\mathbf{R}^n$, for $n \geq 2$, and $U$ is homeomorphic to such a subset. Since $U$ is a convex subset, it is simply connected, and $\gamma$ is path homotopic to the modified path $\gamma'$, which does not touch $z$. In general, for $m > 1$, we remove the intersection intervals by induction. But if $\gamma$ does not touch $z$, then $\gamma$ remains in $S^n - \{ z \}$, which is homeomorphic to $\mathbf{R}^n$, and thus $\gamma$ is path homotopic to any other path which connects $x$ and $y$ and does not touch $z$. But then $\gamma \simeq_p \lambda$ for any other path $\lambda$, for $\lambda$ is path homotopic to a path which does not touch $z$.
\end{example}

\begin{theorem}
    Given two path connected spaces $X$ and $Y$, we have
    %
    \[ \Pi(X \times Y) \cong \Pi(X) \times \Pi(Y) \]
\end{theorem}
\begin{proof}
    Given a paths $\gamma: [0,1] \to X \times Y$, we have two paths $\pi_X \circ \gamma: [0,1] \to X$, $\pi_Y \circ \gamma: [0,1] \to Y$, for which $\gamma = (\pi_X \circ \gamma) \times (\pi_Y \circ \gamma)$ We have
    %
    \[ \pi_X \circ (\gamma * \lambda) = (\pi_X \circ \gamma) * (\pi_X \circ \lambda) \]
    %
    and if $\gamma \simeq_p \lambda$, then $\pi_X \circ \gamma \simeq_p \pi_X \simeq_p \lambda$ and $\pi_Y \circ \gamma \simeq_p \pi_Y \circ \lambda$, so that map
    %
    \[ [\gamma] \mapsto ([\pi_X \circ \gamma], [\pi_Y \circ \gamma]) \]
    %
    is a well defined functor from $\Pi(X \times Y)$ to $\Pi(X) \times \Pi(Y)$, since the image of $e_{(x,y)}$ is $(e_x, e_y)$. It is easily verified to be an isofunctor.
\end{proof}

\begin{corollary}
    $\pi_1(X \times Y) \cong \pi_1(X) \times \pi_1(Y)$.
\end{corollary}

For some forthcoming examples, we shall assume $\pi_1(S^1) = \mathbf{Z}$. This will never factor into formal proofs until we perform the calculation, so it does not cause a logical issue. The reason for this is that it is in general very difficult to calculate the fundamental group of spaces, and we require examples for some of the theory.

\begin{example}
    The torus $\mathbf{T}^2$ can be described as the product $S^1 \times S^1$. Hence
    %
    \[ \pi_1(\mathbf{T}^2) = \pi_1(S^1 \times S^1) \cong \pi_1(S^1) \times \pi_1(S^1) \cong \mathbf{Z}^2 \]
    %
    In general, $\pi_1(\mathbf{T}^n) = \pi_1(S^1 \times \dots \times S^1) \cong \mathbf{Z}^n$.
\end{example}





\section{Induced Homomorphisms}

The map $\Pi$ converts objects in $\textbf{Top}$  to object in the category $\textbf{Grpd}$ of groupoids. If $f: X \to Y$ is a map, and $\gamma$ is a path in $X$, then we define $f_*(\gamma) = f \circ \gamma$. If $\gamma \simeq_p \lambda$, then $f \circ \gamma \simeq_p f \circ \lambda$. Since
%
\[ f_*(\gamma * \lambda) = f \circ (\gamma * \lambda) = (f \circ \gamma) * (f \circ \lambda) \]
%
the map $f_*$ is a functor between $\Pi(X)$ and $\Pi(Y)$. It follows that $\Pi$ is actually a functor, since $(g \circ f)_* = g_* \circ f_*$, and ${(\text{id}_X)}_*$ is the identity map on $\Pi(X)$. It follows that if two spaces are homeomorphic, then they have isomorphic fundamental groupoids.

\begin{theorem}
    A retraction $r: X \to A$ and an embedding $i: A \to X$ induces a faithful functor $i_*: \Pi(A) \to \Pi(X)$. If $r$ is a strong deformation retraction, then $i_*$ is also full.
\end{theorem}
\begin{proof}
    If $r$ is a retraction, then $r \circ i = \text{id}_A$, so
    %
    \[ r_* \circ i_* = (r \circ i)_* = {\text{id}_A}_* = \text{id}_{\Pi(A)} \]
    %
    Thus $i_*$ has a left inverse, and is therefore injective, hence faithful. Conversely, if $H: X \times [0,1] \to X$ is a deformation retraction between $\text{id}_X$ and $r$, then any path $\gamma$ between $a$ and $b$ in $A$ is path homotopic to $r_*(\gamma)$ via the map
    %
    \[ G(x,t) = H(\gamma(x),t) \]
    %
    Thus $i_*$ is surjective.
\end{proof}

\begin{example}
    If $r$ retracts a simply connected space $X$ to a connected subset $A$, then $A$ is simply connected. This implies that there is no retraction from $\mathbf{D}$ onto $S^1$.
\end{example}

Retractions give strong relations between the fundamental group between spaces. For $a \in A$, the map $(i \circ r)_*: \pi_1(X,a) \to \pi_1(X,a)$ is a retraction onto $\pi_1(A,a)$, viewed as a subset of $\pi_1(X,a)$. If $\pi_1(A,a)$ is normal in $\pi_1(X,a)$, then
%
\[ \pi_1(X,a) \cong \pi_1(A,a) \times \text{ker}((i \circ r)_*) \]
%
More generally, if $\pi_1(A,a)$ is not normal, then we must instead take the semidirect product
%
\[ \pi_1(X,a) \cong \pi_1(A,a) \rtimes \text{ker}((i \circ r)_*) \]
%
Thus we can find whether there is a retraction to a subspace by comparing fundamental groups.

While the fundamental groupoid is a more sophisticated and general construction, the fundamental group is normally easier to compute with. Since the fundamental group is basepoint dependant, it is best to consider the construction as a functor on the category $\textbf{Top}_*$ of {\bf pointed topological spaces}, whose objects are pairs $(X,x_0)$, with $x_0 \in X$ is a fixed point, and whose morphisms are {\bf basepoint proserving maps}, $f: (X,x_0) \to (Y,y_0)$ which are continuous maps from $X$ to $Y$ which map $x_0$ to $y_0$. Given $f$, $f_*$ can be seen as a map from $\pi(X,x_0) \to (Y,y_0)$, so $\pi$ is a functor. A {\bf basepoint preserving homotopy} between two maps $f,g: (X,x_0) \to (Y,y_0)$ is a homotopy $H: X \times [0,1] \to X$ between $f$ and $g$ such that $H(x_0, t) = x_0$ for all $t \in [0,1]$. If $f$ is basepoint homotopic to $g$, then $f_* = g_*$ on the fundamental groups, since
%
\[ f_*([\gamma]) = [f \circ \gamma] = [g \circ \gamma] = g_*([\gamma]) \]
%
A basepoint preserving homotopy equivalence therefore induces an isomorphism between the fundamental groups at each point.

We shall show that general homotopy equivalences preserve the fundamental group. The trick to this is showing that, even though we do not preserve a point $x_0$ in the homotopy equivalence, the path obtained by following the image of $x_0$ allows us to construct a homotopy between the two sets.

\begin{lemma}
    If $H$ is a homotopy between $f$ and $g$, and $h: [0,1] \to Y$ is the path $h(t) = h(x_0,t)$, then the diagram below commutes.
    %
    \begin{center}
    \begin{tikzcd}
        & \pi_1(Y, g(x_0)) \arrow{d}[right]{\beta_h: [\gamma] \mapsto [h * \gamma * \overline{h}]}\\
        \pi_1(X,x_0) \arrow{ru}{g_*} \arrow{r}[below]{f_*} & \pi_1(Y,f(x_0))
    \end{tikzcd}
    \end{center}
\end{lemma}
\begin{proof}
    There is a path homotopy $G$ between $h * (g \circ \gamma) * \overline{h}$ and $f \circ \gamma$. TO see this, define a path $h_t$ to be a segment of the path $h$, defined by $h_t(u) = h(tu)$. Then take $G$ to be
    %
    \[ G(u,t) = (h_t * H(\cdot, t)_*(\gamma) * \overline{h_t})(u) \]
    %
    We compute $G(0,t) = (h_0 \circ f_*(\gamma) \circ \overline{h_0})(t)$, a path which is path homotopic to $f \circ \gamma$ by reparameterization, and $G(1,t) = (h \circ g_*(\lambda) \circ \overline{h})(t)$, which is the path $h * (g \circ \gamma) * \overline{h}$. Thus $\beta_h \circ g_*([\gamma]) = [h * (g \circ \gamma) * \overline{h}] = [f \circ \gamma]$.
\end{proof}

We note that $\beta_h: [\gamma] \mapsto [h * \gamma * \overline{h}]$ is an isomorphism from $\pi_1(Y, g(x_0)$ to $\pi_1(Y, f(x_0))$, since if $[h * \gamma * \overline{h}] = [e_x]$, then $[\gamma] = [e_x]$ by composing inverses, so the map is injective and $[h * (\overline{h} * \gamma * h) * \overline{h}] = [\gamma]$, so the map is surjective.

\begin{theorem}
    if $f: X \to Y$ is a homotopy equivalence, then
    %
    \[ f_*: \pi(X, x_0) \to \pi_1(Y, f(x_0)) \]
    %
    is an isomorphism for each $x_0 \in X$.
\end{theorem}
\begin{proof}
    Let $g: Y \to X$ be a homotopy inverse for $f$. Consider the maps
    %
    \[ \pi_1(X,x_0) \xrightarrow{f_*} \pi_1(Y, f(x_0)) \xrightarrow{g_*} \pi_1(X, (g \circ f)(x_0)) \xrightarrow{f_*} \pi_1(Y, (f \circ g \circ f)(x_0)) \]
    %
    Since $g \circ f$ is homotopic to $\text{id}_X$, it follows that $(g \circ f)_*$ is conjugation by $h$ for some path $h$, and is therefore an isomorphism, so $f_*$ is injective. The same argument shows $(f \circ g)_*$ is an isomorphism, so $f_*$ is also surjective.
\end{proof}

\begin{corollary}
    A homotopy equivalence $f:X \to Y$ induces a full functor $f_*$ from $\Pi(X)$ to $\Pi(Y)$.
\end{corollary}




\section{Van Kampen's Theorem}




\section{Covering Spaces}

We have uncovered some basic mechanisms which govern the fundamental groups of a space, but we still haven't computed any interesting fundamental groups. The general problem of finding fundamental groups is provably intractable, so it makes sense that these groups should be hard to calculate. Algebraic topology must strike a balance with finding algebraic structures which are both easy to calculate, and powerful enough to distinguish spaces. Covering spaces simplify the computation of the fundamental groups, but we shall ultimately have to switch to a different invariant to understand the theory.

The theory of covering spaces is deeply connected to field theory. Galois' correspondence shows that subextensions of a field extension corresponds to subgroups of the Galois group. If one knows the subextensions, one may calculate the Galois group, and vice versa. In the theory of fundamental groups, one corresponds covering spaces of a space, which correspond to subgroups of the fundamental group of the space. Understanding of the covering spaces leads to an understanding of the fundamental group, and an understanding of the fundamental group gives an insight into the classification of covering spaces.

A {\bf covering space} of a {\bf base space} $B$ is a space $E$ together with a surjective map $p: E \to B$, such that there exists an open cover $\{ U_\alpha \}$ of $B$, such that $p^{-1}(U_\alpha)$ is the disjoint union of open sets in $E$ known as {\bf folds} or {\bf sheets}, with each fold mapped by $p$ homeomorphically onto $U_\alpha$. The number of folds at each point in $B$ is locally constant, so if $B$ is connected then the number of folds is constant. An {\bf $\bf{n}$-fold cover} has $n$ folds at each point.

\begin{example}
    The primordial example of a covering space is $\mathbf{R}$ over $S^1$, bound by the projection $p(t) = e^{it}$. $p$ is an open map, since it is a differentiable and has full rank at every point.For each $x$, the inverse image of any open arc in $S^1$ splits into countably many disjoint intervals mapping homeomorphically onto the arc. Thus $p$ really is a cover. One can view this covering space as an infinite helix which wraps around the circle. $S^1$ is also a cover for $S^1$, together with the map $p(z) = z^n$. One visualizes this as a finite helix which wraps around $S^1$ $n$ times, then connects back with itself. Alternatively, take the curve around the torus which wraps around $n$ times, and project it down to the circle used to form the surface of revolution of the torus.
\end{example}

It turns out that these are the only covers on $S^1$, and each corresponds to a unique subgroup of $\pi_1(S^1)$, which we will (eventually) show to be $\mathbf{Z}$. The cover by $\mathbf{R}$ corresponds to $(0)$, and the loop which revolves $n$ times around the circle corresponds to the subgroup $n \mathbf{Z}$.

\begin{example}
    Consider the wedge product $S_1 \vee S_1$, which we see as a CW complex with a single vertex $v$ and edges $a$ and $b$. Assign an orientation to each edge, so the complex becomes a directed graph. Let $\Gamma$ be any directed graph with a 2-coloring of edges (known as $a$ edges and $b$ edges), such that every vertex has one incoming $a$ edge, one outgoing $a$ edge, one incoming $b$ edge, and one outgoing $b$ edge. Such a structure is known as a 2-orientation. Consider $p: \Gamma \to S_1 \vee S_1$, which maps each vertex to $v$, each $a$-edge to $a$ (with the right orientation), and each $b$-edge to $b$. Then $p$ is a cover, and in fact all covers are of this form. It is easy to see for finite graphs that every graph with degree four at each node has a 2-orientation. It is a theorem of Koenig that this is true for infinite graphs. One may generalize to $n$-orientations, which are the covering spaces of the $n$-fold wedge product of circles.
\end{example}

\subsection{Lifting}

The primary technique in covering space theory is that covers enables us to transfer functions from the base space into the extension space. A {\bf lift} of a map $f: X \to B$ is a map $\tilde{f}: X \to E$ for which $p \circ \tilde{f} = f$. The primary techniques of covering spaces result from the existence of lifts.

\begin{theorem}[Homotopy Lifting Lemma]
    Given a covering space $p: E \to B$, and a homotopy $H: X \times [0,1] \to B$ between $f$ and $g$, then a lift $\tilde{f}$ of $f$ induces a unique lifted homotopy $\tilde{H}: X \times [0,1] \to E$ between $\tilde{f}$ and some lift of $g$.
\end{theorem}
\begin{proof}
    We shall construct a lift locally around $\{ x \} \times [0,1]$ for each $x \in X$. Provided these lifts are unique, we can put them all together to form a homotopy on the whole space. Fix $x \in X$. For each $t$, pick a neighbourhood $U_t$ of $x$, and $t \in [a_t, b_t]$ for which $H(U_t \times [a_t, b_t])$ is contained in some $U_\alpha$. The compactness of $\{ x \} \times [0,1]$ allows us to cover this by finitely many $U_t \times [a_t, b_t]$. Taking the intersection of the $U_t$, we find a neighbourhood $N$ and $0 = t_0 < \dots < t_n = 1$ such that $H(N \times [t_i, t_{i+1}]) \subset U_\alpha$ for some $\alpha$. Assume we have constructed $\tilde{H}$ on $[0,t_n]$ (which we already have, for $n = 0$, since we have the lift $\tilde{f}$). We know $H(N \times [t_n, t_{n+1}]) \subset U_\alpha$ for some $\alpha$, so pick a homeomorphic $V$ containing $(x,t_n)$ in $p^{-1}(H(N \times [t_n, t_{n+1}]))$. By choosing $N$ to be smaller, we may assume that $\tilde{H}(N \times \{ t_n \})$ is contained in $V$. Now extend $\tilde{H}$ by composing $H$ with the homeomorphism $p^{-1}: U_\alpha \to V$. After finitely many steps, we obtain a lift $\tilde{H}$ in a neighbourhood of $x$.

    To verify uniqueness, we assume, without loss of generality, that $x$ consists of a single point. If $X$ consists of more than one point, we find by the single point theorem that the homotopy $H$ lifts uniquely on the fibre of each $x \in X$, and by combining all $x$, we find the homotopy generally lifts uniquely. In the singular case, a homotopy can be viewed as a path in $B$. Suppose $\tilde{H}$ and $\tilde{H}'$ are two lifts of $H$. Pick $0 = t_0 < t_1, \dots < t_n = 1$ such that $H([t_i, t_{i+1}])$ is in some $U_\alpha$. Assume by induction that $\tilde{H}$ and $\tilde{H}'$ agree on $[0,t_i]$. Since $[t_n, t_{n+1}]$ is connected, $\tilde{H}([t_n, t_{n+1}]$ must be contained in one fold of $U_\alpha$. The same is true of $\tilde{H}'([t_n, t_{n+1}])$, and this must be the same fold, since $\tilde{H}(t_n) = \tilde{H}'(t_n)$. This implies that $\tilde{H} = \tilde{H}'$ on $[t_n, t_{n+1}]$, for there is only one way to define the maps on the fold such that they lift $H$. By induction, we verify the claim.
\end{proof}

The case where $X$ consists of a point is useful in of itself.

\begin{corollary}[Path Lifting Lemma]
    Given a path $\gamma$ beginning at $b \in B$, a point $e \in p^{-1}(b)$ induces a unique path $\tilde{\gamma}$ lifting $\gamma$, beginning at $e$.
\end{corollary}

Similarily, a path homotopy $H$ between $\gamma$ and $\lambda$ lifts to a unique path homotopy $\tilde{H}$ given a particular point $e \in p^{-1}(\gamma(0)) = p^{-1}(\lambda(0))$. This has a useful application.

\begin{theorem}
    A cover $p: E \to B$ induces a faithful functor $p_*: \Pi(E) \to \Pi(B)$.
\end{theorem}
\begin{proof}
    If $\gamma \simeq_p \lambda$ in $B$ start at $b \in B$, then the path homotopy $H$ between $\gamma$ and $\lambda$ lifts to a path homotopy between the lifts of $\gamma$ and $\lambda$ at each $e \in p^{-1}(b)$. Thus $p_*$ is injective on each set of morphisms with a given source and target, and is therefore faithful.
\end{proof}

Note that we may consider covers $p: (E,e_0) \to (B,b_0)$ in $\textbf{Top.}$, and the last theorem gives us a corollary for the fundamental group.

\begin{corollary}
    A cover $p: (E,e_0) \to (B,b_0)$ induces an injective homomorphism $p_*: \pi_1(E,e_0) \to \pi_1(B,b_0)$.
\end{corollary}

\begin{theorem}
    The number of sheets of a connected cover $p: (E,e_0) \to (B,b_0)$ is the index of $p_*(\pi(E,e_0))$ in $\pi_1(B,b_0)$.
\end{theorem}
\begin{proof}
    Let $\gamma$ and $\lambda$ be loops at $b_0$. Then $\gamma$ and $\lambda$ lift uniquely to paths $\tilde{\gamma}$ and $\tilde{\lambda}$ beginning at $e_0$. If $\tilde{\lambda}$ and $\tilde{\gamma}$ have the same endpoint, then $\lambda$ and $\gamma$ are path homotopically conjugate relative to $p_*(\pi(E,e_0))$, for
    %
    \[ [\gamma] = [\lambda] * [\overline{\lambda} * \gamma] \]
    %
    and $\overline{\lambda} * \gamma$ lifts to a loop at $e_0$, and is thus in the image of $p_*$.
\end{proof}

A {\bf universal cover} is a cover $p: E \to B$ for which $E$ is simply connected. They are the fundamental covers in the theory of covering spaces, for we shall find every cover is a quotient of this cover.

\begin{corollary}
    The number of sheets in a universal cover $p: (E,e_0) \to (B,b_0)$ is the cardinality of $\pi_1(B,b_0)$.
\end{corollary}

\begin{example}
    The universal cover $p: \mathbf{R} \to S^1$ tells us $\pi_1(S^1)$ is countable. The projections $\pi: S^n \to \mathbf{R} \mathbf{P}^n$ is a 2-fold cover which is universal for $n \geq 2$, so $\pi_1(\mathbf{R} \mathbf{P}^n) \cong \mathbf{Z}_2$ for $n \geq 2$.
\end{example}

\begin{example}
    The universal cover of $S_1 \vee S_1$ is the simply connected graph with degree four at each vertex. Simple connectedness means exactly that the graph is a tree. Thus we take a vertex $v$, we branch to four vertices, which each branch to four vertices, ad infinitum. For the $n$-fold wedge product of circles, we take the tree which branches $2n$ times at each node.
\end{example}

Homotopies lift uniquely, but what about functions?

\begin{theorem}
    Given a cover $p:(E,e_0) \to (B,b_0)$, and a path-connected, locally path-connected $X$, a map $f: (X,x_0) \to (B,b_0)$ lifts to $\tilde{f}: (X,x_0) \to (E,e_0)$ if and only if $f_*(\pi_1(X,x_0)) \subset p_*(\pi_1(E,e_0))$
\end{theorem}
\begin{proof}
    If $\tilde{f}$ exists, then $f_* = p_* \circ \tilde{f}_*$, so the subset relation holds. Conversely, for $x \in X$, consider a path $\gamma$ from $x_0$ to $x$. Then $f_*(\gamma)$ is a path from $b_0$ to $b$, which lifts uniquely to a path from $e_0$ to another point, which we shall define to be $\tilde{f}(x)$. If $\lambda$ is another path from $x_0$ to $x$, then $\overline{\gamma} * \lambda$ is a loop at $x_0$, so $f_*(\overline{\gamma} * \lambda) = \overline{f_*(\gamma)} * f_*(\lambda)$ is a loop at $b_0$ which lifts to a loop at $e_0$ (here is where we use our assumption), which we may then compose with the lift of $\gamma$, which is path homotopic to the lift of $\lambda$, and moves to the same endpoint. Thus $\tilde{f}$ is well defined. $\tilde{f}$ satisfies our needs provided it is continuous. If $U_\alpha$ is an open prefold in $B$, fix $x \in f^{-1}(U_\alpha)$ and pick a path connected $x \in V \subset f^{-1}(U_\alpha)$. If $y$ is also in $V$, then there is a path $\gamma$ between $x$ and $y$, which induces a path between $\tilde{f}(x)$ and $\tilde{f}(y)$ in $p^{-1}(U_\alpha)$. Thus $\tilde{f}(x)$ and $\tilde{f}(y)$ are in the same fold, so that locally $\tilde{f}$ is just $p^{-1} \circ f$, and therefore continuous.
\end{proof}

\begin{lemma}[Lifting Lemma]
    If $p: E \to B$ is a cover, and $f: X \to B$ have two lifts $\tilde{f}$ and $\tilde{f}'$ that agree at a point, then provided $X$ is connected $\tilde{f} = \tilde{f}'$.
\end{lemma}
\begin{proof}
    Let $C = \{ x \in X : \tilde{f}(x) = \tilde{f}'(x) \}$. Then $C$ is open, for if $\tilde{f}(x) = \tilde{f}'(x)$, pick a sheet $V$ around $f(x)$ which projects by $p$ onto some presheet $U_\alpha$. Then if $W$ is a neighbourhood of $x$ such that $\tilde{f}(W), \tilde{f}'(W) \subset V$, then on $W$  we must have $\tilde{f} = \tilde{f}'$, since there is only one way to define the lift here. A similar construction shows $C^c$ is open, so $C = X$, since it is open, closed, and nonempty.
\end{proof}


\subsection{Existence of a Universal Cover}

Universal covers are the nicest covers to possess, so we want to use them over all spaces we can. Like with algebraic closures and splitting extensions, we will find the universal cover is unique up to cover isomorphism. First, lets construct the universal cover.

We shall call a space $X$ is a {\bf semilocally simply connected} if every point $x$ has a neighbourhood $U$ for which the inclusion map induces a trivial morphism $i_*: \pi_1(U,x) \to \pi_1(X,x)$. Certainly this is satisfies if $X$ is locally simply connected. Semilocal simple connectedness is a necessary condition for the existence of a universal cover, for if $p: E \to B$ is universal, then $b$ has a neighbourhood $U$ homeomorphic to some neighbourhood $V$ of $e$ in $E$. Each loop in $U$ then lifts to a loop in $V$, and this lifted loop is nullhomotopic in $E$. Projecting this nullhomotopy down by $p$ gives us a nullhomotopic loop in $B$. We shall construct universal covers for semilocally simply connected, path connected, locally path connected spaces.

\begin{theorem}
    Every semilocally simply connected, locally path connected, path connected space has a universal cover.
\end{theorem}
\begin{proof}
Suppose we have a universal cover $p: (E,e_0) \to (B,b_0)$. Then we know that each homotopy class of paths in $B$ lifts uniquely to a homotopy class of paths in $E$ starting at $e_0$, and conversely, each point $e$ in $E$ corresponds to the lift of the projection of the unique homotopy class of paths from $e_0$ to $e$. Thus a good place to start construction a universal cover for $B$ seems to be the space of path classes $\Pi(B)$. In particular, consider
%
\[ \tilde{B} = \coprod_{e \in E} \text{Mor}_{\Pi(B)}(e_0, e) \]
%
We have a surjective projection $p([\gamma]) = \gamma(1)$. We shall assign a topology to $\tilde{B}$ making the space a simply connected cover of $B$, for which $p$ is a continuous projection.

Let $\mathcal{U}$ be a collection of all path connected subsets $U$ of $X$ such that the embedding $i_*: \Pi(U) \to \Pi(X)$ is trivial. Then $\mathcal{U}$ is a basis for $X$ if $X$ is locally path connected and semilocally simply-connected, for if $V \subset U$ is path connected, then the injection $\Pi(V) \to \Pi(U) \to \Pi(X)$ must be trivial. We shall use $\mathcal{U}$ to construct a topology on $\tilde{B}$. Given a path class $[\gamma]$ and $U \in \mathcal{U}$, define
%
\[ U_{[\gamma]} = \{ [\lambda * \gamma] : \lambda\ \text{is a path in}\ U\ \text{with}\ \lambda(0) = \gamma(1) \} \]
%
Then $p|_{U_{[\gamma]}}$ is onto $U$, and injective for if $(\lambda * \gamma)(1) = (\mu * \gamma)(1)$, then $\lambda$ and $\mu$ both have the same end point, so $\lambda \simeq_p \mu$ in $U$, and $[\lambda * \gamma] = [\mu * \gamma]$. Furthermore, if $[\lambda] \in U_{[\gamma]}$, then $U_{[\gamma]} = U_{[\lambda]}$. This shows that $U_{[\gamma]}$ forms a basis for a topology on $\tilde{B}$, and $p$ is locally a homeomorphism, since for $V \subset U$, $p(V_{[\gamma]}) = V$. $p^{-1}(V) = \bigcup_{[\gamma]} V_{[\gamma]}$, which are disjoint or equal. This completes the construction of the universal cover.
\end{proof}

The existence of the universal cover give rise to a large variety of different covers, corresponding to subgroups of $\pi_1(B)$.

\begin{theorem}
    If $B$ is path connected, locally path connected, and semilocally simply connected, then for every subgroup $H < \pi_1(B,b_0)$ there is a cover $p_H: (E,e_0) \to (B,b_0)$ such that $(p_H)_*(\pi_1(E,e_0)) = H$.
\end{theorem}
\begin{proof}
    Take a quotient on $\tilde{B}$, as in the last proof, that identifies $[\gamma]$ and $[\lambda]$ if $\gamma(1) = \lambda(1)$, and $[\overline{\lambda} * \gamma] \in H$, to form the space $\tilde{B}_H$. If $[\alpha * \lambda] \in U_{[\lambda]}$ is identified with $[\beta * \gamma] \in U_{[\gamma]}$, then $U_{[\gamma]}$ is identified with $U_{[\lambda]}$, for if $[\mu]$ is identified with $[\nu]$, then $[\eta * \mu]$ is identified with $[\eta * \nu]$ and $[\mu * \eta]$ is identified with $[\nu * \eta]$ if $\nu$ is a loop at $e_0$. Thus $[\delta * \lambda] = [\delta * \overline{\alpha} * \alpha * \lambda]$ is identified with $[\delta * \overline{\alpha} * \beta * \gamma]$. The natural basepoint is the image of the constant map $[e_{e_0}]$, which is projected onto $e_0$. Points identified project to the same point by $p$, so we obtain $p_H: (\tilde{B}_H, [e_{e_0}]) \to (B,b_0)$, which is still a cover, for we have identified entire sheets at once. We have
    %
    \[ (p_H)_*(\pi_1(\tilde{B}_H, [e_{e_0}])) = H \]
    %
    for a loop $\gamma$ at $b_0$ lifts to a loop at $[e_{e_0}]$ if and only if $[\gamma]$ is contained in $H$.
\end{proof}

Practically, one usually computes the fundamental group in more direct ways, via intuition about the space in question. For instance, this was used to construct the cover of $S^1$ and $S^1 \vee S^1$.

\subsection{Isomorphisms of Covering Spaces}

Now we turn to the question of uniqueness of covering spaces. A morphism between covering spaces $p: E \to B$ and $p' : E' \to B$ is a map $f: E \to E'$ such that the diagram below commutes
%
\begin{center}
\begin{tikzcd}
    E \arrow{rr}{f} \arrow{rd}[below]{p} & & E' \arrow{ld}[below]{p'} \\
    & B &
\end{tikzcd}
\end{center}
%
For a fixed base space $B$, we form the category $\textbf{Cover}_B$ of covering spaces over $B$ together with covering morphisms.

\begin{theorem}
    If $B$ is path-connected and locally path-connected, then two path-connected covering spaces $p_1: E \to B$ and $p_2: E' \to B$ are isomorphic via an isomorphism $f: E \to E'$ taking $e_0 \in p^{-1}(b_0)$ to $e_1 \in p^{-1}(b_0)$ if and only if $(p_1)_*(\pi_1(E,e_0)) = (p_2)_*(\pi_1(E',e_1))$.
\end{theorem}
\begin{proof}
    If $f$ exists, the relation must hold, since $p_2 \circ f = p_1$. Conversely, if
    %
    \[ (p_1)_*(\pi_1(E,e_0)) = (p_2)_*(\pi_1(E',e_1)) \]
    %
    By the lifting criterion, we may lift $p_1$ to a map $\tilde{p_1}: (E,e_0) \to (E',e_1)$. Conversely, we may lift $p_2$ to $\tilde{p_2}: (E', e_1) \to (E,e_0)$, since lifts must be unique, $\tilde{p_2} \circ \tilde{p_1}$ and $\tilde{p_1} \circ \tilde{p_2}$ must be the identity, so $\tilde{p_1}$ is an isomorphism between the two covering spaces.
\end{proof}

We have justified the first half of the classification theorem for covering spaces. Here is the rest.

\begin{theorem}
    If $(B,b_0)$ is a path-connected, locally path-connected, semilocally simply connected pointed space, then there is a bijection between isomorphism classes of path-connected covering spaces $p: (E,e_0) \to (B,b_0)$ and subgroups of $\pi_1(B,b_0)$, obtained by associating $p$ with $p_*(\pi(E,e_0))$. When basepoints are ignored, one obtains a bijection between isomorphism classes of spaces $p: E \to B$ and conjugacy classes of subgroups of $\pi_1(B,b_0)$.
\end{theorem}
\begin{proof}
    We need only prove the last statement, since we have justified the isomorphism property. Given the projection $p: (E,e_0) \to (B,b_0)$, consider a path $\tilde{\gamma}$ from $e_0$ to $e_1$, with $e_1 \in p^{-1}(b_0)$. Then $\tilde{\gamma}$ projects to some $\gamma \in \pi_1(B,b_0)$. Let $H_0 = p_*(\pi_1(E,e_0))$, and $H_1 = p_*(\pi_1(E,e_1))$. Then $\gamma * H_0 * \overline{\gamma} \subset H_1$, since $\gamma * h * \overline{\gamma}$ lifts to a path that begins at $e_1$, goes to $e_0$, and then returns to $e_1$. But by symmetry, $\overline{\gamma} * H_1 * \gamma \subset H_0$, so that $H_0$ and $H_1$ are conjugate. Conversely, given $H_1 = \gamma * H_0 * \overline{\gamma}$, consider the isomorphism from $p: (E,e_0) \to (B,b_0)$ to $p: (E,e_1) \to (B,b_0)$, where $e_1$ is the endpoint of the lift of $\overline{\gamma}$ beginning at $e_0$.
\end{proof}

\subsection{Fibre Permutations and Deck Transformations}

Let $p: (E,e_0) \to (B,b_0)$ be a cover. Then $p$ induces an action of $\pi_1(B,b_0)$ on $p^{-1}(e_0)$, by mapping $\lambda$ to $\tilde{\lambda}(1)$, where $\tilde{\lambda}$ is the lifted path starting at $e_0$. We have seen that in the case of the universal cover, this representation is faithful. In $e_1$ is another point mapping to $b_1$, then a path $\lambda$ from $e_0$ to $e_1$ gives an isomorphism of $\pi_1(B,b_0)$ sets.

\begin{example}
    The theory of covering spaces can now be combined to give the basic theorem which set off the theory -- $\pi_1(S^1) \cong \mathbf{Z}$. To see this, take the universal cover $\exp: \mathbf{R} \to S^1$, mapping $t$ to $e^{2 \pi it}$. We know the fundamental group is countable, for the number of sheets of this cover is countable, and a loop is determined by where it maps 1 in a lift, since the cover is universal. If we consider the loops $\lambda_n: t \mapsto e^{2 \pi i n t}$, for $n \in \mathbf{Z}$. Then $\lambda_n$ lifts to $\tilde{\lambda}_n: t \mapsto nt$ on the cover, and $\tilde{\lambda}_n(1) = n$, so the $\lambda_n$ are distinct representatives of classes in $\pi_1(S^1)$. They represent all classes, since $\mathbf{Z} = p^{-1}(1)$, and the $\lambda_k$ map $1$ to every other element of the fibre. Now
    %
    \[ [\lambda_n * \lambda_m] = [\lambda_{n+m}] \]
    %
    because the lift of $\lambda_n * \lambda_m$ maps $1$ to $m$, and then $m$ to $m + n$. Thus we find that
    %
    \[ n \mapsto [\lambda_n] \]
    %
    is an isomorphism of groups from $\mathbf{Z} \to \pi_1(S^1, 1)$. Since $S^1$ is connected, $\pi_1(S^1, x) \cong \mathbf{Z}$ for all $x \in S^1$.
\end{example}

Let $B$ be a base space with $b_0 \in B$. The set of automorphisms of a cover $p: E \to B$ in $\textbf{Cover}_B$ is the group of {\bf deck transformations} of the space, denoted $G(E)$. $G(E)$ acts faithfully on $p^{-1}(b_0)$, for any automorphism $f$ maps some $e_0 \in p^{-1}(b_0)$ to $e_1 \in p^{-1}(b_0)$, since $f$ must satisfy the commutative diagram, and if $E$ is connected, $f$ is uniquely determined by its action on $e_0$, for automorphisms are lifts of the identity map. The map $p_*$ maps automorphisms $f \in G(E)$ to automorphisms $p_*(f)$ of $\Pi(B)$, fixing objects, but permuting maps.

A {\bf normal} covering space is a space $p:(E,e_0) \to (B,b_0)$ such that for each $e_1 \in p^{-1}(b_0)$, there is an automorphism $f \in G(E)$ such that $f(e_0) = e_1$. As in Galois theory, normal covering spaces correspond to normal subgroups of the particular group studied.

\begin{theorem}
    It $E$ is path connected and locally path connected, then $p: (E,e_0) \to (B,b_0)$ is a normal cover if and only if $p_*(\pi_1(E,e_0))$ is a normal subgroup of $\pi_1(B,b_0)$, and in general we find $G(E) \cong N(p_*(\pi_1(E,e_0)))/p_*(\pi_1(E,e_0))$.
\end{theorem}
\begin{proof}
    Let $H = \pi_1(B,b_0)$. If $\gamma \in \pi_1(B,b_0)$ lifts to a path $\tilde{\gamma}$ from $e_0$ to $e_1 \in p^{-1}(b_0)$, then we have seen that
    %
    \[ p_*(\pi_1(E,e_1)) = p_*([\overline{\tilde{\gamma}}] * \pi_1(E,e_1) * [\tilde{\gamma}]) =  [\gamma] * p_*(\pi_1(E,e_0)) * [\overline{\gamma}] \]
    %
    Thus if there is an automorphism $f \in G(E)$ which maps $e_0$ to $e_1$, then $p_*(\pi_1(E,e_1)) = p_*(\pi_1(E,e_0))$, so $[\gamma] \in N(H)$. Conversely, if $[\gamma] \in N(H)$, then $\gamma$ lifts to a path from $e_0$ to some $e_1$ for which $p_*(\pi_1(E,e_1)) = p_*(\pi_1(E,e_0))$, so there is $f \in G(E)$ which maps $e_0$ to $e_1$ by the characterization theorem for covering spaces.

    Consider the map $\varphi: N(H) \to G(E)$ which associatives with each $[\gamma] \in N(H)$ the unique automorphism $f$ which maps $e_0$ to whatever the lift of $\gamma$ ends at. Then $\varphi$ is a surjective homomorphism, whose kernel is the set of maps which lift to loops at $e_0$. But this is precisely $H$. Thus $G(E) \cong N(H)/H$. If $H$ is normal, then every loop at $\pi_1(E,e_0)$ lifts to a map which induces an automorphism of $E$, so the cover must be normal. Conversely, if the cover is normal, then the projections of each fundamental group at $e_1 \in p^{-1}(b_0)$ must be the same, so that $p_*(\pi_1(E,e_0))$ must be a normal subgroup of $\pi_1(B,b_0)$.
\end{proof}

\begin{corollary}
    If $p: (E,e_0) \to (B,b_0)$ is universal, then $G(E) \cong \pi_1(B,b_0)$.
\end{corollary}

Given an action $G$ on a space $X$ (a representation of $G$ on $\text{Homeo}(X)$), we can form the space $X/G$, which is the quotient space consisting of the orbits of $G$. This space is known as the {\bf orbit space} of $G$ on $X$. We will be interested in actions such that for any $x \in X$, there is a neighbourhood $U$ such that as we vary $g \in G$, the images $gU$ are disjoint. This is certainly true for the set of deck transformations. We shall call these actions `locally disjoint' for now, but we note that this is not standard definitions.

\begin{theorem}
    If $G$ acts locally disjointly on a space $X$, then the quotient $p:X \to X/G$ is a normal covering space. and if $X$ is path connected, then $G = G(X)$. If $X$ is locally path connected as well, then $G$ is isomorphic to $\pi_1(X/G)/p_*(\pi_1(X))$.
\end{theorem}
\begin{proof}
    Given $[x] \in X/G$, pick a neighbourhood $U$ of $x$ such that the $gU$ are disjoint. Then $p(U)$ is a neighbourhood of $[x]$, for it contains $[x]$, and
    %
    \[ p^{-1}(p(U)) = \bigcup_{g \in G} gU \]
    %
    is a union of open sets, hence is open. What's more, since the $gU$ are disjoint, they are all homeomorphic to $p(U)$, so $p$ is a covering map. If $g \in G$, then by construction $p \circ g = p$, so $g \in G(X/G)$ and maps $x$ to $gx$, showing that $G(X/G)$ is transitive, and thus $p$ is a normal cover. If $X$ is path connected, then every $f \in G(X/G)$ is determined by where it maps any particular $x$, and since $G$ covers all possibilities for this, we must have $G = G(X/G)$. The isomorphism of $G$ with $\pi_1(X/G)/p_*(\pi_1(X))$ then follows from the last theorem.
\end{proof}

\begin{example}
    $\mathbf{Z}$ acts on $\mathbf{R}$ by a unital shift $x \mapsto n + x$, and $\mathbf{R}/\mathbf{Z} \cong S^1$. The last theorem implies
    %
    \[ \mathbf{Z} \cong \pi_1(S^1)/p_*(\pi_1(\mathbf{R})) = \pi_1(S^1)/(0) \cong \pi_1(S^1) \]
    %
    which gives us a very simple way to calculate the fundamental group. Similarily, $\mathbf{Z}^2$ acts on $\mathbf{R}^2$, and the orbit space is the Torus, hence we find $\pi_1(\mathbf{T}^2) \cong \mathbf{Z}^2$.
\end{example}

\begin{example}
    The antipodal map $x \mapsto -x$ on $S^n$ can be viewed as an action of $\mathbf{Z}_2$ on $S^n$, and the quotient space is $\mathbf{R} \mathbf{P}^n$. For $n \geq 2$, the map is simply connected, implying $\pi_1(\mathbf{R} \mathbf{P}^n) \cong \mathbf{Z}_2$. For $n = 1$, the space is not simply connected, since $\pi_1(S^1) = \mathbf{Z}$. Now since $\mathbf{R}$ is the universal cover of $S^1$, it is also the universal cover $q$ of $\mathbf{R} \mathbf{P}^1$. The fibres of $q^{-1}(p(1))$ are $\mathbf{Z}/2$, and the map $\lambda_n: t \mapsto p(e^{\pi i t})$ is a loop in $\mathbf{R} \mathbf{P}^1$ at one which lifts to a path from $0$ to $n/2$. Thus the $\lambda_n$ represent all classes in $\pi_1(\mathbf{R} \mathbf{P}^1)$, and since $[\lambda_n] [\lambda_m] = [\lambda_{n + m}]$, we find $\pi_1(\mathbf{R} \mathbf{P}^1) \cong \mathbf{Z}$. Since
    %
    \[ \mathbf{Z}_2 = \pi_1(\mathbf{R} \mathbf{P}^1)/p_*(\pi_1(S^1)) \]
    %
    we find $p_*(\pi_1(S^1))$ is the set of classes of $[\lambda_{2n}]$, for $n \in \mathbf{Z}$, and we find
    %
    \[ p_*([\lambda_k]) = \lambda_{2k} \]
    %
    so $p_*$ causes loops in $S^1$ to loop twice around $\mathbf{R} \mathbf{P}^1$.
\end{example}

\subsection{Applications of Covering Theory}

\subsubsection{Cayley Graphs}

Let $G$ be a group with presentation $\langle g_\alpha | r_\beta \rangle$. Associate with $G$ the graph $\Gamma_G$, whose vertices are elements of $G$, and such that there is an edge between $h$ and $g_\alpha h$, for each of the generators $g_\alpha$. This graph is connected because $G$ is generated by the $g_\alpha$, and hence there is a path from the identity to each element of $G$. Each relation $r_\beta$ is a loop at any $g \in G$, to which we attach a 2-cell. The resulting complex is the {\bf Cayley Complex} $\Lambda_G$. $G$ acts on $\Lambda_G$ by multiplication. It is clear that $\Lambda_G/G \cong \Gamma_G$. Thus $\Lambda_G$ is the universal cover of $\Gamma_G$, for it is simply connected (any loop is a product of relations, and thus can be contracted).

\begin{example}
    If $G = \mathbf{Z} * \mathbf{Z}$, then $\Gamma_G = S^1 \vee S^1$
\end{example}

... Prove all subgroups of the free group are free.

We have proved $\pi_1(S^1) \cong \mathbf{Z}$, from which we can characterize curves on the circle. This has numerous applications to all spaces homotopic to $S^1$. In particular, we will use $\mathbf{R}^2 - \{ 0 \}$ to prove the fundamental theorem of algebra.

\begin{theorem}
    Every non-constant polynomial in $\mathbf{C}[X]$ has a root.
\end{theorem}
\begin{proof}
    Let $P$ be a polynomial with no roots, and assume $P$ is monic. Then $P(z)$ is a continuous function from $\mathbf{C}$ to $\mathbf{R} - \{ 0 \}$. By normalizing, we may consider the loop
    %
    \[ f_r(t) = \frac{P(re^{2\pi i t})/P(r)}{\| P(re^{2 \pi i t})/P(r) \|} \]
    %
    for each $r \geq 0$, in $S^1$. As $r$ varies, $f_r$ is a homotopy of paths in $S^1$, with $f_0 \simeq_p e$. For $t = 0$ and $t = 1$ $f_r(t)$ is invariant of $r$, so $f_r$ is actually a path homotopy, and we conclude $[f_r] = [e]$ for each $r \geq 0$. Now write
    %
    \[ P = \sum_{i = 0}^n a_i X^i \]
    %
    if $r > \sum |a_i|$, $r > 1$, and if $|z| = r$, then
    %
    \[ |z^n| > (\sum |a_i|) |z^{n-1}| \geq |\sum a_i z^i| = |P(z)| \]
    %
    It follows that $P_t(z) = z^n + t(a_1 z^{n-1} + \dots + a_n)$ has no roots on $|z| = r$ for $0 \leq t \leq 1$. Replacing $P$ with $P_t$ in the formula above, we obtain a path homotopy from $f_r$ to the loop $t \mapsto e^{2 \pi i n t}$. But by composition of homotopies we know that this loop is path homotopic to zero, from which we must conclude that $n = 0$ i.e, that $P$ is a constant polynomial.
\end{proof}

We also have the power to prove the Brouwer theorem for $n = 2$. We will be able to prove the theorem for all dimensions once we have developed more robust algebraic invariants.

\begin{theorem}
    Every continuous map $f: \mathbf{D}^2 \to \mathbf{D}^2$ has a fixed point.
\end{theorem}
\begin{proof}
    If we had a map $f$ with no fixed point, we could use it to continuously retract $\mathbf{D}^2$ to $S^1$, which we know is impossible for $\mathbf{D}^2$ has trivial fundamental group, whereas $\pi_1(S^1) \cong \mathbf{Z}$.
\end{proof}

Similar methods allows us to prove the Borsuk Ulam theorem in two dimensions.

\begin{theorem}
    Every continuous $f: S^2 \to \mathbf{R}^2$ has a point $x$ such that $f(x) = f(-x)$.
\end{theorem}






\chapter{Homology}

The fundamental group is powerful enough to classify surfaces, but is not refined enough to treat spaces which operate in higher dimensions. Low-dimensional paths carry little information in high-dimensional spaces. For instance, $\pi_1(S^n)$ is trivial for $n \geq 2$, yet $S^n$ is obviously not homeomorphic to $S^m$ for $n \neq m$. Another example occurs in the analysis of CW-complexes, where we see the fundamental group only depends on the 2-skeleton of the complex. To classify these spaces, we can generalize the fundamental group to the homotopy groups $\pi_n(X)$, and theoretically, these groups succeed in classifying spaces up to homotopy, but the higher dimensional groups are nigh impossible to work with; Much remains unknown about $\pi_n(S^m)$ for $n > m$, even though these spaces are some of the simplest manifolds. Thus a different algebraic invariant must be employed, one which is practical to compute and refined enough to classify commonly encountered spaces. Fortunately, there is such an invariant, known as homology. It is much more technical than the fundamental group, but the end-result is worth every penny. It is one of the jewels of 20th century mathematics.

The idea of homology is not that different than the fundamental group. A path homotopy between loops $\lambda$ and $\gamma$ can be seen as the image of a circle, whose boundary is $\lambda * \gamma^{-1}$. The fundamental group therefore determines the `loops' in the space, up to those which bound a circle. Homology theory generalizes this idea by determining loops up to those which bound an arbitrary surface. This can be easily generalized, by taking higher dimensional submanifolds up to those which bound a manifold one dimension higher. These are the homology groups.

In the fundamental group, the order of composition matters, since we literally compose two loops by putting one after the other. Thus we obtain a non-abelian invariant, which both enriches and complicates the theory. Homology treats submanifolds combinatorially -- we consider the sum of two manifolds abstractly as some form of union of the two manifolds. Thus the theory is abelian, which is one of the reasons the theory is easy to calculate.

There are many homology theories, only a certain few of which we will focus on. One can abstract these theories to a common core, studied under the name of homological algebra. To avoid too much abstract nonsense, we begin by concretely introducing homology theories, but abstraction is often useful, so we will introduce it when necessary.

\section{$\Delta$-Complexes}

The most computationally practical homology theory is simplicial homology, which applies only to spaces known as $\Delta$ complexes, which are obtained from discrete, combinatorial operations. Geometrically, these spaces are seen as geometric polyhedrons attached together along faces. In this section, we describe an abstract formation of $\Delta$-complexes.

Recall that an {\bf n-simplex} is the convex hull of an ordered sequence of $n+1$ points $v_0, \dots, v_n$ in $\mathbf{R}^m$ which do not lie in any hyperplane of dimension smaller than $n$ (equivalently, $v_1 - v_0, \dots, v_n - v_0$ are linearly independent). We denote this simplex by $[v_0, \dots, v_n]$, and the set of all $n$ simplexes by $\mathfrak{D}^n$. The standard simplices are
%
\[ \Delta^n = [e_1, \dots, e_{n+1}] = \{ (t_1, \dots, t_{n+1}) \in \mathbf{R}^{n+1} : \sum t_i = 1, t_1, \dots, t_n \geq 0 \} \]
%
we see an $n$-simplex as the simplest example of an $n$-dimensional polyhedron. To work with such simplices, it is useful to introduce a standard coordinate system. Each point $p$ in an $n$-simplex $[v_0, \dots, v_n]$ can be uniquely specified by a tuple of positive real numbers $(t_0, \dots, t_n) \in \mathbf{R}^{n+1}$ such that $\sum t_i = 1$, under the map
%
\[ (t_0, \dots, t_n) \mapsto \sum t_i v_i \]
%
These are known as the {\bf barycentric coordinates} of $p$ with respect to $[v_0, \dots, v_n]$. The coordinates define an affine isomorphism of $[v_0, \dots, v_n]$ with $\Delta^n$, so we think of all simplexes as isomorphic.

A {\bf face} of a simplex $[v_0, \dots, v_n]$ is a simplex of the form $[v_0, \dots, \widehat{v_i}, \dots, v_n]$, obtained by deleting a vertex in the generator. If $S$ is a simplex, we let $\partial S$ denote the boundary of $S$, the union of all faces of $S$, and $S^\circ = S - \partial S$ the interior. This notation preserves the standard use from seeing $S$ as an $n$-manifold with boundary. An important connection between a simplex and its faces are the {\bf boundary operators} $\partial_0, \dots, \partial_n$, defined by the map
%
\[ \partial_i [v_0, \dots, v_n] = [v_0, \dots, \widehat{v_i}, \dots, v_n] \]
%
A purely combinatorial argument shows $\partial_i \circ \partial_j = \partial_{j-1} \circ \partial_i$ for $i < j$. In the other direction, we have maps $\sigma_i: \partial_i(S) \to S$, defined in the barycentric coordinates by
%
\[ (t_0, \dots, \widehat{t_i}, \dots, t_n) \mapsto (t_0, \dots, 0, \dots, t_n) \]
%
To be brief, a $\Delta$-complex is obtained by taking a certain number of simplices, and gluing them along boundaries via the maps $\sigma_i$. We shall give an abstract notation which simplifies this procedure.

A {\bf $\Delta$-set} $\mathfrak{S}$ is a sequence of arbitrary sets
%
\[ \mathfrak{S}_0, \mathfrak{S}_1, \mathfrak{S}_2, \mathfrak{S}_3, \dots \]
%
together with a collection of abstract maps $\partial_i : \mathfrak{S}_n \to \mathfrak{S}_{n-1}$ for $i = 0, \dots, n$ which satisfy
%
\[ \partial_i \circ \partial_j = \partial_{j-1} \circ \partial_i \]
%
for $i < j$. We shall interpret a $\Delta$ set to be a union of simplices, one $n$-simplex for each element of $\mathfrak{S}_n$, attached at boundaries upon which the simplices agree. If we define a {\bf $\Delta$-morphism} between two $\Delta$-sets $\mathfrak{S}$ and $\mathfrak{M}$ to be a sequence $f = \{ f_n: \mathfrak{S}_n \to \mathfrak{M}_n \}$ of functions which satisfy the family of commutative diagrams
%
\begin{center}
\begin{tikzcd}
    \mathfrak{S}_{n+1} \arrow{d}{\partial_i} \arrow{r}{f_{n+1}} & \mathfrak{M}_{n+1} \arrow{d}{\partial_i}\\
    \mathfrak{S}_n \arrow{r}{f_n} & \mathfrak{M}_n
\end{tikzcd}
\end{center}
%
then the set of $\Delta$ sets form a category $\textbf{Delta}$. The geometric realization of a $\Delta$-set can be realized as a functor from $\textbf{Delta}$ to $\textbf{Top}$ which maps $\mathfrak{S}$ to the space $|\mathfrak{S}|$, an adjunction space of
%
\[ \coprod_{k = 0}^\infty \mathfrak{S}_k \times \Delta^k \]
%
under the attaching maps $\sigma^S_i: S \times \partial_i \Delta^n \to \partial_i S \times \Delta^{n-1}$. Given a $\Delta$-morphism $f: \mathfrak{S} \to \mathfrak{M}$, define $f_*: |\mathfrak{S}| \to |\mathfrak{M}|$ by
%
\[ f_*([S,x]) = [f_n(S),x] \]
%
The map is well defined, for
%
\[ f_*([S,\sigma_i(x)]) = [f_n(S),\sigma_i(x)] = [\partial_i f_n( S ), x] = [f_{n-1}(\partial_i S), x] = f_*([\partial_i S, x]) \]
%
It is also continuous, for it induces a map which is effectively the identity map on each component of the pre-quotient space. Given another $\Delta$-morphism $g: \mathfrak{M} \to \mathfrak{O}$, if we let $h = g_* \circ f_*$, and we find
%
\[ h([S,x]) = [(g_n \circ f_n)(S), x] = g([f_n(S), x]) = (g \circ f)_*([S,x]) \]
%
So $| \cdot |$ truly is a functor. The advantage of $\Delta$ complexes is that they are a purely combinatorial object, so they are easy to calculate with.

\begin{example}
    A $\Delta$-decomposition of a topological space $X$ is a $\Delta$-set $\mathfrak{S}$ such that $|\mathfrak{S}|$ is homeomorphic to $X$. As an example, let us compute a $\Delta$-decomposition of $\mathbf{T}$. The decomposition is realized by the diagram
    %
    \begin{center}
    \begin{tikzpicture}
        \node at (0,0) (first) {$\alpha$};
        \node at (2,0) (second) {$\alpha$};
        \node at (0,-2) (third) {$\alpha$};
        \node at (2,-2) (fourth) {$\alpha$};
        \node at (0.5,-0.5) {$\Lambda$};
        \node at (1.2, -1.5) {$\Gamma$};
        \draw[->] (first) -- node[above] {$b$} ++ (second);
        \draw[->] (first) -- node[left] {$a$} ++ (third);
        \draw[->] (second) -- node[right] {$a$} ++ (fourth);
        \draw[->] (third)-- node[below] {$b$} ++ (fourth);
        \draw[->] (third) -- node[above] {$c$} ++ (second);
    \end{tikzpicture}
    \end{center}
    %
    we let
    %
    \[ \mathfrak{S}_0 = \{ \alpha \}\ \ \ \ \ \mathfrak{S}_1 = \{ a, b, c \}\ \ \ \ \ \mathfrak{S}_2 = \{ \Lambda, \Gamma \} \]
    %
    and define
    %
    \[ \partial_i a = \partial_i b = \partial_i c = \alpha \]
    %
    \[ \partial_0 \Lambda = c\ \ \partial_1 \Lambda = b\ \ \partial_2 \Lambda = a\ \ \ \ \ \partial_0 \Gamma = a\ \ \partial_1 \Gamma = b\ \ \partial_2 \Gamma = c \]
    %
    One can check on a case by case basis that the boundary equations hold, or just note that the equations hold by a choice of consistant orientation, easily visualized in three dimensions.
\end{example}

\begin{example}
    The standard $CW$ structure on $S^n$ cannot be used to construct a $\Delta$-decomposition of $S^n$ for $n > 1$, for in such a decomposition the boundaries of the $n$-simplexes must project to $n-1$ simplexes. To obtain a decomposition, we glue two $n$-simplices together along the boundary. We take $\mathfrak{S}_n = \{ \Delta^n_1, \Delta^n_2 \}$, two copies of the standard $n$-simplex. We then define $\mathfrak{S}_k$, for $i < n$, to consist of all the subsimplices $[e_{i_1}, \dots, e_{i_k}]$ of $\Delta^n$, where $i_1 < i_2 < \dots < i_n$. Define
    %
    \[ \partial_j [e_{i_1}, \dots, e_{i_k}] = [e_{i_1}, \dots, \widehat{e_{i_j}}, \dots, e_{i_k}] \]
    \[ \partial_j \Delta^n_1 = \partial_j \Delta^n_2 = [e_0, \dots, \widehat{e_j}, \dots, e_n] \]
    %
    This delta-set is a decomposition of $S^n$.
\end{example}

\begin{example}
    We shall give a final example of a $\Delta$-decomposition of $\mathbf{R} \mathbf{P}^2$, described by the diagram
    %
    \begin{center}
    \begin{tikzpicture}
        \node at (0,0) (first) {$\alpha$};
        \node at (2,0) (second) {$\beta$};
        \node at (0,-2) (third) {$\beta$};
        \node at (2,-2) (fourth) {$\alpha$};
        \node at (0.5,-0.5) {$\Lambda$};
        \node at (1.2, -1.5) {$\Gamma$};
        \draw[->] (first) -- node[above] {$b$} ++ (second);
        \draw[->] (first) -- node[left] {$a$} ++ (third);
        \draw[->] (fourth) -- node[right] {$a$} ++ (second);
        \draw[->] (fourth)-- node[below] {$b$} ++ (third);
        \draw[->] (third) -- node[above] {$c$} ++ (second);
    \end{tikzpicture}
    \end{center}
    %
    which forces us to take
    %
    \[ \mathfrak{S}_0 = \{ \alpha, \beta \}\ \ \ \ \ \mathfrak{S}_1 = \{ a, b, c \}\ \ \ \ \ \mathfrak{S}_2 = \{ \Lambda, \Gamma \} \]
    %
    and define
    %
    \[ \partial_0 a = \partial_0 b = \partial_0 c = \beta\ \ \ \partial_1 a = \partial_1 b = \alpha\ \ \ \partial_1 c = \beta \]
    \[ \partial_0 \Lambda = c\ \ \partial_1 \Lambda = b\ \ \partial_2 \Lambda = a\ \ \ \ \ \partial_0 \Gamma = c\ \ \partial_1 \Gamma = a\ \ \partial_2 \Gamma = b \]
\end{example}


\section{Simplicial Chain Complexes}

The main study of simplicial homology revolves around the functors $C_n$, from $\textbf{Delta}$ to $\textbf{Ab}$, which associates with each $\Delta$-set $\mathfrak{S}$ the free abelian group $C_n(\mathfrak{S}) = \mathbf{Z} \langle \mathfrak{S}_n \rangle$. Element of $C_n(\mathfrak{S})$ are known as $n$-chains. We define the {\bf differentials} $d_n: C_n(\mathfrak{S}) \to C_{n-1}(\mathfrak{S})$ by
%
\[ d_n(S) = \sum_{k = 0}^n (-1)^k \partial_k S \]
%
for $S \in \mathfrak{S}$. Let $d_0: C_0(\mathfrak{S}) \to (0)$ be the trivial map. Extending this to arbitrary linear combinations of the $S$, we obtain an infinite sequence
%
\[ \dots C_n(\mathfrak{S}) \xrightarrow{d_n} \dots \xrightarrow{d_3} C_2(\mathfrak{S}) \xrightarrow{d_2} C_1(\mathfrak{S}) \xrightarrow{d_1} C_0(\mathfrak{S}) \xrightarrow{d_0} (0) \]
%
We may put all the $i$ chains to obtain the group
%
\[ C(\mathfrak{S}) = \bigoplus_{k = 0}^\infty C_k(\mathfrak{S}) \]
%
and thus put all $d_i$ together to obtain $d: C(\mathfrak{S}) \to C(\mathfrak{S})$, which is notationally much neater.

\begin{lemma}
    For any simplicial complex $\mathfrak{S}$, $d^2 = 0$.
\end{lemma}
\begin{proof}
    We need only prove the identity for each element of the basis. Let $S \in \mathfrak{S}_n$ be a simplex. Then, using the identity $\partial_i \partial_j = \partial_{j-1} \partial_i$ for $i < j$,
    %
    \begin{align*}
        d^2(S) &= d \left( \sum_{i = 0}^n (-1)^i \partial_i S \right)\\
        &= \sum_{i = 0}^n (-1)^i d(\partial_i S)\\
        &= \sum_{i = 0}^n \sum_{j = 0}^{n-1} (-1)^{i+j} (\partial_j \partial_i S)\\
        &= \sum_{i = 1}^n \sum_{j = 0}^{i-1} (-1)^{i+j} \partial_{i-1} \partial_j S + \sum_{i = 0}^n \sum_{j = i}^{n-1} (-1)^{i + j} \partial_j \partial_i S\\
        &= - \sum_{i = 0}^{n-1} \sum_{j = 0}^i (-1)^{i+j} \partial_i \partial_j S + \sum_{i = 0}^n \sum_{j = i}^{n-1} (-1)^{i+j} \partial_j \partial_i S\\
        &= - \sum_{i = 0}^{n-1} \sum_{j = 0}^i (-1)^{i+j} \partial_i \partial_j S + \sum_{j = 0}^{n-1} \sum_{i = 0}^j (-1)^{i+j} \partial_j \partial_i S = 0\\
    \end{align*}
\end{proof}

We say a chain $c$ is {\bf closed} if $dc = 0$. Aside from the algebra, closed chains have a geometric visualization. Write
%
\[ c = \sum \pm c_\alpha \]
%
where each $c_\alpha$ is a simplex. Take pairs $(c_\alpha \circ \sigma_i, c_\beta \circ \sigma_j)$ if such faces cancel each other out when taking the differential. We may pair off all $c_\alpha$, since $dc = 0$. Fix some particular pairing, and consider the quotient of the disjoint union
%
\[ \coprod_\alpha \Delta^n_\alpha \]
%
which identifies $\partial_i \Delta^n_\alpha$ and $\partial_j \Delta^n$ by the canonical mapping if $(c_\alpha \circ \sigma_i, c_\beta \circ \sigma_j)$ is in the pairing. Such a representation is a certainly a manifold on the interiors of the simplexes. It is also a manifold on the interiors of $\partial_i \Delta^n$, for it is here that two simplices are paired up at the boundary. Being careful, we even see that it is a manifold on the interiors of $\partial_j \partial_i \Delta^n$, but this fails if we take further boundaries.

If $db = c$, then we view the chain $c$ as the boundary of the chain $b$. If this is true, the last theorem says we must necessarily have $dc = 0$. Thus if we find that $dc = 0$, then $c$ is a potential boundary for some chain of a higher dimension.

\section{Homology}

A {\bf chain complex} is a graded abelian group
%
\[ A = \bigoplus_{i \in \mathbf{Z}} A_i \]
%
with a map $d: A \to A$ which decomposes into maps $d_i: A_i \to A_{i-1}$, such that $d^2 = 0$. $d$ is known as the boundary operator. A {\bf chain map} between chain complexes $A$ and $B$ is a morphism $f: A \to B$ which breaks into morphisms $f = \{ f_i : A_i \to B_i \}$ such that $d \circ f = f \circ d$. This makes the set of chain complexes a category $\textbf{Chain}$, and we have basically argued the existence of a functor from $\textbf{Delta}$ to $\textbf{Chain}$. In general, homology theories discuss functors into the category $\textbf{Chain}$ (which could be sequences of modules over any ring, rather than abelian groups, or if we want to get real abstract, on any abelian category), and homological algebra gives us the backbone to discuss this theory.

If a chain complex induces an exact sequence
%
\[ \dots \xrightarrow{d_{n+1}} A_n \xrightarrow{d_n} A_{n-1} \xrightarrow{d_{n-1}} A_{n-2} \xrightarrow{d_{n-2}} \dots \]
%
Then we obtain a further diagram
%
\begin{center}
\begin{tikzpicture}
    \node at (0,0) (dots) {$\dots$};
    \node at (3,0) (An) {$A_n$};
    \node at (6,0) (A2) {$A_{n-1}$};
    \node at (9,0) (A1) {$A_{n-2}$};
    \node at (12,0) (dots2) {$\dots$};

    \node at (4.5,-1.5) (Mn) {$M_{n-1}$};
    \node at (7.5,-1.5) (Mn1) {$M_{n-2}$};

    \node at (3,-3) (01) {$0$};
    \node at (6,-3) (02) {$0$};
    \node at (9,-3) (03) {$0$};

    \draw[->] (dots) -- node[above] {$d_{n+1}$} ++ (An);
    \draw[->] (An) -- node[above] {$d_n$} ++ (A2);
    \draw[->] (A2) -- node[above] {$d_{n-1}$} ++ (A1);
    \draw[->] (A1) -- node[above] {$d_{n-2}$} ++ (dots2);

    \draw[->] (An) -- (Mn);
    \draw[->] (Mn) -- (A2);
    \draw[->] (A2) -- (Mn1);
    \draw[->] (Mn1) -- (A1);

    \draw[->] (01) -- (Mn);
    \draw[->] (Mn) -- (02);
    \draw[->] (02) -- (Mn1);
    \draw[->] (Mn1) -- (03);
\end{tikzpicture}
\end{center}
%
where the diagonals are exact, defining $M_n = \text{im}(d_{n+1}) = \text{ker}(d_n)$. Thus we obtain a family of short exact sequences
%
\[ 0 \to M_n \to A_{n-1} \to M_{n-1} \to 0 \]
%
in general, we define the {\bf $\mathbf{n}$'th homology group}. Letting $Z_n(A) = \ker d_n$, and $B_n(A) = \im d_{n+1}$, then
%
\[ H_n(A) = Z_n(A)/B_n(A) \]
%
Algebraically, the homology measures the degree of exactness of each joint in the sequence of derivation mappings. Geometrically, we see $H_n(A)$ as the space of all chains which could be seen as the boundary of a higher dimension chain, modulo those which actually are the boundary of the chain. Thus $H_n(A)$ `counts holes', but in a very different manner than the fundamental group. We denote the composition of the functors from $\textbf{Delta}$ to $\textbf{Chain}$ to $\textbf{Ab}$ by $H_n^\Delta$.

\begin{example}
    When we `compute the simplicial homology of a topological space' $X$, what we really mean is to compute the simplicial homology of some $\Delta$-decomposition of $X$. We shall later prove that the homology is invariant of which decomposition we choose. As an example, we compute the simplicial homology of $\mathbf{T}$. We already have a decomposition, and we shall use the notation from this decomposition. One calculates the derivations as
    %
    \[ d_0(n \alpha) = 0\ \ \ \ \ d_1(n a + m b + l c) = 0\ \ \ \ \ d_2(n \Gamma + m \Lambda) = n (a - b + c) + m (c - b + a) \]
    %
    Thus the kernel of $d_0$ is $\langle \alpha \rangle$, and the image of $d_1$ is $(0)$, so
    %
    \[ H_0^\Delta(\mathbf{T}) = \langle \alpha \rangle / (0) \cong \mathbf{Z} \]
    %
    The kernel of $d_1$ is $\langle a, b, c \rangle$, and the image of $d_2$ is $\langle a - b + c \rangle$, hence
    %
    \[ H_1^\Delta(\mathbf{T})) = \langle a,b,c \rangle / \langle a - b + c \rangle \]
    %
    In the homology group,
    %
    \[ [c] = [c - (a - b + c)] = [b - a] \]
    %
    so the homology group is spanned by $[a]$ and $[b]$, and this is a torsion free span, for if $na + mb \in \langle a - b + c \rangle$, then $n = m = 0$. It follows that $H_1^\Delta(\mathbf{T}) \cong \mathbf{Z}^2$. Finally, we find that the kernel of $d_2$ is $\langle \Lambda - \Gamma \rangle$, and the image of $d_3$ (which we see as a map from $C_3(\mathbf{T}) = (0)$) is trivial, so $H_2^\Delta(\mathbf{T}) \cong (0)$.
\end{example}

\begin{example}
    Let us compute the homology of $\mathbf{R} \mathbf{P}^2$. The kernel of $d_0$ is $\langle \alpha, \beta \rangle$, whereas the image of $d_1$ is $\langle \beta - \alpha \rangle$, so that $H^\Delta_0(\mathbf{R}\mathbf{P}^2)$ is spanned by $[\alpha]$, and is easily verified to have no torsion, and is thus isomorphic to $\mathbf{Z}$. We calculate that
    %
    \[ d_1(n a + m b + l c) = (n + m)(\beta - \alpha) \]
    %
    So that the kernel of $d_1$ is $\langle c, b - a \rangle$. The image of $d_2$ is found by the calculation
    %
    \[ d_2(m \Lambda + n \Gamma) = m(c - b + a) + n(c - a + b) \]
    %
    to be $\langle c - b + a, c - a + b \rangle = \langle 2c, c - a + b \rangle$. Since in the homology group
    %
    \[ [b - a] = [c] \]
    %
    the group is spanned by $[c]$, but this group has torsion, since $[2c] = 0$, so $H_1^\Delta(\mathbf{R} \mathbf{P}^2) \cong \mathbf{Z}_2$. Finally, we find the kernel of $d_2$ to be trivial, so that $H_2^\Delta(\mathbf{R} \mathbf{P}^2) = (0)$.
\end{example}

\begin{example}
    Let us compute the homology group $H^\Delta_n(S^n)$. The kernel of the map is obviously generated by $\Delta^n_1 - \Delta^n_2$, since
    %
    \[ d(\Delta^n_1) = d(\Delta^n_2) \neq 0 \]
    %
    It follows that $H^\Delta_n(S^n) \cong \mathbf{Z}$. We shall eventually describe $H^\Delta_i(S^n)$ for $i < n$, but some theory is required to prevent undue calculation.
\end{example}

\section{Singular Homology}

Simplicial homology is easy to calculate, but there is a different homology theory which is useful for theorems. We shall eventually show the theories coincide, so that we may learn about simplicial homology through this separate theory, which we call singular homology.

Given a topological space $X$, let $C_n(X) = \mathbf{Z}\langle C(\Delta^n, X) \rangle$, the free abelian group generated by continuous maps from the standard $n$-simplex to $X$ (which we call {\bf singular simplices}, since the image of the map may not look much like a simplex at all). If we define, for $c \in C(\Delta^n, X)$,
%
\[ dc = \sum (-1)^k c \circ \sigma_k \]
%
then we obtain a differential from $C_n(X)$ to $C_{n-1}(X)$. That this differential satisfies $d^2 = 0$ follows from the same basic argument as in the simplicial complex case. Here we instead have the relation $\sigma_i \circ \sigma_j = \sigma_{j-1} \circ \sigma_i$ for $i < j$. Thus we obtain a chain complex $C(X)$, which induces the homology groups $H_n(X)$, known as the {\bf singular homology group}. The singular homology may not be computationally nice, but it is much more handy in topological arguments.

\begin{theorem}
    If
    %
    \[ X = \coprod_\alpha X_\alpha \]
    %
    where $X_\alpha$ are the components of $X$, then we have a decomposition of the homology into
    %
    \[ H_k(X) \cong \bigoplus_\alpha H_k(X_\alpha) \]
\end{theorem}
\begin{proof}
    Since every simplex $\Delta^n$ is connected, the image of every singular complex $\sigma$ is connected, and is thus in some $X_\alpha$ solely. Thus we have a decomposition
    %
    \[ C_k(X) = \bigoplus_\alpha C_k(X_\alpha) \]
    %
    Now the derivation $d$ breaks down into maps from $C_k(X_\alpha) \to C_{k-1}(X_\alpha)$, so that
    %
    \[ \ker(d_i) = \bigoplus_\alpha \ker(d_i|_{X_\alpha})\ \ \ \ \ \im(d_i) = \bigoplus_\alpha \ker(d_i|_{X_\alpha}) \]
    %
    and finally,
    %
    \[ H_k(X) = \ker(d_k)/\im(d_k) = \bigoplus_\alpha \ker(d_i|_{X_\alpha})/ \bigoplus_\alpha \ker(d_i|_{X_\alpha}) = \bigoplus_\alpha H_k(X_\alpha) \]
\end{proof}

\begin{corollary}
    If $X$ is path connected, then $H_0(X) \cong \mathbf{Z}$. Otherwise $H_0(X) \cong \bigoplus_\alpha \mathbf{Z}$, where $\alpha$ represents each path component of $X$.
\end{corollary}
\begin{proof}
    Singular zero simplicies may be identified with points in $X$, since they are just functions of a single point. Singular one simplicies may be identified with paths, since $\Delta^1 \cong [0,1]$, and if $\lambda$ is a one-simplex, then $d\lambda = \lambda(1) - \lambda(0)$, under the homeomorphism $t \mapsto t e_0 + (1 - t) e_1$. If $x,y \in X$, let $\lambda: [0,1] \to X$ be a path between $x$ and $y$. Then $d_1 \lambda = y - x$, so that, in $H_0(X)$, $[x] = [y]$. Given any chain $\sum n_i x_i \in C_0(X)$, write $r(\sum n_i x_i) = \sum n_i$. Then $r$ is a homomorphism from $C_0(X)$ to $\mathbf{Z}$. If $\lambda$ is a singular 1-simplex, then $r(d_1(\lambda)) = 0$.  Thus $r \circ d_1 = 0$, and we find that there is no chain such that $d_1(\sum n_i \lambda_i) = nx$, for any $n \in \mathbf{Z} - \{ 0 \}$ for then $0 = r(d_1(\sum n_i \lambda_i)) = n$. Thus $H_0(X) = \langle [x] \rangle \cong \mathbf{Z}$.
\end{proof}

\begin{example}
    It is an easy example to compute the homology of a point. We have
    %
    \[ H_k(\{ \text{pt} \}) = \begin{cases} \mathbf{Z} & k = 0 \\ (0) & k \neq 0 \end{cases} \]
    %
    One verifies that this is only one $n$-simplex $\sigma_n$ for each $n$, and $d \sigma_n = 0$ for $n$ even, and $d \sigma_n = \sigma_{n-1}$ for $n$ odd. We already know $H_0(\{ \text{pt} \}) \cong \mathbf{Z}$. Now
    %
    \[ \ker d_i = \begin{cases} \langle \sigma_n \rangle & n\ \text{even} \\ (0) & n\ \text{odd} \end{cases} \]
    \[ \im d_i = \begin{cases} (0) & n\ \text{even} \\ \langle \sigma_{n-1} \rangle & n\ \text{odd} \end{cases} \]
    %
    hence
    %
    \[ H_i(\text{pt}) = \ker(d_i)/\im(d_{i+1}) = \begin{cases} \langle \sigma_n \rangle / \langle \sigma_n \rangle & i\ \text{even} \\ (0)/(0) & i\ \text{odd} \end{cases} = (0) \]
\end{example}

It may be seen mathematically more elegant to have the homology of a point completely trivial. Thus we introduce the {\bf reduced homology group}, obtained by modifying the $d$ operator on $C_0(X)$ such that $d(\sum n_i x_i) = \sum n_i$. We write the new homology group as $\tilde{H}_i(X)$. For $k > 0$, $H_k(X) = \tilde{H}_k(X)$. For $k = 0$, $H_0(X) = \tilde{H}_0(X) \oplus \mathbf{Z}$. Thus $\tilde{H}_i(\{ \text{pt} \})$ is completely trivial. for all $i$.

\section{Homotopy Invariance}

Consider a map $f:X \to Y$. Certainly $f$ induces a map $f_*: C_n(X) \to C_n(Y)$, for each $n$, since we may map each $\sigma$ to $f \circ \sigma$. Now $f_*$ commutes with $d$, for
%
\[ (f_* \circ d)(c) = f_*(\sum (-1)^k c \circ \sigma_k) = \sum (-1)^k (f \circ c \circ \sigma_k) = d(f_*(c)) \]
%
A map between complexes which commutes with $d$ is known as a {\bf chain map}. If $x \in \ker d$, then $f_*(x) \in \ker d$, for $df_*(x) = f_*(dx) = f_*(0) = 0$. Furthermore, if $x = dy$, then $f_*(x) = f_*(dy) = d(f_*(y))$, so that the image of $d$ is preserved, and we obtain induced morphism
%
\[ f_*: H_k(X) \to H_k(Y) \]
%
which is the real map we want to examine.

\begin{theorem}
    If $f \simeq g$, then $f_* = g_*$ on the homology groups.
\end{theorem}
\begin{proof}
    The main technique to the proof is dividing $\Delta^n \to [0,1]$ into $(n+1)$ simplices. Certainly we may write $\Delta^n \times \{ 0 \} = [v_1, \dots, v_n]$, and $\Delta^n \times \{ 1 \} = [w_1, \dots, w_n]$. Each simplex of the form
    %
    \[ [v_1, \dots, v_i, w_{i+1}, \dots, w_n] \]
    %
    Is the graph of a continuous function $f_i: \Delta^n \to [0,1]$ defined in the barycentric coordinates at $(t_0, \dots, t_n) \mapsto t_{i+1} + \dots + t_n$. This implies that
    %
    \[ [v_1, \dots, v_i, w_i, \dots, w_n] \]
    %
    is an $(n+1)$ simplex since $w_i$ is not a point on the graph of $f_i$. Since $0 = f_0 \leq f_1 \leq \dots \leq f_n = 1$, we find that $\Delta^n \times [0,1]$ is the union of the simplices $[v_1, \dots, v_i, w_i, \dots, w_n]$.

    Given a homotopy $H: X \times [0,1] \to Y$ between $f$ and $g$, define the {\bf prism operators} $P: C_n(X) \to C_{n+1}(X)$ by
    %
    \[ P(\sigma) = \sum (-1)^i H \circ (\sigma \times \text{id})|_{[v_0, \dots, v_i, w_i, \dots, w_n]} \]
    %
    We shall show $d P = g_* - f_* - P d$. Essentially this is obvious, for the left hand side can be thought of as the boundary of $\Delta^n \times [0,1]$, and the right side represents the top of the simplex, the bottom of the simplex, and the two other sides. We calculate
    %
    \begin{align*}
        \partial P(\sigma) &= \sum_{j \leq i} (-1)^i (-1)^j H \circ (\sigma \times \text{id})|_{[v_0, \dots \hat{v_j}, \dots, v_i, w_i, \dots, w_n]}\\
        &\ \ \ + \sum_{j \geq i} (-1)^i (-1)^{j+1} H \circ (\sigma \times \text{id})|_{[v_0, \dots, , v_i, w_i, \dots, \hat{w_j}, \dots, w_n]}
    \end{align*}
    %
    The terms with $i = j$ cancel, except for $i = j = 0$, in which case we end up with $g_*(\sigma) = H \circ (\sigma \times \text{id})|_{[w_0, \dots, w_n]}$ and $- f_*(\sigma) = H \circ (\sigma \times \text{id})_{[v_0, \dots, v_n]}$. The remaining terms are seen to be exactly $P d(\sigma)$.

    Now we can finish the theorem. If $dc = 0$, then
    %
    \[ dP(c) = g_*(c) - f_*(c) - P(d(c)) = g_*(c) - f_*(c) \]
    %
    so $[g_*(c)] = [f_*(c)]$ in $H(Y)$, since $g_*(c) - f_*(c)$ is a boundary.
\end{proof}

\begin{corollary}
    If $X \simeq Y$, then $H_k(X) \cong H_k(Y)$ for each $k$.
\end{corollary}


\section{Relative Homotopies}

If $A \subset X$, we would like to obtain a relationship between $H(A)$ and $H(X)$. This cannot be a simple embedding, for every space can be embedded in a contractible space. This relationship will turn out to be a long exact sequence, provided that $A$ is a `nice subset' of $X$. Specifically, the relationship  will hold out for {\bf good pairs} $(X,A)$ such that $A$ is a deformation retract of a neighbourhood of $A$ in $X$.

To obtain the relationship, we introduce a new complex
%
\[ \dots \xrightarrow{} C_n(X,A) \xrightarrow{} C_{n-1}(X,A) \xrightarrow{} \dots \xrightarrow{} C_0(X,A) \]
%
Where $C_n(X,A) = C_n(X) / C_n(A)$. This induces the {\bf relative homology groups} $H_n(X,A)$. Elements of $H_n(X,A)$ are represented by chains $c \in C_n(X)$ such that $dc \in C_{n-1}(A)$, and the representations of zero elements are chains $c$ such that $c - da \in C_{n-1}(A)$ for some chain $a$. Thus $H_n(X,A)$ is as much of `$H_n(X)$ modulo $H_n(A)$' as we can get.

The category of chain complexes $\textbf{Chain}$ is an abelian category, since it is essentially just the direct product of another abelian category. Thus we may consider exact sequence of complexes, and kernels of complex maps, and so on. Consider a `short exact sequence of complexes'
%
\begin{center}
\begin{tikzcd}
           & (0) \arrow{d}{} & (0) \arrow{d}{} & (0) \arrow{d}{} \\
     \dots \arrow{r}{} & A_{n+1} \arrow{r}{} \arrow{d}{} & A_n \arrow{r}{} \arrow{d}{} & A_{n-1} \arrow{r}{} \arrow{d}{} & \dots \\
     \dots \arrow{r}{} & B_{n+1} \arrow{r}{} \arrow{d}{} & B_n \arrow{r}{} \arrow{d}{} & B_{n-1} \arrow{r}{} \arrow{d}{} & \dots \\
     \dots \arrow{r}{} & C_{n+1} \arrow{r}{} \arrow{d}{} & C_n \arrow{r}{} \arrow{d}{} & C_{n-1} \arrow{r}{} \arrow{d}{} & \dots \\
      & (0) & (0) & (0)
\end{tikzcd}
\end{center}
%
We may pass to homology since the maps commute. It shall turn out that, when we do, we will obtain an exact sequence on the homology. To do this, we must apply some basic homological algebra.

Given a commutative diagram
%
\begin{center}
\begin{tikzcd}
    M \arrow{r}{f} \arrow{d}{d} & N \arrow{d}{e} \\ A \arrow{r}{g} & B
\end{tikzcd}
\end{center}
%
Then we can extract $\ker d \xrightarrow{f} \ker e$. Indeed, if $dm = 0$, then
%
\[ e(f(m)) = g(dm) = g(0) = 0 \]
%
dually, we can extract $\coker\ d \xrightarrow{g} \coker\ e$. If $a = dm$, then
%
\[ g(a) = g(dm) = e(f(m)) \]
%
It is here where the snake lemma comes out to play.

\begin{theorem}
    If we have an exact diagram
    %
    \begin{center}
    \begin{tikzcd}
          & A \arrow{d}{f} \arrow{r}{\alpha} & B \arrow{d}{g} \arrow{r}{\beta} & C \arrow{d}{h} \arrow{r}{} & 0\\
        0 \arrow{r}{} & X \arrow{r}{\lambda} & Y \arrow{r}{\gamma} & Z
    \end{tikzcd}
    \end{center}
    %
    Then there is a morphism $\partial$ such that
    %
    %TODO FIX THE SNAKE LEMMA
    %\begin{center}
    %\begin{tikzcd}
    %      & \ker f \arrow{d}{} \arrow{r}{} & \ker g \arrow{r}{} \arrow{d}{} & \ker h \arrow{d}{} \arrow[dddll,
%"\partial",
%rounded corners,
%to path={ -- ([xshift=2ex]\tikztostart.east)
%|- (Z) [near end]\tikztonodes
%-| ([xshift=-2ex]\tikztotarget.west)
%-- (\tikztotarget)}]  \\
%          & A \arrow{d}{f} \arrow{r}{\alpha} & B \arrow{d}{g} \arrow{r}{\beta} & C \arrow{d}{h} \arrow{r}{} & 0\\
%        0 \arrow{r}{} & X \arrow{d}{} \arrow{r}{\lambda} & Y \arrow{d}{} \arrow{r}{\gamma} & Z \arrow{d}{}\\
%        & {\emph \coker} f \arrow{r}{} & {\emph \coker} g \arrow{r}{} & {\emph \coker} h
%    \end{tikzcd}
%    \end{center}
    %
    is a commutative diagram, and the new diagonal makes the top and bottom rows be exact.
\end{theorem}
\begin{proof}
    The theorem is actually a good exercise in commutative diagram chasing, and I urge you to carry out the steps yourself. But here's a proof for reference. Let us construct $\partial$. Fix $c \in \ker h$. Then there is $b \in B$ such that $\beta(b) = c$, since $\beta$ is surjective. By commutativity, $\gamma(g(b)) = h(c) = 0$, so $g(b) \in \ker \gamma = \im \lambda$, so there is a unique $x \in X$ such that $\lambda(x) = g(b)$. Define $\partial(c) = [x] \in \coker f$.

    First, let us verify this is well defined. Suppose $\beta(b') = c$. Then $b' - b \in \ker(\beta) = \im(\alpha)$, so $b' - b = \alpha(a)$ for some $a \in A$. If $\lambda(x') = g(b')$, then
    %
    \[ \lambda(f(a)) = g(b' - b) = \lambda(x') - \lambda(x) = \lambda(x' - x) \]
    %
    Since the map is injective, we find $f(a) = x' - x$, so $[x'] = [x]$ in $\coker f$.

    Next, we verify that the map is a homomorphism. Given $c,c' \in \ker h$, and $\beta(b) = c$, $\beta(b') = c'$, we find $\beta(b + b') = c + c'$, and if $a,a'$ are the unique values such that $\lambda(x) = g(b)$, $\lambda(x') = g(b')$, then $\lambda(x + x') = g(b + b')$, so $\partial(c + c') = [x + x'] = [x] + [x'] = \partial(c) + \partial(c')$.

    Is the map exact now? Let $c = \beta(b)$, for $b \in \ker g$. Then $g(b) = 0$, and $\lambda(0) = g(x)$, so $\partial c = [0]$. Conversely, let $\partial c = 0$. Then there is $b \in B$ such that $\beta(b) = c$, and $g(b) = \lambda(x)$, where $x = f(a)$ for some $a \in A$. Then $g(\alpha(a)) = \lambda(x) = g(b)$, by commutativity. Thus $g(\alpha(a) - b) = 0$, and
    %
    \[ \beta(\alpha(a) - b) = \beta(b) = c \]
    %
    so that $c \in \im \beta|_{\ker g}$.
\end{proof}

We apply the snake lemma to short exact sequences of complexes. Note that, given a short exact sequence of complexes $A$, $B$, and $C$, we obtain a snake
%
\begin{center}
\begin{tikzcd}
        & H_n(A) \arrow{d}{} \arrow{r}{} & H_n(B) \arrow{d}{} \arrow{r}{} & H_n(C) \arrow{d}{}\\
        & A_n/B_n(A) \arrow{r}{} \arrow{d}{} & B_n/B_n(B) \arrow{r}{} \arrow{d}{} & C_n/B_n(C) \arrow{d}{} \arrow{r}{} & (0)\\
    (0) \arrow{r}{} & Z_{n-1}(A) \arrow{d}{} \arrow{r}{} & Z_{n-1}(B) \arrow{d}{} \arrow{r}{} & Z_{n-1}(C) \arrow{d}{}\\
    & H_{n-1}(A) \arrow{r}{} & H_{n-1}(B) \arrow{r}{} & H_{n-1}(C)
\end{tikzcd}
\end{center}
%
obtained from the commutativity of the chain maps, noting $H_{n-1}(A) = \coker d_n^A$, and $\ker d_n^A|_{A_n/B_n(A)} = H_n(A)$.
%
from which we obtain the exact sequence
%
\[ H_n(A) \to H_n(B) \to H_n(C) \to H_{n-1}(A) \]
%
The chain map shows that $\im d_{n+1}^A$ is mapped into $\im d_{n+1}^B$ to $\im d_{n+1}^C$, inducing the homological sequence
%
\[ H_n(A) \to H_n(B) \to H_n(C) \to H_{n-1}(A) \to H_{n-1}(B) \to H_{n-1}(C) \]
%
which is also exact. Since the exact sequence eventually terminates, we can end this sequence with an exact triple $H_0(B) \to H_0(C) \to (0)$.

Applying this to our particular example, we have a short exact sequence
%
\[ (0) \to C(A) \to C(X) \to C(X,A) \to (0) \]
%
So we obtain a long exact sequence
%
\begin{align*}
    &\dots \to H_n(A) \to H_n(X) \to H_n(X,A) \to H_{n-1}(A) \to H_{n-1}(X) \to H_{n-1}(X,A)\\
    &\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \to \dots \to H_0(X,A) \to (0)
\end{align*}
%
Thus $H_n(X,A)$ measures in some sense the `difference' between the homologies of $X$ and $A$. If $H_i(X,A) = (0)$, for all $i$, then $H(X) \cong H(A)$. The machinery also applies to reduced homology, to give us the same exact sequence.

\begin{theorem}
    If $f,g: (X,A) \to (Y,B)$ are homotopic in such a way that $H_t: (X,A) \to (Y,B)$ for each $t$, then $f_* = g_*: H(X,A) \to H(Y,B)$.
\end{theorem}
\begin{proof}
    The prism operator $P$ takes $C_n(A)$ to $C_{n+1}(B)$, and thus induces a quotient operator from $C_n(X,A) \to C_{n+1}(Y,B)$. Since the formula $\partial P + P \partial = g_* - f_*$ remains true, we may apply the same theorem as in the normal homotopy place to conclude $f_* = g_*$.
\end{proof}

Another tool which will come in handy is to use these long exact sequences to calculate homologies from subspaces. Let $X = A \cup B$, and suppose the interiors of $A$ and $B$ cover $X$. Then we have an exact sequence
%
\[ \dots \to H_n(A \cap B) \to H_n(A) \oplus H_n(B) \to H_n(X) \to H_{n-1}(A \cap B) \to \dots \to H_0(X) \to (0) \]
%
which is obtained from the chain map
%
\[ (0) \to C(A \cap B) \to C(A) \oplus C(B) \to C(X) \to (0) \]
%
which map $x \in C(A \cap B)$ to $(x,-x) \in C(A) \oplus C(B)$.

\section{Excision}

A fundamental property of relative homotopy is that the group is unaffected when we remove or `excise' an irrelevant subset of the space.

\begin{theorem}
    Let $Z \subset A \subset X$, and $\overline{Z} \subset A^\circ$, then the inclusion of pairs
    %
    \[ (X - Z, A - Z) \to (X,A) \]
    %
    induces isomorphisms
    %
    \[  H_n(X - Z, A - Z) \to H_n(X,A) \]
    %
    If $A,B \subset X$, and $A^\circ \cup B^\circ = X$, then the inclusion $(B, A \cap B) \to (X,A)$ induces isomorphisms $H_n(B,A \cap B) \to H_n(X,A)$.
\end{theorem}
\begin{proof}
    This proof is hard, so I'm going to leave it for another late night...
\end{proof}

\begin{theorem}
    For good pairs $(X,A)$, the quotient map $q: (X,A) \to (X/A, A/A)$ induces isomorphisms
    %
    \[ H_n(X,A) \to H_n(X/A,A/A) \cong \tilde{H}_n(X/A,A/A) \cong \tilde{H}_n(X/A) \]
\end{theorem}
\begin{proof}
    If $V$ is a neighbourhood of $A$ which strongly deformation retracts onto $A$, then we have a diagram
    %
    \begin{center}
    \begin{tikzcd}
        H_n(X,A) \arrow{r}{} \arrow{d}{} & H_n(X,V) \arrow{d}{} & H_n(X-A,V-A) \arrow{l}{} \arrow{d}{} \\
        H_n(X/A,A/A) \arrow{r}{} & H_n(X/A,V/A) & H_n(X/A-A/A, V/A-A/A) \arrow{l}{}
    \end{tikzcd}
    \end{center}
    %
    The top left arrow is an isomorphism since $H_n(V,A) = (0)$, since we have a homotopy equivalence of pairs $(V,A) \to (A,A)$. The same argument shows the lower left arrow is an isomorphism. The other horizontal maps are isomorphisms because of excision. The right vertical map is an isomorphism since it is obtained from a quotient which is a homeomorphism outside of $A$. Thus we have an isomorphism from $H_n(X,A)$ to $H_n(X/A,A/A)$, and this is isomorphism to $H_n(X/A)$ because we are just throwing away a single point in the homology.
\end{proof}

\section{Equivalence of Homologies}

Do later






\chapter{Appendix: CW-Complexes}

Algebraic topology is difficult to approach from the perspective of all the topological spaces, since general topological spaces are very pathological. We restrict ourselves to nice spaces. Manifolds are pleasant, but we can get away with a more general construction. These are the CW-complexes.

\section{Various Definitions}

A {\bf cell decomposition} of a space $X$ together is a partition $\mathcal{C}$ of $X$ into subsets $C$ of $X$ relatively homeomorphic to $B_{\mathbf{R}^n}$ for some $n \geq 0$. Elements of $\mathcal{C}$ are known as {\bf cells}. A cell decomposition is {\bf finite} if the partition is finite. The set of cells homeomorphic to $B_{\mathbf{R}^n}$, for a fixed $n \geq 0$, are the $n$-cells, denoted $\mathcal{C}_n$. The {\bf dimension} of a decomposition, if it exists, is the largest $n$ for which $\mathcal{C}_n$ is non-empty. The $n$-skeleton of a cell decomposition is the subspace $\bigcup \left( \bigcup_{i \leq n} \mathcal{C}_i \right)$ of $X$. A {\bf cell complex} is a space $X$ together with a fixed cell decomposition $\mathcal{C}$. In this case, we denote the $n$ skeleton by $X_n$. A decomposition $\mathcal{C}$ of a Hausdorff space $X$ is a {\bf CW-decomposition} if
%
\begin{itemize}
    \item (Extension Maps) For each cell $C \in \mathcal{C}_n$, there is a map $f_C: \mathbf{D}^n \to X$ such that $f|_{B_{\mathbf{R}^n}}$ is an embedding onto $C$. All zero cells are closed in $X$.
    \item ({\bf C}losure finiteness) The closure of each $n$-cell intersects only finitely many other cells, and these other cells are contained in the $n-1$ skeleton.
    \item ({\bf W}eak Topology) A subset $D$ of $X$ is closed if and only if $D \cap \overline{C}$ is closed in $\overline{C}$ for each cell $C \in \mathcal{C}$. Thus $X$ possesses the weakest topology such that each map $f: \mathbf{D}^n \to X$ chosen above is continuous. This is superfluous if $\mathcal{C}$ is finite.
\end{itemize}
%
A {\bf CW-complex} is a Hausdorff space $X$ together with a fixed CW decomposition. It is the primary object of study in algebraic topology, since it is essentially a combinatorial object. The advantage of the weak topology is that $f: X \to Y$ is continuous if and only if $f|_{\overline{C}}$ is continuous for each $\overline{C}$, and thus on a certain disjoint union of $\mathbf{D}^n$, provided they are compatible with one another.

For each cell $C$ in a CW complex $(X,\mathcal{C})$, fix a map $f_C: \mathbf{D}^n \to X$ which extends a homeomorphism, as in the definition of the complex. Then $X$ is homeomorphic to a quotient of
%
\[ \coprod_{k = 0}^\infty \coprod_{C \in \mathcal{C}_n} \mathbf{D}^n \]
%
where $x_C$ and $y_D$ are identified if $f_C(x) = f_D(y)$. Since we have a surjective map $g$ from the coproduct to $X$, by combining all $f_C$, we also have a surjective map $\tilde{g}$ from the quotient, which is injective by construction. It is also closed, since each $f_C$ is closed (a map from a compact set is automatically closed), and the space has the weak topology. Thus $\tilde{g}$ is a homeomorphism.

Now let $(X,\mathcal{C})$ be a CW complex. Pick $f_C$ for each $C \in \mathcal{C}_n$. Then
%
\[ X_n \cong X_{n-1} \coprod \left( \coprod_{C \in \mathcal{C}_n} \mathbf{D}^n \right)  \]
%
which identifies $x \in (C,\partial \mathbf{D}^n)$ with $f_C(x) \in X_{n-1}$. For each $i \leq j$, we have the embeddings $f_{ij}: X_i \to X_j$. Then we may consider the direct limit with respect to these mappings, and
%
\[ X \cong \varinjlim X_i \]
%
where the direct limit $\varinjlim X_i$ is the quotient of $\coprod X_i$ obtained by identifying $x \in X_i$ with $f_{ij}(x)$, which has the topology such that $A$ is closed if and only if the intersection of $A$ and the image of $X_i$ is closed in the image of $X_i$, viewed as homeomorphic to $X_i$. We have projection maps $f_i: X_i \to \varinjlim X_i$, which for $i < j$ satisfies the commutative diagram
%
\begin{center}
\begin{tikzcd}
    X_i \arrow{rr}{f_{ij}} \arrow{rd}{f_i} & & X_j \arrow{ld}{f_j}\\
    & \varinjlim X_i &
\end{tikzcd}
\end{center}
%
because of how the quotient structure of $\varinjlim X_i$ is constructed, so by the weak topology on $X$, we obtain a continuous map $f: X \to \varinjlim$. The map is surjective, and injective, for each $f_i$ is injective. The inverse map is also continuous, for if $A$ is closed in $X$, $A \cap X_i$ is closed for each $X_i$, so $f(A \cap X_i) = f_i(A \cap X_i)$ is closed in the image of $X_i$, hence $f(A)$ is closed in $X$. Thus every CW complex is homeomorphic to a CW complex constructed inductively from a direct limit by attaching the boundary of $n$ disks to the $n-1$ skeleton.

\begin{example}
    A {\bf graph} $\Gamma$ is a 1-dimensional CW complex, the simplest non-trivial example of a CW complex. zero cells are known as {\bf vertices}, and one cells are known as {\bf edges}. For each one cell $C$, there is a map $f_C:[0,1] \to \Gamma$ such that $f_C(0)$ and $f_C(1)$ are vertices, known as the {\bf ends} of $C$. These ends are unique, for $f_C([0,1]) = \overline{C}$, so the ends can be identified as the elements in $\overline{C} - C$. An edge can connect a vertex to itself.
\end{example}

\begin{example}
    The $n$-sphere $S^n$ has a CW decomposition. Take a partition
    %
    \[ \mathcal{C} = \{ \{ (1,0,\dots,0) \}, S^n - \{ (1,0,\dots,0) \} \} \]
    %
    By stereographic projection, we obtain a homeomorphism
    %
    \[ \pi: S^n - \{ (1,0,\dots,0) \} \to \mathbf{R}^n \]
    %
    $\mathbf{R}^n$ can be shrunk down to $B_{\mathbf{R}^n}$ by a map $f$. If $x \to \infty$ in $\mathbf{R}^n$, then $\pi^{-1}(x) \to (1,0,\dots,0)$, so the map
    %
    \[ \pi^{-1} \circ f^{-1}: B_{\mathbf{R}^n} \to S^n \]
    %
    can be uniquely extended to $\mathbf{D}^n$ by mapping the boundary of the disk to $(1,0,\dots,0)$. Thus a CW complex for $S^n$ consists of a one cell and a zero cell. The corresponding inductive construction takes $X_0 = \{ x_0 \}$, and attaches $\mathbf{D}^n$ to the point via the trivial map $f: \mathbf{D}^n \to \{ x_0 \}$. This follows because $S^n \cong \mathbf{D}^n / \partial \mathbf{D}^n$.
\end{example}

\begin{example}
    Real projective space $\mathbf{R} \mathbf{P}^n$ has a CW decomposition. The space is the quotient of all lines through the origin in $\mathbf{R}^{n+1}$.
    %
    \[ \mathbf{R} \mathbf{P}^n = (\mathbf{R}^{n+1} - \{ 0 \})/ ({x \sim \lambda x : \lambda \in \mathbf{R} - \{ 0 \}, x \in \mathbf{R}^{n+1}} - \{ 0 \}) \]
    %
    The space may also be described, by throwing away redundant points, as
    %
    \[ \mathbf{R} \mathbf{P}^n \cong S^n / {(x \sim -x : x \in S^n)} \]
    %
    First, we notice that we may throw away half the points on the sphere, keeping only the top hemisphere of the sphere. Flattening this, we obtain that
    %
    \[ \mathbf{R} \mathbf{P}^n \cong \mathbf{D}^n / {(x \sim -x : x \in \partial \mathbf{D}^n)} \]
    %
    But $\partial \mathbf{D}^n \cong S^{n-1}$, and $\mathbf{R} \mathbf{P}^{n-1}$ is obtained from $S^{n-1}$ by attaching opposite points, so essentially
    %
    \[ \mathbf{R} \mathbf{P}^n = \mathbf{D}^n \coprod_f \mathbf{R} \mathbf{P}^{n-1} \]
    %
    where $f: \partial \mathbf{D}^n \to \mathbf{R} \mathbf{P}^{n-1}$ is just the projection map onto the quotient. Since $\mathbf{R} \mathbf{P}^1 \cong S^1$ is a $1$-dimensional CW complex, by a recursive construction, $\mathbf{R} \mathbf{P}^n$ is obtained from an $n-1$ dimensional CW complex by attaching a single $n$-dimensional unit disk. It is interesting to take this to the extreme, and consider
    %
    \[ \varinjlim \mathbf{R} \mathbf{P}^n = \mathbf{R} \mathbf{P}^\infty \]
    %
    This CW complex can be seen as the set of lines in $\mathbf{R}^\infty$ through the origin.
\end{example}

\begin{example}
    One can also consider complex projective space
    %
    \[ \mathbf{C} \mathbf{P}^n = (\mathbf{C}^{n+1} - \{ 0 \}) / {(x \sim \lambda x : \lambda \in \mathbf{C} - \{ 0 \}, x \in \mathbf{C}^{n+1} - \{ 0 \})} \]
    %
    As with real projective space, we can flatten out the quotient to the sphere
    %
    \[ \mathbf{C} \mathbf{P}^n = S^{2n+1} / {(x \sim \lambda x : |\lambda| = 1, x \in S^{2n + 1})} \]
    %
    One throws away duplicated points to obtain that the space is really
    %
    \[ \mathbf{C} \mathbf{P}^n = \mathbf{D}^{2n} / {(x \sim \lambda x : x \in \partial \mathbf{D}^{2n}, |\lambda| = 1)} \]
    %
    But, as with the real case, we can write $\mathbf{C} \mathbf{P}^n = \mathbf{D}^{2n} \cup_f \mathbf{C} \mathbf{P}^{2n - 1}$, where the map $f: \partial \mathbf{D}^{2n} \to \mathbf{C} \mathbf{P}^{2n-1}$ is just the projection, since $\partial \mathbf{D}^{2n} = S^{2n-1}$. We can then constructively build up a CW complex for all $\mathbf{C} \mathbf{P}^n$, since $\mathbf{C} \mathbf{P}^1 \cong S^2$ is a CW complex. It is interesting to note that the CW complex of $\mathbf{C} \mathbf{P}^{2n}$ can be constructed only using even dimensional disks, which somehow reflects the orientable structure of the space.
\end{example}

A {\bf subcomplex} of a CW complex $(X,\mathcal{C})$ is a closed subspace $A$ of $X$ which is the union of some number of cells in $X$. Another way to describe such a subcomplex is a space which is the union of cells in $\mathcal{C}$ such that if $e$ is a cell in $A$, then all cells in $\text{im}(f_e)$ are in $A$. A tuple $(X,A)$, where $A$ is a subcomplex of $X$, is known as a {\bf CW pair}. Particular examples include $(\mathbf{C} \mathbf{P}^i, \mathbf{C} \mathbf{P}^j)$ and $(\mathbf{R} \mathbf{P}^i, \mathbf{R} \mathbf{P}^j)$, for $i > j$.

\begin{example}
    $S^i$ is a subcomplex of $S^j$ if we give $S^i$ a different CW structure, since $S^{n+1}$ can be obtained from a CW complex for $S^n$ by attaching two copies of $\mathbf{D}^n$ at the boundary. We may then consider
    %
    \[ S^\infty = \varinjlim S^n \]
    %
    it can also be described as the subspace space of all sequences $(x_0, x_1, \dots )$ of real numbers in $l_2(\mathbf{R})$ which are eventually zero, and such that $\sum x_i^2 < \infty$. $\mathbf{R} \mathbf{P}^\infty$ can be constructed from $S^\infty$ in the obvious way. For a unit ball $S^\infty$ is very strange. For instance, $S^\infty$ is contractible space.
\end{example}

\begin{theorem}
    A compact subset of a CW complex $X$ is contained in a finite subcomplex.
\end{theorem}
\begin{proof}
    If the compact subset contains points in infinitely many distinct cells, then the sequence formed from these points cannot converge, for every point has a neighbourhood which contains at most  finitely many of these points, so the subset cannot be sequentially compact, hence not compact.
\end{proof}

\begin{example}
    Let $c:[0,1] \to \Gamma$ be a path between two vertices $v$ and $w$ in a graph $\Gamma$. Then the image of $c$ is compact, and thus passes through only finitely many corresponds to a unique discrete sequence of edges in $X$ connecting $v$ and $w$ -- the paths you normally talk about when discussing graphs.
\end{example}

\section{Topological Operations on Complexes}

There are some useful topological operations we shall use in the sequel, which can be applied to CW complexes, producing canonical CW decompositions of the topological product in the process. Consider two complexes $(X,\mathcal{C})$ and $(Y,\mathcal{D})$. We shall form the product complex $(X \times Y, \mathcal{C} \times \mathcal{D})$, where if $e$ is a $n$ cell in $X$, and $e'$ is an $m$ cell in $Y$, then $e \times e'$ is an $n + m$ cell in $X \times Y$. These cells cover $X \times Y$. One verifies the properties of a CW complex quite simply. The only problem is that this construction has a slightly weaker topology than the product topology, in the case when we take infinite dimensional CW complexes. This rarely causes problems.

Let $(X,A)$ be a CW pair, where $X$ has a decomposition $\mathcal{C}$, and $A$ a decomposition $\mathcal{D}$. We shall decompose $X/A$ in a canonical way relative to this decomposition. Let
%
\[ \mathcal{E}_0 = \mathcal{C}_0 - \mathcal{D}_0 \cup \{ \pi(A) \} \]
\[ \mathcal{E}_i = \mathcal{C}_i - \mathcal{D}_i \]
%
where the attaching maps are just the projections $\mathbf{D}^n \to X \to X/A$. They are easily checked to satisfy the CW properties.

Most other constructions are obtained from composing products and quotients in a certain way. The {\bf suspension} of a space $X$ is $SX$ is the quotient space of $X \times [0,1]$ obtained by collapsing $X \times \{ 0 \}$ and $X \times \{ 0 \}$ separately. For example, $S[0,1]$ takes the form of a diamond like shape. A nice example is that $SS^n = S^{n+1}$, so the notation magically fits. If we just collapse $X \times \{ 0 \}$, we obtain the cone $CX$. Suspension is useful for if we have a map $f:X \to Y$, we obtain a map $Sf: SX \to SY$ obtained from the quotient of $f \times \text{id}$.

The {\bf join} of two spaces $X$ and $Y$, denoted $X*Y$, is the quotient of $X \times Y \times [0,1]$ which identifies $(x,y,0)$ and $(x',y,0)$, and $(x,y,1)$ and $(x,y',1)$. The space can be regarded as the set of all formal linear sums $tx + uy$, such that $t + u = 1$, such that $0x + y = y$, and $x + 0y = x$.

A rather trivial operation, but still useful, is the wedge sum, defined as $X \vee Y$, which is the quotient space of $X \coprod Y$ such that some points $x$ and $y$ are collapsed together. Provided $x$ and $y$ are in the zero skeletons of the complexes they are contained in, $X \vee Y$ is a CW complex.

\end{document}









\begin{theorem}
    If $X$ has a strong deformation retract to $\{ x \}$, then every neighbourhood $U$ has a subneighbourhood $V$ such that the inclusion $V \to U$ is nullhomotopic.
\end{theorem}
\begin{proof}
    Let $H: X \times [0,1] \to X$ be the deformation retract of $X$ onto $\{ x \}$. Then $H^{-1}(U)$ is open, and contains the slice $\{ x \} \times [0,1]$. By the tube lemma, there is an open set $V$ such that $H_t(V) \subset U$ for all $t$. But then this means that $H|_V$ is a homotopy between the inclusion of $V$ into $U$ and $\{ x \}$.
\end{proof}

\begin{theorem}
    Consider the space
    %
    \[ X = [0,1] \cup \bigcup_{a \in \mathbf{Q}} \{ a \} \times [0,1-a] \]
    %
    Show $X$ deformation retracts to any point in $[0,1]$, but not to any other point.
\end{theorem}
\begin{proof}
    We have a deformation retract from $X$ to $[0,1] \times \{ 0 \}$, obtained from the deformation retract from $[0,1]^2$ onto $[0,1] \times \{ 0 \}$ which `squishes' the set down. We can then deformation retract $[0,1] \times \{ 0 \}$ to any point in this set.

    If $x$ is any other point in $X$, then $U = X \cap [0,1] \times (0,1]$ is an open neighbourhood of $x$. Every neighbourhood of $x$ contained in $U$ contains infinitely many disconnected components, hence the inclusion is not nullhomotopic and thus we cannot have a strong deformation retract to $x$.
\end{proof}