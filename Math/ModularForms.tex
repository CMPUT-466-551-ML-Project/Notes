\input{../style.tex}

\DeclareMathOperator{\Dom}{Dom}

\title{Modular Forms}
\author{Jacob Denson}

\begin{document}

\pagenumbering{gobble}

\maketitle

\tableofcontents

\pagenumbering{arabic}

\chapter{Modular Forms}

\section{An Example From Number Theory}

Here is an interesting problem of number theory. The number 4 can written in 5 different ways as the sum of positive integers
%
\begin{align*}
    4\\
    1 + 3\\
    2 + 2\\
    1 + 1 + 2\\
    1 + 1 + 1 + 1
\end{align*}
%
The number 5 can be written in 7 different ways
%
\begin{align*}
    5\\
    4 + 1\\
    3 + 2\\
    3 + 1 + 1\\
    2 + 2 + 1\\
    2 + 1 + 1 + 1\\
    1 + 1 + 1 + 1 + 1
\end{align*}
%
We define the partition function $P(n)$ to be the number of ways a number $n$ can be written as the sum of positive integers. The challenge is to determine the properties of $P(n)$, since we are very unlikely to find an exact formula for the function. Thus $P(4) = 5$. The order of terms is irrelevant, so we normally assume the numbers are written in ascending or descending order. By bundling numbers which are repeated together, we can also define $P(n)$ as the number of ways we can write $n = \sum_{k = 1}^\infty k a_k$, where $a_k \geq 0$. For $4$, we have
%
\begin{align*}
    1 \cdot 4\\
    1 \cdot 1 + 1 \cdot 3\\
    2 \cdot 2\\
    2 \cdot 1 + 1 \cdot 2\\
    4 \cdot 1
\end{align*}
%
If we consider the infinite product
%
\[ \prod_{n = 1}^\infty \frac{1}{1 - q^n} = \prod_{n = 1}^\infty (1 + q^n + q^{2n} + \dots) = \sum_{n = 0}^\infty p_n q^n \]
%
which converges for $|q| < 1$, we see that $p_n = P(n)$. Thus $\eta$ `encodes' the partition function in someway. It turns out the Dedekind-Eta function
%
\[ \eta(q) = q^{\frac{1}{24}} \prod_{n = 1}^\infty (1 - q^n) \]
%
undoubtably linked to the partition function, is what is called a Modular form, an object with a beautiful general theory, which enables us to understand the properties of $\eta$, and thus of the partition function. These `modular forms' also occur when counting curves in algebraic geometry, and when understanding the dimensions of finite simple groups, so they are an incredibly useful object to study. Because they occur so often in mathematics, the number theorist Joseph Eichler has been told to have said that there are five fundamental arithmetical operations -- addition, subtraction, multiplication, division, and modular forms.

\section{The Modular Group}

The nicest holomorphic functions on $\mathbf{C}^\infty$ are the M\"{o}bius transformations, obtained via an action from $GL_2(\mathbf{C})$ by the map
%
\[ \begin{pmatrix} a & b \\ c & d \end{pmatrix}(z)  = \frac{az + b}{cz + d} \]
%
\[ \begin{pmatrix} a & b \\ c & d \end{pmatrix}(\infty) = \lim_{z \to \infty } \frac{az + b}{cz + d} = \frac{a}{c} \]
%
The kernel of the representation is $K = \left\{ \left( \begin{smallmatrix} a & 0 \\ 0 & a \end{smallmatrix} \right) : a \in \mathbf{C} - \{ 0 \} \right\}$. Indeed, if $\left( \begin{smallmatrix} a & b \\ c & d \end{smallmatrix} \right) \in K$ then $b = 0$, for $M(0) = b/d = 0$. Similarily, $M(\infty) = a/c = \infty$, so $c = 0$. But then the transformation is of the form $z \mapsto (a/d) z$, so $a = d$. From $K$, we define the projective linear group
%
\[ PGL_2(\mathbf{C}) = GL_2(\mathbf{C})/K \]
%
which now acts faithfully on $\mathbf{C}^\infty$.

Modular forms arise from a study of the actions of certain M\"{o}bius transformations on the hyperbolic plane. We shall take the upper half of the complex plane, denoted $\mathbf{H}$, as our model, whose `straight lines' consist of circular arcs passing through the origin. The biholomorphisms of $\mathbf{H}$ are exactly the M\"{o}bius transformations obtained from matrices with determinant one, and can therefore be described as the image of $SL_2(\mathbf{R})$ in $PGL_2(\mathbf{C})$, denoted $PSL_2(\mathbf{R})$ and called the projective special linear group. The special linear group maps the upper half plane to itself because if $ad - bc = 1$,
%
\begin{align*}
    \Im \left( \frac{az + b}{cz + d} \right) &= \frac{1}{2i} \frac{(az + b)(c\overline{z} + d) - (a\overline{z} + b)(cz + d)}{|cz + d|^2}\\
    &= \frac{1}{2i} \frac{z - \overline{z}}{|cz + d|^2} = \frac{\Im(z)}{|cz+d|^2}
\end{align*}
%
We shall, perhaps by a little notational abuse, denote an element of $PSL_2(\mathbf{R})$ as an ordinary matrix, even though elements of the group are really cosets. Note that the kernel of $SL_2(\mathbf{R})$ under the M\"{o}bius transformation representation is only $\{ \pm 1 \}$, so two matrices have equal actions on the Riemann sphere if and only if they can be obtained from one another by negation.

We define the modular group $\Gamma = PSL_2(\mathbf{Z})$ to be the discrete counterpart to the projective special linear group. To understand $\Gamma$, we study it's action on $\mathbf{H}$. One such way is to determine the equivalence classes of the orbits of $\Gamma$. A {\bf fundamental region} of a group action on $\mathbf{C}$ is a subset $D \subset \mathbf{H}$ which contains a point in every orbit, which is unique to that orbit, except perhaps if it is on the boundary of $D$. Then $D$ `represents' the group action in some fashion, by paramaterizing it's orbit space. Perhaps the most `fundamental' fundamental region is the set
%
\[ D = \{ z \in \mathbf{H} : |z| \geq 1, |\Re(z)| \leq 1/2 \} \]
%
\begin{center}
\includegraphics[scale=0.5]{fundamentaldomain.png}
\end{center}
%
This image shows $D$'s image under two important elements of $\Gamma$,
%
\[ S = \begin{pmatrix} 0 & -1 \\ +1 & 0 \end{pmatrix}\ \ \ \ \ \ \ \ \ \ T = \begin{pmatrix} 1 & 1 \\ 0 & 1 \end{pmatrix} \]
%
which induce the maps $z \mapsto -1/z$ and $z \mapsto z + 1$ on $\mathbf{H}$.

\begin{theorem}
    Let $D$ be the region described above.
    %
    \begin{enumerate}
        \item For any $z \in \mathbf{H}$, there is $\gamma \in \Gamma$ for which $\gamma(z) \in D$.
        \item If $\gamma(z) = w$, and $z,w \in D$, then $z$ and $w$ both occur on the boundary of $D$ and are obtained from each other by reflection in the $y$ axis.
        \item For each $z$, the stabilizers $\Gamma_z$ are trivial except that
        %
        \begin{align*}
            \Gamma_i &= \{ 1, S \}\\
            \Gamma_{e^{\pi i/3}} &= \{ 1, ST, (ST)^2 \}\\
            \Gamma_{e^{2 \pi i/3}} &= \{ 1, TS, (TS)^2 \}
        \end{align*}
    \end{enumerate}
\end{theorem}
\begin{proof}
    Let $G = \langle S,T \rangle$. If $D$ really was a fundamental region, then we could identify the point in $D$ corresponding to each orbit $\Gamma x$ by taking the point in the strip $|\Re(z)| < 1$ such that $|\Im(\Gamma x)|$ is maximized. Since
    %
    \[ \Im(\gamma z) = \frac{\Im(z)}{|cz+d|^2} \]
    %
    Maximizing $\Im(\gamma z)$ happens by minimizing $|cz + d|$. For each $M$, there are only finitely many matrices with $|cz + d| < M$. We have
    %
    \[ |cz + d| \geq \Im(z) |c|\ \ \ \ \ \ \ \ \ \ |cz + d| \geq |c \Re(z) + d| \geq |d| - |c \Re(z)| \]
    %
    There are only finitely many integers $c$ for which $\Im(z) |c| < M$, and therefore only finitely many values of $d$ for which $|d| - |c \Re(z)| < M$. Let $\gamma$ maximize the value of $\Im(z)$. Without loss of generality, we may assume $|\Re(\gamma z)| < 1/2$, for otherwise we may apply $T$ to transport $\gamma z$ to this strip, without affecting the imaginary part. If $|\gamma z| < 1$, then
    %
    \[ \Im(S \gamma z) = \frac{\Im(\gamma z)}{|\gamma z|} > \Im(z) \]
    %
    contradicting the maximality of $\gamma$, so $\gamma z \in D$, and we have proved (i).

    Now suppose that for $z,w \in D$,
    %
    \[ \gamma z = \frac{az + b}{cz + d} = w \]
    %
    We may assume $\Im(w) \geq \Im(z)$. Since
    %
    \[ \Im(w) = \frac{\Im(z)}{|cz + d|^2} \]
    %
    $|cz + d| \leq 1$. Since $z \in D$, $\Im(z) \geq \sqrt{1/2}$, so $|c| \leq \sqrt{2} < 2$, and we can split the proof into two cases ($c = \pm 1$ or $c = 0$):

    \begin{itemize}
        \item First assume $c = 0$. Then
        %
        \[ \gamma = \begin{pmatrix} a & b \\ 0 & a^{-1} \end{pmatrix} \]
        %
        since $a$ and $a^{-1}$ are integers, we must have $a = \pm 1$, and we might as well let $a = 1$, since $\gamma = - \gamma$ in $PSL_2(\mathbf{R})$. Then
        %
        \[ w = z + b \]
        %
        Now $|b| = |\Re(z-w)| \leq 1$, so either $b = 0$, and $w = z$, $b = 1$, and $w = z + 1$, or $b = -1$, and $w = z - 1$.

        \item Assume $c = 1$ (if $c = -1$, replace $\gamma$ with $-\gamma$). We must have
        %
        \[ |z + d|^2 = \Im(z)^2 + (\Re(z) + d)^2 \leq 1 \]
        %
        One possibility is that $d = 0$, so that $z \in \partial D \cap S^1$. Because
        %
        \[ \gamma = \begin{pmatrix} a & -1 \\ 1 & 0 \end{pmatrix} \]
        %
        $w = a - 1/z$. Now $-1/z \in D$ is also on the unit circle, so either $a = 0$, and $w = -1/z$, which is a just a reflect in the $y$ axis, $a = 1$, $z = e^{i\pi/3}$, $w = z$, and $\gamma = ST$, or $a = -1$, $z = e^{2i\pi/3}$, $w = z$, and $\gamma = S^{-1}T = (TS)^2$.

        If $d = 1$, then
        %
        \[ \gamma = \begin{pmatrix} a & a-1 \\ 1 & 1 \end{pmatrix} \]
        %
        So
        %
        \[ w = \frac{az + (a-1)}{z + 1} = a - \frac{1}{z+1} \]
        %
        Now $|z+1| \geq 1$ if $z \in D$, so $|\frac{1}{z+1}| \leq 1$, and $a - \frac{1}{z+1}$ is in $D$ if and only if $a = 0$, $z = e^{2\pi i/3}$, $w = z$, and $\gamma = TS$. If $a = 1$, $- \frac{1}{z+1} = e^{2\pi i/3}$, so $z = e^{2 \pi i/3}$, and $w = e^{\pi i/3}$. If $a = -1$, $- \frac{1}{z+1} = e^{\pi i/3}$, which implies $z = e^{2 \pi i/3} - 1 \not \in D$.

        Finally, let $d = -1$. Then
        %
        \[ \gamma = \begin{pmatrix} a & -(1 + a) \\ 1 & -1 \end{pmatrix} \]
        %
        so
        %
        \[ w = \frac{az - (1+a)}{z-1} = a - \frac{1}{z-1} \]
        %
        As before, $|z-1| \geq 1$ if $z \in D$, so $|\frac{1}{z-1}| \leq 1$. Either $a = 0$, in which case $|z-1| = 1$, so $z = w = e^{\pi i/3}$, $\gamma = TS^{-1} = (ST)^2$, or $a = 1$, in which case $\frac{-1}{z-1} = e^{2\pi i/3}$, implying $z = e^{2\pi i/3}$, $w = e^{\pi i/3}$, or $a = -1$, in which case $\frac{-1}{z-1} = e^{\pi i/3}$, which would imply $z = e^{2\pi i/3} - 1 \not \in D$.
    \end{itemize}
    %
    We have addressed all cases, which shows that (ii) and (iii) hold.
\end{proof}

\begin{corollary}
    $PSL_2(\mathbf{R})$ is generated by $S$ and $T$.
\end{corollary}
\begin{proof}
    Given $\gamma \in PSL_2(\mathbf{R})$ pick $z$ in the interior of $D$, and let $w = \gamma z$. We have verified in the above proof that there is $\phi \in G$ for which $\phi w \in D$, and since the orbit is unique on the interior of $D$, $\phi w = z$. But then $\phi \gamma \in \Gamma_z = \{ I \}$, so $\phi = \gamma^{-1}$, and so $\gamma \in G$.
\end{proof}

\section{Congruence Subgroups}

An important family of subgroups of $\Gamma$ are the principal congruence subgroups
%
\[ \Gamma(N) = \left\{ \begin{pmatrix} a & b \\ c & d \end{pmatrix} : a \equiv d \equiv 1, b \equiv c \equiv 0\ \ \text{modulo N} \right\} \]
%
It can be seen as the kernel of reduction of the coefficients of $\Gamma$ modulo $N$, giving us the exact sequence
%
\[ 0 \to \Gamma(N) \to \Gamma \to SL_2(\mathbf{Z}_n) \to 0 \]
%
A congruence subgroup of $\Gamma$ is one which contains a principal congruence subgroup. Two important examples are
%
\[ \Gamma_0(N) = \left\{ \begin{pmatrix} a & b \\ c & d \end{pmatrix} : c \equiv 0\ \text{modulo}\ N \right\} \]
\[ \Gamma_1(N) = \left\{ \begin{pmatrix} a & b \\ c & d \end{pmatrix} \in \Gamma_0(N) : a \equiv d \equiv 1\ \text{modulo}\ N \right\} \]
%
The matrices of $\Gamma_1(N)$ reduced modulo $N$ are written in the form
%
\[ \begin{pmatrix} 1 & a \\ 0 & 1 \end{pmatrix} \]
%
for $a \in \mathbf{Z}_n$, and the matrices in the image $\Gamma_0(N)$ are exactly the upper triangle matrices modulo $N$.

As we work with fewer and fewer elements of $\Gamma$, the action of $\Gamma$ on $\mathbf{H}$ gets weaker and weaker, and the fundamental domain gets larger and larger. As an example, let's compute the fundamental domain of $\Gamma(2)$. The index of $\Gamma$ in $\Gamma(2)$ is easily computed to be
%
\[ [\Gamma: \Gamma(2)] = |SL_2(\mathbf{Z}_2)| = 6 \]
%
Thus we may write $\Gamma = \bigcup_{i = 1}^6 \gamma_i \Gamma(2)$ as the disjoint union of cosets, for some $\gamma_i \in \Gamma$. We can choose these $\gamma_i$ to be
%
\[ \gamma_1 =  \begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix}\ \ \ \ \gamma_2 =  \begin{pmatrix} 1 & 1 \\ 0 & 1 \end{pmatrix}\ \ \ \ \gamma_3 =  \begin{pmatrix} 0 & -1 \\ 1 & 0 \end{pmatrix} \]
\[ \gamma_4 =  \begin{pmatrix} 1 & -1 \\ 1 & 0 \end{pmatrix}\ \ \ \ \gamma_5 =  \begin{pmatrix} 0 & -1 \\ 0 & 1 \end{pmatrix}\ \ \ \ \gamma_6 =  \begin{pmatrix} 0 & -1 \\ 1 & 0 \end{pmatrix} \]
%
Since these elements are differ modulo $2$. It then follows that we have a fundamental domain
%
\[ D_2 = \bigcup_{i = 1}^6 \gamma_i^{-1} D \]
%
\begin{center}
\includegraphics[scale=0.4]{fundamentaldomain2.png}
\end{center}
%
Certainly it contains a point in every orbit. It remains to check that repeated points occur only on the boundary, but I think it's pretty tedious to check this. The points $0$, $1$, and $\infty$ are known as cusps, for they are places where the fundamental domain can `go off to infinity'. $D$ only has one cusp, the one at $\infty$.

\section{Modular Forms}

A meromorphic function $f: \mathbf{H} \to \mathbf{C}$ is {\bf weakly modular} of weight $k$ (where $k$ is an even integer) such that for any $\phi = \left(\begin{smallmatrix} a & b \\ c & d \end{smallmatrix}\right) \in \Gamma$,
%
\[ f(\phi(z)) = f(z) (cz + d)^k \]
%
We assume $k$ is even, for otherwise this condition tells us that $f(z) = 0$ when $\phi(z) = -z$.

Since
%
\begin{align*}
    \phi'(z) &= \left( \frac{az + b}{cz + d} \right) \left( \frac{a}{az + b} - \frac{c}{cz + d} \right)\\
    &= \left( \frac{az + b}{cz + d} \right) \frac{1}{(az + b)(cz + d)}\\
    &= \frac{1}{(cz + d)^2}
\end{align*}
%
we can write
%
\[ \frac{f(\phi(z))}{f(z)}  = (cz + d)^k = \phi'(z)^{-k/2} \]
%
which we see as a relation between differential forms.
%
\[ \phi_*(f dz^{k/2}) = (f \circ \phi) (\phi')^{k/2} dz^{k/2} = f dz^{k/2} \]
%
The structure of $SL_2(\mathbf{Z})$ we have determined simplifies the verification of the transformation of a modular function.

\begin{theorem}
    $f$ is weakly modular of weight $k$ if and only if
    %
    \[ f(z + 1) = f(z) \]
    \[ f(-1/z) = z^k f(z) \]
\end{theorem}
\begin{proof}
    Certainly the relations hold if $f$ is weakly modular. Conversely, suppose $f$ satisfies the relations, and define
    %
    \[ G = \left\{ \begin{pmatrix} a & b \\ c & d \end{pmatrix} \in \Gamma : f\left(\frac{az + b}{cz + d}\right) = (cz + d)^k f(z) \right\} \]
    %
    Certainly $S, T$, and $T^{-1}$ are in $G$. If $M = \begin{pmatrix} a & b \\ c & d \end{pmatrix} \in G$ and $N = \begin{pmatrix} m & n \\ o & p \end{pmatrix}$, then
    %
    \[ MN = \begin{pmatrix} am + bo & an + bp \\ cm + do & cn + dp \end{pmatrix} \]
    %
    and we know
    %
    \[ f\left( MN(z) \right) = (cNz + d)^k f(Nz) = (cNz + d)^k (oz + p)^k f(z) \]
    %
    since
    %
    \[ (cNz + d)(oz + p) = d(oz + p) + c(mz + n) = (cm + do)z + (cn + dp) \]
    %
    so $MN \in G$. We conclude that all monomials in the variables $T, T^{-1}, S$ are in $G$. But all elements of $\Gamma$ are of this form, so $G = \Gamma$.
\end{proof}

A weakly modular function is periodic, so we may consider the map
%
\[ g(z) = e^{2 \pi i z} \]
%
which maps $\mathbf{H}$ holomorphically onto the punctured unit disk. We may then expand $f \circ g^{-1}$ at the origin in a Laurent series, leading to an expansion of $f$ of the form
%
\[ f(z) = \sum_{k = -\infty}^\infty a_k e^{2 \pi i k z} \]
%
We normally write $q = e^{2 \pi i z}$, so that we `expand $f$ in $q$' to obtain
%
\[ f(z) = \sum_{k = -n}^\infty a_k q^k \]
%
If $f$ is meromorphic at $\infty$ (so that the coefficients $a_k$ vanish for $k$ small enough), we call it a {\bf modular function} of weight $k$. If $f$ is actually holomorphic at $\infty$, so that $a_k = 0$ for $k < 0$, and is holomorphic on $\mathbf{H}$, then we call it a {\bf modular form}. If, even further, we have $a_0 = 0$, then we say that $f$ is a {\bf cusp form}, for then $f$ vanishes at $\infty$.

To obtain a geometric picture, it is useful to add a point $\infty$ at infinity on $\mathbf{H}$. If we wish for the map $z \mapsto q$ to be a homeomorphism, we put a topology on $\mathbf{H}$ by saying $z_i \to \infty$ if $\Im(z_i) \to \infty$. This is different to the topology of the Riemann sphere (if we need to explicitly identify the topology, we will often say that $z \to i \infty$ for the topology we've defined). If we wish to analyze the effects of the m\"{o}bius group on this set, then we are forced to also consider all rational points, for these points are exactly the orbit of $\infty$ under the modular group. If we now want to make the maps $\gamma \in \Gamma$ homeomorphisms, then we must let $z_i \to q$ if and only if $\gamma z_i \to i \infty$, where $\gamma$ maps $q$ to $\infty$. The points we added are known as {\bf cusps}, and are the minimal number of points needed to compactify the orbit space of $\Gamma$, and still maintain a nice theory of modular forms. We can then compactify the fundamental region to $\overline{D} = D \cup \{ \infty \}$, which is now the fundamental region of $\Gamma$ over $\overline{\mathbf{H}}$.

The sets of modular functions, forms, and cusp-forms form complex vector spaces. In addition, if $f$ is a modular function (form) of weight $k$, and $g$ a modular function (form) of weight $k'$, then $fg$ is a modular function of weight $k + k'$, and $f/g$ a function of weight $k - k'$. In particular, the set of modular forms of weight zero forms a field extension of the complex numbers.

\section{Lattices}

There is an interesting connection between the theory of modular forms and the theory of lattices. Recall that a {\bf lattice} in a finite dimensional real vector-space $V$ is an additive subgroup $L$ of $V$ such that one of the equivalent conditions holds.
%
\begin{enumerate}
    \item $L$ is discrete, and $V/L$ is compact.
    \item There is an $\mathbf{R}$ basis $e_1, \dots, e_n$ of $V$ such that $L = \mathbf{Z} e_1 \oplus \dots \oplus \mathbf{Z} e_n$.
    \item $L$ is discrete, and spans $V$.
\end{enumerate}
%
In our situation, we take $V = \mathbf{C}$, and we let $\mathcal{R}$ denote the set of all lattices on $\mathbf{C}$. Such lattices can be described by pairs of $\mathbf{R}$-independant complex numbers $(z,w) \in \mathbf{C}^2$. Given any particular pair, we let $L(z,w)$ denote the lattice generated by the two. Note that $z$ and $w$ are dependant if and only if $z/w \in \mathbf{R}$, so we may assume that $z/w \in \mathbf{H}$. We let
%
\[ M = \{ (z,w) \in \mathbf{C}^2 : z/w \in \mathbf{H} \} \]
%
And we then view $L$ as a map from $M$ to $\mathcal{R}$.

A lattice can be defined by many different pairs of complex numbers. For instance, if $w' = -z$, and $z' = w$, then $L(z,w) = L(z',w')$, and we find
%
\[ z'/w' = -w/z = S(z/w) \]
%
Furthermore, if we let $z' = z + w$ and $w' = z$, then $L(z',w') = L(z,w)$ and
%
\[ z'/w' = z/w + 1 = T(z/w) \]
%
So we begin to see that $\Gamma$ gives us information about the various bases of any particular lattice. Indeed, if $M = \left( \begin{smallmatrix} a & b \\ c & d \end{smallmatrix} \right) \in \Gamma$, and $(z',w') = M(z,w)$ (where we define the action of $\Gamma$ on $M$ in the obvious way), then $L(z', w') = L(z, w)$, because $(z,w) = M^{-1}(z',w')$. What's more,
%
\[ z'/w' = \frac{az + bw}{cz + dw} = \frac{a(z/w) + b}{c(z/w) + d} = M(z/w) \]

\begin{theorem}
    If $z/w, z'/w' \in \mathbf{H}$, then $L(z,w) = L(z',w')$ if and only if $(z,w)$ is congruent to $(z',w')$ relative to $\Gamma$.
\end{theorem}
\begin{proof}
    If $L(z,w) = L(z',w')$, we can write
    %
    \[ z' = az + bw\ \ \ \ \ w' = cz + dw \]
    %
    It then follows that
    %
    \[ z = \frac{az' - bw'}{ad - bc}\ \ \ \ \ w = \frac{dw' - cz'}{ad-bc} \]
    %
    Since all of the coefficients of these relations must be integer valued, we have $ad - bc \divides a,b,c,d$. We may assume the $a,b,c,d$ are relatively prime, for if we write $a = \lambda a_1$, $b = \lambda b_1$, $c = \lambda c_1$, and $d = \lambda d_1$, with $a_1, b_1, c_1$, and $d_1$ relatively prime, we find
    %
    \[ z = \frac{1}{\lambda} \frac{a_1 z' - b_1 w'}{a_1 d_1 - b_1 c_1} \ \ \ \ \ w =  \frac{1}{\lambda} \frac{d_1 w' - c_1 z'}{a_1 d_1 - b_1 c_1} \]
    %
    from which we conclude that $\lambda \divides a_1, b_1, c_1, d_1$ again, hence $\lambda = 1$. It then follows that $ad - bc = \pm 1$. But if $ad - bc = -1$, we find $z'/w'$ and $z/w$ lie on opposite sides of the complex plane, contradicting the fact that they both lie on $\mathbf{H}$. Thus we find $(z',w') = M(z,w)$ for $M \in \Gamma$, and then $z'/w' = M(z/w)$.
\end{proof}

We can therefore identify $\mathcal{R}$ with $M/\Gamma$. Now $C^*$ acts on $\mathcal{R}$ by scaling the lattice. We can identify $M/\mathbf{C}^*$ with $\mathbf{H}$, by the quotient map $(z,w) \mapsto z/w$. Under this identification the action of $\Gamma$ on $M$ is identified with the action of $M$ on $\mathbf{H}$ via M\"{o}bius transformations, so we find there is a bijection between $\mathcal{R}/C^*$ and $\mathbf{H}/\Gamma$.

We use these observations to construct modular functions from lattices. Let $F$ be a complex valued function on $\mathcal{R}$. $F$ is a modular function of weight $k$ if $F(\lambda L) = \lambda^{-k} F(L)$. Then, pulling back, $F$ defines a function on $M$ by $F(z,w) = F(L(z,w))$, and $F$ satisfies $F(\lambda z, \lambda w) = \lambda^{-k} F(z,w)$, $F(\gamma (z,w)) = F(z,w)$ for $\gamma \in \Gamma$. Choosing the right value of $\lambda$ tells us that
%
\[ F(z,w) = w^{-k} F(z/w, 1) \]
%
Defining $f(z) = F(z,1)$, and understanding the $\Gamma$ invariance of $F$ shows
%
\[ f \left( \frac{az + b}{cz + d} \right) = F \left( \frac{az + b}{cz + d}, 1 \right) = (cz + d)^k F(az + b, cz + d) = (cz + d)^k f(z) \]
%
So $f$ is a modular function. Conversely, a modular function gives rise to a modular function on lattices.

\section{Eisenstein Series}

To build up a larger family of modular forms, let's build some concrete examples.

\begin{lemma}
    Let $L$ be a lattice in $\mathbf{C}$. Then
    %
    \[ \sum_{\substack{z \in L \\ z \neq 0}} \frac{1}{|z|^s} \]
    %
    converges for $s > 2$.
\end{lemma}
\begin{proof}
    Let $L = L(z,w)$. Assume that $z/w$ is in the upper half of the plane and has non-negative real part (for the sum for $z/w$ reflected in the $y$-axis is the same as the sum for $z/w$). Let $w = s/2$. Then, for $s > 2$,
    %
    \begin{align*}
        \sum_{(n,m) \neq 0} \frac{1}{|m(z/w) + n|^s} &\leq \sum_{(n,m) \neq 0} \frac{1}{(m^2|z/w|^2 + n^2)^w}\\
        &\leq \int_{x^2 + y^2 \geq 1} \frac{dx\ dy}{(|z/w|^2 x^2 + y^2)^w}\\
        &= |w/z| \int_{u^2 |w/z|^2 + y^2 \geq 1} \frac{du dx}{(u^2 + y^2)^w}\\
        &\leq |w/z| \int_{u^2 + y^2 \geq \varepsilon} \frac{du dx}{(u^2 + y^2)^w}\\
        &= 2 \pi |w/z| \int_{r = \varepsilon}^\infty r^{1-2w} dr < \infty
    \end{align*}
\end{proof}

This series gives us a modular function on the set of lattices. Namely, for even $k > 2$, we define
%
\[ G_k(L) = \sum_{\substack{z \in L \\ z \neq 0}} \frac{1}{|z|^k} \]
%
These give rise to modular functions on $\mathbf{H}$ of the form
%
\[ G_k(z) = \sum_{(n,m) \neq 0} \frac{1}{(mz + n)^{k}} \]
%
These functions are known as Eisenstein series.

\begin{theorem}
    $G_k$ is a modular form of weight $k$, and $G_k(i \infty) = 2 \zeta(k)$, where $\zeta$ is the Riemann-Zeta function.
\end{theorem}
\begin{proof}
    We know that $G_k$ satisfies the symmetry condition defining modular functions, but we now need to show that it is holomorphic everywhere. Let $z$ be a point in the fundamental domain. Notice that
    %
    \begin{align*}
        |mz + n|^2 &= (mz + n)(m \overline{z} + n)\\
        &= m^2 |z|^2 + 2mn \Re(z) + n^2\\
        &\geq m^2 + n^2 - mn = |m \rho + n|^2
    \end{align*}
    %
    \[ |m(z + k) + n)|^2 \geq |m \rho + (mk+n)|^2 \]
    %
    \[ |-m/z + n|^2 = \frac{1}{|z|^2} |n - mz|^2 \geq \frac{1}{|z|^2} |n - m \rho|^2 \]
    %
    This implies that the series
    %
    \[ \sum_{(n,m) \neq 0} \frac{1}{(mz + n)^{k}} \]
    %
    converges uniformly on $D$ (and by the inequalities, it converges uniformly on a sufficiently small neighbourhood containing all boundary points). It is easy to see this implies the function is holomorphic everywhere. Finally, by uniform convergence on $D$,
    %
    \begin{align*}
        G_k(i \infty) &= \lim_{z \to i \infty} \sum_{(m,n) \neq 0} \frac{1}{(mz + n)^{k}} = \sum_{(m,n) \neq 0} \lim_{z \to i \infty} \frac{1}{(mz + n)^{k}}\\
        &= \sum_{n \neq 0} \frac{1}{n^{k}} = 2 \zeta(2k)
    \end{align*}
    %
    which is exactly what we wanted to prove.
\end{proof}

\begin{example}
    It is known that
    %
    \[ \zeta(4) = \frac{4 \pi^4}{180}\ \ \ \ \zeta(6) = \frac{8 \pi^6}{3780} \]
    %
    If we define $g_2 = 60 G_4$, $g_3 = 140 G_6$, and $\Delta = (60 G_4)^3 - 27 (140 G_6)^2$ (the coefficients emerge from the theory of elliptic curves), then we find that $\Delta$, a modular form of order 12, satisfies $\Delta(i \infty) = 0$, so $\Delta$ is a cusp form.
\end{example}

It turns out that the coefficients of the $G_k$ represent a certain arithmetic function. Define the $k$'th divisor sum to be $\sigma_k(n) = \sum_{d \divides n} d^k$.

\begin{theorem}
    The Eisenstein series has the $q$-expansion
    %
    \[ G_k(z) = 2 \zeta(k) \left( 1 - \frac{2k}{B_k} \sum_{n = 1}^\infty \sigma_{k-1}(n) q^n \right) \]
    %
    Where $B_k$ is the $k$'th Bernoulli number, defined by
    %
    \[ \frac{x}{e^x - 1} = \sum_{k = 0}^\infty B_k \frac{x^k}{k!} \]
\end{theorem}
\begin{proof}
    The logarithmic derivative of the product formula for sine...
\end{proof}

We shall now show that all functions can be represented in terms of the eisenstein series. Recall that the order of a non-zero meromorphic function $f$ at a point $w$ is $\text{ord}(f,w)$, the integer $k$ such that $(z - w)^k f(z)$ is a holomorphic function non-zero at $w$. Note that if $f$ is a weakly modular function, then $\text{ord}(f,w) = \text{ord}(f, \gamma w)$. Certainly this is true for $\gamma = T$, since $f$ is periodic, and
%
\begin{align*}
    w^m f(-1/z + w) &= w^m f\left( -\frac{1-wz}{z} \right)\\
    &= w^m \left( \frac{z}{1 - wz} \right)^k f \left( \frac{z}{1 - wz} \right)\\
    &= \left( \frac{w (1 - wz)}{z} \right)^m \left( \frac{z}{1 - wz} \right)^k \left( \frac{z}{1 - wz} \right)^m f\left( \frac{z}{1 - wz} \right)
\end{align*}
%
This function is holomorphic at $w = 0$, provided $m$ is the order of $f(z)$, and it is nonzero at $-1/z$, so this shows that the order is preserved by $\gamma = S$. The argument then follows because $\Gamma$ is generated by $S$ and $T$. Thus we may talk about the order of a point on $\mathbf{H} / \Gamma$. We also define, for a modular function, the order at $\infty$ to be the smallest integer whose corresponding $q$-coefficent is non-zero.

\begin{theorem}
    If $f \neq 0$ is a modular function of weight $k$, then
    %
    \[ \text{ord}(f,\infty) + \sum_{p \in \mathbf{H}/\Gamma} \frac{\text{ord}(f,p)}{\Gamma_p} = \frac{k}{12} \]
\end{theorem}
\begin{proof}
    The idea of the proof results from counting zeroes and poles via integrating the logarithmic derivative. Consider the oriented curve $\alpha$ shown in the image below.
    %
    \begin{center}
    \includegraphics[scale=0.5]{k12proof.jpg}
    \end{center}
    %
    which is tall enough that the region contains one of each zero and pole in each orbit (orbits cannot go to infinity because $f$ is meromorphic there). We swerve around points $p \in \partial D$ which are zeroes and poles, such that only one of each point in the orbit class in contained in the region in question. The residue theorem performs its magic, telling us that
    %
    \[ \frac{1}{2\pi i} \int_\alpha \frac{f'(z)}{f(z)} dz = \sum_{p \in \mathbf{H}/\Gamma, p \neq i, \omega} \text{ord}(f,p) \]
    %
    Now let's calculate the integral explicitly. Let $q = e^{2 \pi i z}$ and $\tilde{f}(q) = f(z)$. Then
    %
    \[ 2 \pi i q \tilde{f}'(q) = f'(z)  \]
    %
    Thus
    %
    \[ \frac{1}{2 \pi i} \int_{HA} \frac{f'(z)}{f(z)} dz = \frac{1}{2 \pi i} \int_{\omega} \frac{\tilde{f}'(q)}{\tilde{f}(q)} dq \]
    %
    Where $\omega$ is now a clockwise rotation around the origin. The only possible poles and zeroes are at $q = 0$, so this evaluates to $- \text{ord}(f,\infty)$. $T$ takes $AB$ to $HG$, so
    %
    \[ \frac{1}{2 \pi i} \int_{AB} \frac{f'(z)}{f(z)} dz = - \frac{1}{2 \pi i} \int_{GH} \frac{f'(z)}{f(z)} dz \]
    %
    so the integrals cancel out. Similarily, $S$ takes $CD$ to $FE$, and because $f(Sz) = z^k f(z)$, we find
    %
    \begin{align*}
        \frac{1}{2 \pi i} \left( \int_{CD} \frac{f'(z)}{f(z)} - \int_{FE} \frac{f'(z)}{f(z)} dz \right) &= \frac{1}{2 \pi i} \int_{CD} \left( \frac{f'(z)}{f(z)} - \frac{f'(Sz)}{f(Sz)} \right) dz\\
        &= -\frac{2k}{2 \pi i} \int_{CD} \frac{1}{z} dz
    \end{align*}
    %
    We will be taking the limit as we shrink the radius of the circles defining $BC$, $DE$, and $FG$ to zero, in which case we trace out an angle of size $\pi/6$ in the limit, and so the value of the integral is $2k/12 = k/6$. Finally, we integrate $BC$, $FG$, and $DE$. In the limit, as we decrease the size of the circle, the circles have angles $\pi/6$, $\pi/2$, and $\pi/6$, so the path integrals integrate to $- \text{ord}(f,\omega)/6$, $- \text{ord}(f,i)/2$, and $- \text{ord}(f, -\overline{\omega})$. Summing up these integrals, and then combining them with our original deduction in terms of poles, and we obtain the needed formula.
\end{proof}

Note that this proof could have been simplified hugely by applying the theory of complex analytic structures.

\end{document}